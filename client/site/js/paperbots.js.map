{"version":3,"file":"paperbots.js","sourceRoot":"","sources":["../../src/Utils.ts","../../src/Api.ts","../../src/widgets/Events.ts","../../src/widgets/Widget.ts","../../src/language/VirtualMachine.ts","../../src/widgets/Debugger.ts","../../src/language/Parser.ts","../../src/language/Compiler.ts","../../src/BenchmarkPage.ts","../../src/widgets/Editor.ts","../../src/widgets/CanvasWorld.ts","../../src/CanvasPage.ts","../../src/widgets/Dialog.ts","../../src/widgets/RobotWorld.ts","../../src/widgets/SplitPane.ts","../../src/widgets/Docs.ts","../../src/widgets/Description.ts","../../src/ProjectPage.ts","../../src/widgets/Toolbar.ts","../../src/widgets/Player.ts","../../src/widgets/ProjectPreview.ts","../../src/DevsPage.ts","../../src/EmbeddedPage.ts","../../src/IndexPage.ts","../../src/LearnPage.ts","../../src/UserPage.ts","../../src/tests/TreeWidgetTest.ts","../../src/widgets/TreeWidget.ts"],"names":[],"mappings":"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","sourcesContent":["export class Input {\n\telement: HTMLElement;\n\tlastX = 0;\n\tlastY = 0;\n\tbuttonDown = false;\n\tcurrTouch: Touch = null;\n\n\tprivate listeners = new Array<InputListener>();\n\tconstructor (element: HTMLElement) {\n\t\tthis.element = element;\n\t\tthis.setupCallbacks(element);\n\t}\n\n\tprivate setupCallbacks(element: HTMLElement) {\n\t\telement.addEventListener(\"mousedown\", (ev: UIEvent) => {\n\t\t\tif (ev instanceof MouseEvent) {\n\t\t\t\tlet rect = element.getBoundingClientRect();\n\t\t\t\tlet x = ev.clientX - rect.left;\n\t\t\t\tlet y = ev.clientY - rect.top;\n\n\t\t\t\tlet listeners = this.listeners;\n\t\t\t\tfor (let i = 0; i < listeners.length; i++) {\n\t\t\t\t\tlisteners[i].down(x, y);\n\t\t\t\t}\n\n\t\t\t\tthis.lastX = x;\n\t\t\t\tthis.lastY = y;\n\t\t\t\tthis.buttonDown = true;\n\t\t\t}\n\t\t}, true);\n\t\telement.addEventListener(\"mousemove\", (ev: UIEvent) => {\n\t\t\tif (ev instanceof MouseEvent) {\n\t\t\t\tlet rect = element.getBoundingClientRect();\n\t\t\t\tlet x = ev.clientX - rect.left;\n\t\t\t\tlet y = ev.clientY - rect.top;\n\n\t\t\t\tlet listeners = this.listeners;\n\t\t\t\tfor (let i = 0; i < listeners.length; i++) {\n\t\t\t\t\tif (this.buttonDown) {\n\t\t\t\t\t\tlisteners[i].dragged(x, y);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlisteners[i].moved(x, y);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.lastX = x;\n\t\t\t\tthis.lastY = y;\n\t\t\t}\n\t\t}, true);\n\t\telement.addEventListener(\"mouseup\", (ev: UIEvent) => {\n\t\t\tif (ev instanceof MouseEvent) {\n\t\t\t\tlet rect = element.getBoundingClientRect();\n\t\t\t\tlet x = ev.clientX - rect.left;\n\t\t\t\tlet y = ev.clientY - rect.top;\n\n\t\t\t\tlet listeners = this.listeners;\n\t\t\t\tfor (let i = 0; i < listeners.length; i++) {\n\t\t\t\t\tlisteners[i].up(x, y);\n\t\t\t\t}\n\n\t\t\t\tthis.lastX = x;\n\t\t\t\tthis.lastY = y;\n\t\t\t\tthis.buttonDown = false;\n\t\t\t}\n\t\t}, true);\n\t\telement.addEventListener(\"touchstart\", (ev: TouchEvent) => {\n\t\t\tif (this.currTouch != null) return;\n\n\t\t\tvar touches = ev.changedTouches;\n\t\t\tfor (var i = 0; i < touches.length; i++) {\n\t\t\t\tvar touch = touches[i];\n\t\t\t\tlet rect = element.getBoundingClientRect();\n\t\t\t\tlet x = touch.clientX - rect.left;\n\t\t\t\tlet y = touch.clientY - rect.top;\n\t\t\t\tthis.currTouch = new Touch(touch.identifier, x, y);\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tlet listeners = this.listeners;\n\t\t\tfor (let i = 0; i < listeners.length; i++) {\n\t\t\t\tlisteners[i].down(this.currTouch.x, this.currTouch.y);\n\t\t\t}\n\t\t\tthis.lastX = this.currTouch.x;\n\t\t\tthis.lastY = this.currTouch.y;\n\t\t\tthis.buttonDown = true;\n\t\t\tev.preventDefault();\n\t\t}, false);\n\t\telement.addEventListener(\"touchend\", (ev: TouchEvent) => {\n\t\t\tvar touches = ev.changedTouches;\n\t\t\tfor (var i = 0; i < touches.length; i++) {\n\t\t\t\tvar touch = touches[i];\n\t\t\t\tif (this.currTouch.identifier === touch.identifier) {\n\t\t\t\t\tlet rect = element.getBoundingClientRect();\n\t\t\t\t\tlet x = this.currTouch.x = touch.clientX - rect.left;\n\t\t\t\t\tlet y = this.currTouch.y = touch.clientY - rect.top;\n\t\t\t\t\tlet listeners = this.listeners;\n\t\t\t\t\tfor (let i = 0; i < listeners.length; i++) {\n\t\t\t\t\t\tlisteners[i].up(x, y);\n\t\t\t\t\t}\n\t\t\t\t\tthis.lastX = x;\n\t\t\t\t\tthis.lastY = y;\n\t\t\t\t\tthis.buttonDown = false;\n\t\t\t\t\tthis.currTouch = null;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tev.preventDefault();\n\t\t}, false);\n\t\telement.addEventListener(\"touchcancel\", (ev: TouchEvent) => {\n\t\t\tvar touches = ev.changedTouches;\n\t\t\tfor (var i = 0; i < touches.length; i++) {\n\t\t\t\tvar touch = touches[i];\n\t\t\t\tif (this.currTouch.identifier === touch.identifier) {\n\t\t\t\t\tlet rect = element.getBoundingClientRect();\n\t\t\t\t\tlet x = this.currTouch.x = touch.clientX - rect.left;\n\t\t\t\t\tlet y = this.currTouch.y = touch.clientY - rect.top;\n\t\t\t\t\tlet listeners = this.listeners;\n\t\t\t\t\tfor (let i = 0; i < listeners.length; i++) {\n\t\t\t\t\t\tlisteners[i].up(x, y);\n\t\t\t\t\t}\n\t\t\t\t\tthis.lastX = x;\n\t\t\t\t\tthis.lastY = y;\n\t\t\t\t\tthis.buttonDown = false;\n\t\t\t\t\tthis.currTouch = null;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tev.preventDefault();\n\t\t}, false);\n\t\telement.addEventListener(\"touchmove\", (ev: TouchEvent) => {\n\t\t\tif (this.currTouch == null) return;\n\n\t\t\tvar touches = ev.changedTouches;\n\t\t\tfor (var i = 0; i < touches.length; i++) {\n\t\t\t\tvar touch = touches[i];\n\t\t\t\tif (this.currTouch.identifier === touch.identifier) {\n\t\t\t\t\tlet rect = element.getBoundingClientRect();\n\t\t\t\t\tlet x = touch.clientX - rect.left;\n\t\t\t\t\tlet y = touch.clientY - rect.top;\n\n\t\t\t\t\tlet listeners = this.listeners;\n\t\t\t\t\tfor (let i = 0; i < listeners.length; i++) {\n\t\t\t\t\t\tlisteners[i].dragged(x, y);\n\t\t\t\t\t}\n\t\t\t\t\tthis.lastX = this.currTouch.x = x;\n\t\t\t\t\tthis.lastY = this.currTouch.y = y;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tev.preventDefault();\n\t\t}, false);\n\t}\n\n\taddListener(listener: InputListener) {\n\t\tif (this.hasListener(listener)) return;\n\t\tthis.listeners.push(listener);\n\t}\n\n\tremoveListener(listener: InputListener) {\n\t\tlet idx = this.listeners.indexOf(listener);\n\t\tif (idx > -1) {\n\t\t\tthis.listeners.splice(idx, 1);\n\t\t}\n\t}\n\n\thasListener(listener: InputListener) {\n\t\treturn this.listeners.indexOf(listener) >= 0;\n\t}\n}\n\nexport class Touch {\n\tconstructor(public identifier: number, public x: number, public y: number) {\n\t}\n}\n\nexport interface InputListener {\n\tdown(x: number, y: number): void;\n\tup(x: number, y: number): void;\n\tmoved(x: number, y: number): void;\n\tdragged(x: number, y: number): void;\n}\n\nexport interface Map<T> {\n\t[name: string] : T;\n}\n\nexport class TimeKeeper {\n\tmaxDelta = 0.064;\n\tframesPerSecond = 0;\n\tdelta = 0;\n\ttotalTime = 0;\n\n\tprivate lastTime = Date.now() / 1000;\n\tprivate frameCount = 0;\n\tprivate frameTime = 0;\n\n\tupdate () {\n\t\tvar now = Date.now() / 1000;\n\t\tthis.delta = now - this.lastTime;\n\t\tthis.frameTime += this.delta;\n\t\tthis.totalTime += this.delta;\n\t\tif (this.delta > this.maxDelta) this.delta = this.maxDelta;\n\t\tthis.lastTime = now;\n\n\t\tthis.frameCount++;\n\t\tif (this.frameTime > 1) {\n\t\t\tthis.framesPerSecond = this.frameCount / this.frameTime;\n\t\t\tthis.frameTime = 0;\n\t\t\tthis.frameCount = 0;\n\t\t}\n\t}\n}\n\nexport interface ImageAsset {\n\timage: HTMLImageElement;\n\turl: string;\n}\n\nexport class AssetManager {\n\tprivate toLoad = new Array<ImageAsset>();\n\tprivate loaded = {};\n\tprivate error = {};\n\n\tloadImage(url: string) {\n\t\tvar img = new Image();\n\t\tvar asset: ImageAsset = { image: img, url: url };\n\t\tthis.toLoad.push(asset);\n\t\timg.onload = () => {\n\t\t\tthis.loaded[asset.url] = asset;\n\t\t\tlet idx = this.toLoad.indexOf(asset);\n\t\t\tif (idx >= 0) this.toLoad.splice(idx, 1);\n\t\t\tconsole.log(\"Loaded image \" + url);\n\t\t}\n\t\timg.onerror = () => {\n\t\t\tthis.loaded[asset.url] = asset;\n\t\t\tlet idx = this.toLoad.indexOf(asset);\n\t\t\tif (idx >= 0) this.toLoad.splice(idx, 1);\n\t\t\tconsole.log(\"Couldn't load image \" + url);\n\t\t}\n\t\timg.src = url;\n\t}\n\n\tgetImage(url: string): HTMLImageElement {\n\t\treturn (this.loaded[url] as ImageAsset).image;\n\t}\n\n\thasMoreToLoad() {\n\t\treturn this.toLoad.length;\n\t}\n}\n\n\nexport function setElementEnabled(el: JQuery, enabled: boolean) {\n\tif (enabled)\n\t\tel.removeAttr(\"disabled\");\n\telse\n\t\tel.attr(\"disabled\", \"true\");\n}\n\nexport function assertNever(x: never): never {\n\tthrow new Error(\"This should never happen\");\n}\n\nexport function escapeHtml(str: string) {\n\tif (!str) return \"\";\n\treturn str\n\t\t .replace(/&/g, \"&amp;\")\n\t\t .replace(/</g, \"&lt;\")\n\t\t .replace(/>/g, \"&gt;\")\n\t\t .replace(/\"/g, \"&#34;\")\n\t\t .replace(/'/g, \"&#39;\");\n }\n\n export function unescapeHtml(str: string) {\n\tif (!str) return \"\";\n\treturn (str as any)\n\t\t .replaceAll(\"&amp;\", \"&\")\n\t\t .replaceAll(\"&lt;\", \"<\")\n\t\t .replaceAll(\"&gt;\", \">\")\n\t\t .replaceAll(\"&quot;\", '\"')\n\t\t .replaceAll(\"&#34;\", '\"')\n\t\t .replaceAll(\"&#39;\", \"'\");\n }\n\n (String.prototype as any).replaceAll = function(search, replacement) {\n    var target = this;\n    return target.replace(new RegExp(search, 'g'), replacement);\n};","import { escapeHtml } from \"./Utils\"\n\nexport type ErrorType = \"InvalidArgument\" | \"InvalidEmailAddress\" | \"InvalidUserName\" | \"ServerError\" | \"UserDoesNotExist\" | \"ProjectDoesNotExist\" | \"UserExists\" | \"EmailExists\" | \"CouldNotCreateUser\" | \"CouldNotSendEmail\" | \"CouldNotCreateCode\" | \"CouldNotVerifyCode\" | \"CouldNotSaveProject\";\n\nexport interface RequestError {\n\terror: ErrorType\n}\n\nexport type ProjectType = \"robot\" | \"canvas\";\n\nexport interface Project {\n\tcode: string\n\tuserName: string\n\ttitle: string\n\tdescription: string\n\tcontent: string\n\tcontentObject: any\n\tcreated: string\n\tlastModified: string\n\tpublic: boolean\n\ttype: ProjectType\n}\n\nexport class Api {\n\n\tprivate static request <Data, Response>(endpoint: string, data: Data, success: (r: Response) => void, error: (e: RequestError) => void) {\n\t\t$.ajax({\n\t\t\turl: endpoint,\n\t\t\tmethod: \"POST\",\n\t\t\tcontentType: \"application/json; charset=utf-8\",\n\t\t\tprocessData: false,\n\t\t\tdata: JSON.stringify(data)\n\t\t})\n\t\t.done((response) => {\n\t\t\tsuccess(response as Response);\n\t\t}).fail((e) => {\n\t\t\tconsole.log(e);\n\t\t\tif (e.responseJSON)\n\t\t\t\terror(e.responseJSON as RequestError);\n\t\t\telse\n\t\t\t\terror({ error: \"ServerError\" });\n\t\t});\n\t}\n\n\tpublic static signup(email: string, name: string,  success: () => void, error: (e: RequestError) => void) {\n\t\tthis.request(\"api/signup\", { email: email, name: name },\n\t\t(r: { name: string, token: string }) => {\n\t\t\tsuccess();\n\t\t}, (e: RequestError) => {\n\t\t\terror(e);\n\t\t});\n\t}\n\n\tpublic static login(emailOrUser: string, success: () => void, error: (userDoesNotExist: boolean) => void) {\n\t\tthis.request(\"api/login\", { email: emailOrUser },\n\t\t(r: { name: string, token: string }) => {\n\t\t\tsuccess();\n\t\t}, (e: RequestError) => {\n\t\t\terror(e.error == \"UserDoesNotExist\");\n\t\t});\n\t}\n\n\tpublic static verify(code: string, success: () => void, error: (invalidCode: boolean) => void) {\n\t\tthis.request(\"api/verify\", { code: code },\n\t\t() => {\n\t\t\tsuccess();\n\t\t}, (e: RequestError) => {\n\t\t\terror(e.error == \"CouldNotVerifyCode\");\n\t\t});\n\t}\n\n\tpublic static logout(success: () => void, error: () => void) {\n\t\tthis.request(\"api/logout\", { },\n\t\t( ) => {\n\t\t\tsuccess();\n\t\t}, (e: RequestError) => {\n\t\t\terror();\n\t\t});\n\t}\n\n\tpublic static loadProject(projectId: string, success: (project: Project) => void, error: (e: RequestError) => void) {\n\t\tthis.request(\"api/getproject\", { projectId: projectId },\n\t\t(project: Project) => {\n\t\t\ttry {\n\t\t\t\tproject.contentObject = JSON.parse(project.content);\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e);\n\t\t\t\terror({error: \"ServerError\"});\n\t\t\t}\n\t\t\tsuccess(project);\n\t\t}, (e: RequestError) => {\n\t\t\terror(e);\n\t\t});\n\t}\n\n\tstatic saveProject(project: Project, success: (id: string) => void, error: (error: RequestError) => void): any {\n\t\tthis.request(\"api/saveproject\", project,\n\t\t(r: {projectId: string}) => {\n\t\t\tsuccess(r.projectId);\n\t\t}, (e: RequestError) => {\n\t\t\terror(e);\n\t\t});\n\t}\n\n\tpublic static deleteProject(projectId: string, success: () => void, error: () => void) {\n\t\tthis.request(\"api/deleteproject\", { projectId: projectId },\n\t\t( ) => {\n\t\t\tsuccess();\n\t\t}, (e: RequestError) => {\n\t\t\terror();\n\t\t});\n\t}\n\n\tstatic getUserProjects (userName: string, worldData: boolean, success: (projects: Array<Project>) => void, error: (error: RequestError) => void) {\n\t\tthis.request(\"api/getprojects\", { userName: userName, worldData: worldData },\n\t\t(projects: Array<Project>) => {\n\t\t\tsuccess(projects);\n\t\t}, (e: RequestError) => {\n\t\t\terror(e);\n\t\t});\n\t}\n\n\tstatic getFeaturedProjects(success: (projects: Array<Project>) => void, error: (error: RequestError) => void) {\n\t\tthis.request(\"api/getfeaturedprojects\", { },\n\t\t(projects: Array<Project>) => {\n\t\t\tprojects.forEach(project => {\n\t\t\t\ttry {\n\t\t\t\t\tproject.contentObject = JSON.parse(project.content);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.log(e);\n\t\t\t\t\terror({error: \"ServerError\"});\n\t\t\t\t}\n\t\t\t});\n\t\t\tsuccess(projects);\n\t\t}, (e: RequestError) => {\n\t\t\terror(e);\n\t\t});\n\t}\n\n\t/**\n\t * Everything below returns client side, user provided strings. They\n\t * need to be HTML escaped for insertion into the DOM.\n\t */\n\tpublic static getUserName() {\n\t\treturn escapeHtml(this.getCookie(\"name\"));\n\t}\n\n\tpublic static getProjectId() {\n\t\treturn escapeHtml(this.getUrlParameter(\"id\"));\n\t}\n\n\tpublic static getUserId() {\n\t\treturn escapeHtml(this.getUrlParameter(\"id\"));\n\t}\n\n\tpublic static getUserUrl(name: string) {\n\t\treturn escapeHtml(\"/user.html?id=\" + name);\n\t}\n\n\tpublic static getProjectUrl(name: string) {\n\t\treturn escapeHtml(\"/project.html?id=\" + name);\n\t}\n\n\tpublic static getUrlParameter(name) {\n\t\tname = name.replace(/[\\[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\n\t\tvar regex = new RegExp('[\\\\?&]' + name + '=([^&#]*)');\n\t\tvar results = regex.exec(location.search);\n\t\treturn escapeHtml(results === null ? '' : decodeURIComponent(results[1].replace(/\\+/g, ' ')));\n\t};\n\n\tprivate static getCookie (key) {\n\t\tif (!key) { return null; }\n\t\treturn decodeURIComponent(document.cookie.replace(new RegExp(\"(?:(?:^|.*;)\\\\s*\" + encodeURIComponent(key).replace(/[\\-\\.\\+\\*]/g, \"\\\\$&\") + \"\\\\s*\\\\=\\\\s*([^;]*).*$)|^.*$\"), \"$1\")) || null;\n\t}\n}","import * as compiler from \"../language/Compiler\"\nimport { Project } from \"../Api\";\nimport { Breakpoint } from \"./Debugger\";\n\nexport class SourceChanged { constructor(public source: string, public module: compiler.Module | null) {}}\nexport class Run { }\nexport class Debug { }\nexport class Pause { }\nexport class Resume { }\nexport class Stop {}\nexport class Step { constructor(public line: number) {} }\nexport class LineChange { constructor(public line: number) {} }\nexport class Select { constructor(public startLine: number, public startColumn: number, public endLine: number, public endColumn: number) {} }\nexport class AnnounceExternalFunctions { constructor(public functions: compiler.ExternalFunctions) {} }\nexport class BreakpointAdded { constructor(public breakpoint: Breakpoint) {} }\nexport class BreakpointRemoved { constructor(public breakpoint: Breakpoint) {} }\n\nexport class LoggedIn { };\nexport class LoggedOut { };\n\nexport class ProjectLoaded { constructor(public project: Project) { } }\nexport class BeforeSaveProject { constructor(public project: Project) { } }\nexport class ProjectSaved { }\nexport class ProjectChanged { }\n\nexport type Event =\n\tSourceChanged | Run | Debug | Pause | Resume | Stop | Step | LineChange | Selection |\n\tLoggedIn | LoggedOut |\n\tProjectLoaded | BeforeSaveProject | ProjectSaved | ProjectChanged;\n\nexport interface EventListener {\n\tonEvent(event: Event);\n}\n\nexport class EventBus {\n\tprivate listeners = new Array<EventListener>()\n\n\taddListener(listener: EventListener) {\n\t\tthis.listeners.push(listener);\n\t}\n\n\tevent(event: Event) {\n\t\tthis.listeners.forEach(listener => listener.onEvent(event));\n\t}\n}","import { EventBus, Event, EventListener } from \"./Events\"\n\nexport abstract class Widget implements EventListener {\n\tconstructor(protected bus: EventBus) { }\n\tabstract render (): HTMLElement;\n\tabstract onEvent(event: Event);\n}","import { VariableDecl, ParameterDecl, FunctionDecl, ExternalFunction, ExternalFunctions, NothingType } from \"./Compiler\";\nimport { assertNever } from \"../Utils\";\nimport { Breakpoint } from \"../widgets/Debugger\";\n\ntype Value = boolean | string | number;\n\nexport interface PushIns {\n\tkind: \"push\"\n\tvalue: Value\n}\n\nexport interface PopIns {\n\tkind: \"pop\"\n}\n\nexport interface StringConcatOpIns {\n\tkind: \"stringConcat\"\n}\n\nexport interface BinaryOpIns {\n\tkind: \"binaryOp\"\n\toperator: string\n}\n\nexport interface UnaryOpIns {\n\tkind: \"unaryOp\"\n\toperator: string\n}\n\nexport interface LoadIns {\n\tkind: \"load\"\n\tslotIndex: number\n}\n\nexport interface StoreIns {\n\tkind: \"store\"\n\tslotIndex: number\n}\n\nexport interface LoadFieldIns {\n\tkind: \"loadField\"\n\tfieldIndex: number\n}\n\nexport interface StoreFieldIns {\n\tkind: \"storeField\"\n\tfieldIndex: number\n}\n\nexport interface CallIns {\n\tkind: \"call\"\n\tfunctionIndex: number\n}\n\nexport interface CallExternalIns {\n\tkind: \"callExt\"\n\tfunctionIndex: number\n}\n\nexport interface JumpIfTrueIns {\n\tkind: \"jumpIfTrue\"\n\toffset: number\n}\n\nexport interface JumpIfFalseIns {\n\tkind: \"jumpIfFalse\"\n\toffset: number\n}\n\nexport interface JumpIns {\n\tkind: \"jump\"\n\toffset: number\n}\n\nexport interface ReturnIns {\n\tkind: \"return\"\n}\n\nexport interface DupIns {\n\tkind: \"dup\"\n}\n\nexport type Instruction =\n\t\tPushIns\n\t|\tPopIns\n\t|\tBinaryOpIns\n\t|\tStringConcatOpIns\n\t|\tUnaryOpIns\n\t|\tLoadIns\n\t|\tStoreIns\n\t|\tLoadFieldIns\n\t|\tStoreFieldIns\n\t| \tCallIns\n\t|\tCallExternalIns\n\t|\tJumpIfTrueIns\n\t|\tJumpIfFalseIns\n\t|\tJumpIns\n\t|\tReturnIns\n\t|\tDupIns\n\t;\n\nexport class Slot {\n\tconstructor(public symbol: VariableDecl | ParameterDecl, public scope: ScopeInfo, public value: Value) { }\n}\n\nexport interface ScopeInfo {\n\tstartPc: number;\n\tendPc: number;\n}\n\nexport interface LineInfo {\n\tindex: number;\n\tline: number;\n}\n\nexport interface FunctionCode {\n\tast: FunctionDecl,\n\tlocals: Array<VariableDecl | ParameterDecl>,\n\tnumParameters: number,\n\tinstructions: Array<Instruction>,\n\tlineInfos: Array<LineInfo>,\n\tbreakpoints: Array<Breakpoint>;\n\tindex: number\n}\n\nexport class Frame {\n\tconstructor(\n\t\tpublic code: FunctionCode,\n\t\tpublic slots = new Array<Slot>(),\n\t\tpublic pc = 0) {\n\n\t\tcode.locals.forEach(v => slots.push(new Slot(v, v.scope, null)));\n\t}\n}\n\nexport interface AsyncPromise<T> {\n\tcompleted: boolean;\n\tvalue: T;\n}\n\nexport enum VirtualMachineState {\n\tRunning,\n\tCompleted\n}\n\n/**\n * Returned by VirtualMachine#stepOver in case\n * an async function is being called. The caller\n * needs to then give control back to the UI thread\n * and call stepOver again with this snapshot, until null is returned.\n */\nexport interface StepOverSnapshot {\n\tframeIndex: number,\n\tframe: Frame,\n\tlineInfoIndex: number\n}\n\nexport class VirtualMachine {\n\tstate = VirtualMachineState.Running;\n\tframes = Array<Frame>();\n\tstack = Array<Value>();\n\tasyncFun: ExternalFunction;\n\tasyncPromise: AsyncPromise<any>;\n\n\tconstructor(public functions: Array<FunctionCode>, public externalFunctions: ExternalFunctions) {\n\t\tthis.restart();\n\t}\n\n\trestart () {\n\t\tthis.frames.length = 0;\n\t\tthis.frames.push(new Frame(this.functions[0]));\n\t\tthis.state = VirtualMachineState.Running;\n\t}\n\n\trun(numInstructions: number) {\n\t\tif (this.frames.length == 0) this.state = VirtualMachineState.Completed;\n\t\tif (this.state == VirtualMachineState.Completed) return;\n\n\t\tif (this.asyncPromise) {\n\t\t\tif (this.asyncPromise.completed) {\n\t\t\t\tif (this.asyncFun.returnType != NothingType) {\n\t\t\t\t\tthis.stack.push(this.asyncPromise.value);\n\t\t\t\t}\n\t\t\t\tthis.asyncPromise = null;\n\t\t\t\tthis.asyncFun = null;\n\t\t\t}\n\t\t}\n\n\t\twhile(!this.asyncPromise && numInstructions-- > 0) {\n\t\t\tthis.step();\n\t\t\tif (this.hitBreakpoint()) break;\n\t\t}\n\n\t\tif (this.frames.length == 0) this.state = VirtualMachineState.Completed;\n\t}\n\n\thitBreakpoint() {\n\t\tif (this.frames.length == 0) return false;\n\t\tlet frame = this.frames[this.frames.length - 1];\n\t\tlet pc = frame.pc\n\t\treturn frame.code.breakpoints[pc] != null;\n\t}\n\n\n\tstepOver (lastSnapshot: StepOverSnapshot = null): StepOverSnapshot {\n\t\tif (this.frames.length == 0) this.state = VirtualMachineState.Completed;\n\t\tif (this.state == VirtualMachineState.Completed) return null;\n\n\t\tif (this.asyncPromise) {\n\t\t\tif (this.asyncPromise.completed) {\n\t\t\t\tif (this.asyncFun.returnType != NothingType) {\n\t\t\t\t\tthis.stack.push(this.asyncPromise.value);\n\t\t\t\t}\n\t\t\t\tthis.asyncPromise = null;\n\t\t\t\tthis.asyncFun = null;\n\t\t\t}\n\t\t}\n\n\t\tlet frameIndex = lastSnapshot ? lastSnapshot.frameIndex : this.frames.length - 1;\n\t\tlet frame = lastSnapshot ? lastSnapshot.frame : this.frames[frameIndex];\n\t\tlet lineInfoIndex = lastSnapshot ? lastSnapshot.lineInfoIndex : frame.code.lineInfos[frame.pc].index;\n\t\tlet snapshot: StepOverSnapshot = {\n\t\t\tframeIndex: frameIndex,\n\t\t\tframe: frame,\n\t\t\tlineInfoIndex: lineInfoIndex\n\t\t}\n\t\tvar executed = 0;\n\t\twhile(true) {\n\t\t\tif (this.asyncPromise)\n\t\t\t\treturn snapshot;\n\t\t\tif (this.frames.length == 0) {\n\t\t\t\tthis.state = VirtualMachineState.Completed;\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (executed++ > 1000)\n\t\t\t\treturn snapshot;\n\n\t\t\tlet currFrameIndex = this.frames.length - 1;\n\t\t\tlet currFrame = this.frames[currFrameIndex];\n\t\t\tlet currLineInfoIndex = currFrame.code.lineInfos[currFrame.pc].index;\n\n\t\t\tif (currFrameIndex == frameIndex)\n\t\t\t\tif (lineInfoIndex != currLineInfoIndex)\n\t\t\t\t\treturn null;\n\n\t\t\tif (currFrameIndex < frameIndex)\n\t\t\t\treturn null;\n\n\t\t\tthis.step();\n\t\t\tif (this.hitBreakpoint()) break;\n\t\t}\n\t}\n\n\tstepInto () {\n\t\tif (this.frames.length == 0) this.state = VirtualMachineState.Completed;\n\t\tif (this.state == VirtualMachineState.Completed) return;\n\n\t\tif (this.asyncPromise) {\n\t\t\tif (this.asyncPromise.completed) {\n\t\t\t\tif (this.asyncFun.returnType != NothingType) {\n\t\t\t\t\tthis.stack.push(this.asyncPromise.value);\n\t\t\t\t}\n\t\t\t\tthis.asyncPromise = null;\n\t\t\t\tthis.asyncFun = null;\n\t\t\t}\n\t\t}\n\n\t\tlet frameIndex = this.frames.length - 1;\n\t\tlet frame = this.frames[frameIndex];\n\t\tlet lineInfoIndex = frame.code.lineInfos[frame.pc].index;\n\t\twhile(true) {\n\t\t\tif (this.asyncPromise) return;\n\t\t\tif (this.frames.length == 0) return;\n\n\t\t\tlet currFrameIndex = this.frames.length - 1;\n\t\t\tlet currFrame = this.frames[currFrameIndex];\n\t\t\tlet currLineInfoIndex = currFrame.code.lineInfos[currFrame.pc].index;\n\n\t\t\tif (lineInfoIndex != currLineInfoIndex) return;\n\t\t\tif (currFrameIndex != frameIndex) return;\n\n\t\t\tthis.step();\n\t\t\tif (this.hitBreakpoint()) break;\n\t\t}\n\n\t\tif (this.frames.length == 0) this.state = VirtualMachineState.Completed;\n\t\tif (this.state == VirtualMachineState.Completed) return;\n\t}\n\n\tgetLineNumber() {\n\t\tif (this.frames.length == 0) this.state = VirtualMachineState.Completed;\n\t\tif (this.state == VirtualMachineState.Completed) return -1;\n\n\t\tlet frameIndex = this.frames.length - 1;\n\t\tlet frame = this.frames[frameIndex];\n\t\treturn frame.code.lineInfos[frame.pc].line;\n\t}\n\n\tprivate step() {\n\t\tlet {frames, stack, functions, externalFunctions} = this;\n\n\t\tif (frames.length == 0) {\n\t\t\tthis.state = VirtualMachineState.Completed;\n\t\t\treturn;\n\t\t}\n\n\t\tlet frame = frames[frames.length - 1];\n\t\tlet ins = frame.code.instructions[frame.pc];\n\t\tframe.pc++;\n\t\tswitch(ins.kind) {\n\t\t\tcase \"pop\":\n\t\t\t\tstack.pop();\n\t\t\t\tbreak;\n\t\t\tcase \"push\":\n\t\t\t\tstack.push(ins.value);\n\t\t\t\tbreak;\n\t\t\tcase \"dup\":\n\t\t\t\tlet value = stack.pop();\n\t\t\t\tstack.push(value);\n\t\t\t\tstack.push(value);\n\t\t\t\tbreak;\n\t\t\tcase \"store\":\n\t\t\t\tframe.slots[ins.slotIndex].value = stack.pop();\n\t\t\t\tbreak;\n\t\t\tcase \"load\":\n\t\t\t\tstack.push(frame.slots[ins.slotIndex].value);\n\t\t\t\tbreak;\n\t\t\tcase \"storeField\": {\n\t\t\t\tlet rec = stack.pop();\n\t\t\t\trec[ins.fieldIndex] = stack.pop()\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"loadField\": {\n\t\t\t\tlet rec = stack.pop()\n\t\t\t\tstack.push(rec[ins.fieldIndex]);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"jump\":\n\t\t\t\tframe.pc = ins.offset;\n\t\t\t\tbreak;\n\t\t\tcase \"jumpIfTrue\":\n\t\t\t\tif(stack.pop()) frame.pc = ins.offset;\n\t\t\t\tbreak;\n\t\t\tcase \"jumpIfFalse\":\n\t\t\t\tif(!stack.pop()) frame.pc = ins.offset;\n\t\t\t\tbreak;\n\t\t\tcase \"call\": {\n\t\t\t\tlet fun = functions[ins.functionIndex];\n\t\t\t\tlet newFrame = new Frame(fun);\n\t\t\t\tnewFrame.slots.length = fun.locals.length;\n\t\t\t\tfor (var i = fun.numParameters - 1; i >= 0 ; i--) {\n\t\t\t\t\tnewFrame.slots[i].value = stack.pop();\n\t\t\t\t}\n\t\t\t\tframes.push(newFrame);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"callExt\": {\n\t\t\t\tlet fun = externalFunctions.functions[ins.functionIndex];\n\t\t\t\tlet extArgs = new Array(fun.parameters.length);\n\t\t\t\tfor (var i = extArgs.length - 1; i >= 0 ; i--) {\n\t\t\t\t\textArgs[i] = stack.pop();\n\t\t\t\t}\n\t\t\t\tlet result = fun.fun.apply(fun.fun, extArgs);\n\t\t\t\tif (fun.async) {\n\t\t\t\t\tthis.asyncFun = fun;\n\t\t\t\t\tthis.asyncPromise = result as AsyncPromise<any>;\n\t\t\t\t} else {\n\t\t\t\t\tif (fun.returnType != NothingType) {\n\t\t\t\t\t\tstack.push(result);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"return\":\n\t\t\t\tframes.pop();\n\t\t\t\tbreak\n\t\t\tcase \"unaryOp\": {\n\t\t\t\tlet value = stack.pop() as boolean;\n\t\t\t\tswitch(ins.operator) {\n\t\t\t\t\tcase \"not\":\n\t\t\t\t\t\tstack.push(!value);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"-\":\n\t\t\t\t\t\tstack.push(-value);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\t// TODO: throw a nice error for this impossible case\n\t\t\t\t\t\tthrow new Error(`Unknown unary operator ${ins.operator}`, )\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"stringConcat\": {\n\t\t\t\tlet right = stack.pop();\n\t\t\t\tlet left = stack.pop();\n\t\t\t\tstack.push((left as string) + (right as string));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"binaryOp\": {\n\t\t\t\tlet right = stack.pop();\n\t\t\t\tlet left = stack.pop();\n\n\t\t\t\tswitch(ins.operator) {\n\t\t\t\t\tcase \"+\":\n\t\t\t\t\t\tstack.push((left as number) + (right as number));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"-\":\n\t\t\t\t\t\tstack.push((left as number) - (right as number));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"*\":\n\t\t\t\t\t\tstack.push((left as number) * (right as number));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"/\":\n\t\t\t\t\t\tstack.push((left as number) / (right as number));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"<=\":\n\t\t\t\t\t\tstack.push((left as number) <= (right as number));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \">=\":\n\t\t\t\t\t\tstack.push((left as number) >= (right as number));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"<\":\n\t\t\t\t\t\tstack.push((left as number) < (right as number));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \">\":\n\t\t\t\t\t\tstack.push((left as number) > (right as number));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"==\":\n\t\t\t\t\t\tstack.push(left === right);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"!=\":\n\t\t\t\t\t\tstack.push(left !== right);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"and\":\n\t\t\t\t\t\tstack.push(left as boolean && right as boolean);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"or\":\n\t\t\t\t\t\tstack.push(left as boolean || right as boolean);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"xor\":\n\t\t\t\t\t\tstack.push(!(left as boolean && right as boolean));\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tassertNever(ins);\n\t\t}\n\t}\n}","import { Widget } from \"./Widget\"\nimport * as events from \"./Events\"\nimport { setElementEnabled } from \"../Utils\";\nimport * as compiler from \"../language/Compiler\";\nimport * as vm from \"../language/VirtualMachine\";\n\nexport enum DebuggerState {\n\tStopped,\n\tRunning,\n\tPaused,\n}\n\nexport interface Breakpoint {\n\tgetLine(): number;\n}\n\nexport class Debugger extends Widget {\n\tprivate module: compiler.Module;\n\tprivate vm: vm.VirtualMachine;\n\n\tprivate run: JQuery;\n\tprivate debug: JQuery;\n\tprivate pause: JQuery;\n\tprivate resume: JQuery;\n\tprivate stop: JQuery;\n\tprivate stepOver: JQuery;\n\tprivate stepInto: JQuery;\n\tprivate stepOut: JQuery;\n\n\tprivate locals: JQuery;\n\tprivate callstack: JQuery;\n\tprivate vmState: JQuery;\n\tprivate advanceVm: () => void;\n\n\tprivate dom: JQuery;\n\tprivate lastModule: compiler.Module = null;\n\tprivate selectedFrame: vm.Frame = null;\n\tprivate state = DebuggerState.Stopped;\n\tprivate snapshot: vm.StepOverSnapshot = null;\n\tprivate breakpoints: Breakpoint[] = [];\n\n\trender (): HTMLElement {\n\t\tlet dom = this.dom = $(/*html*/`\n\t\t\t<div id=\"pb-debugger\" class=\"pb-collapsed\">\n\t\t\t\t<div class=\"pb-label\">DEBUGGER</div>\n\t\t\t\t<div id=\"pb-debugger-buttons\">\n\t\t\t\t\t<div id=\"pb-debugger-run\" class=\"pb-debugger-run-icon pb-debugger-button\"></div>\n\t\t\t\t\t<div id=\"pb-debugger-debug\" class=\"pb-debugger-debug-icon pb-debugger-button\"></div>\n\t\t\t\t\t<div id=\"pb-debugger-pause\" class=\"pb-debugger-pause-icon pb-debugger-button\"></div>\n\t\t\t\t\t<div id=\"pb-debugger-continue\" class=\"pb-debugger-continue-icon pb-debugger-button\"></div>\n\t\t\t\t\t<div id=\"pb-debugger-stop\" class=\"pb-debugger-stop-icon pb-debugger-button\"></div>\n\t\t\t\t\t<div id=\"pb-debugger-step-over\" class=\"pb-debugger-step-over-icon pb-debugger-button\"></div>\n\t\t\t\t\t<div id=\"pb-debugger-step-into\" class=\"pb-debugger-step-into-icon pb-debugger-button\"></div>\n\t\t\t\t\t<div id=\"pb-debugger-step-out\" class=\"pb-debugger-step-out-icon pb-debugger-button\"></div>\n\t\t\t\t</div>\n\t\t\t\t<div id=\"pb-debugger-locals-callstack\">\n\t\t\t\t\t<div id=\"pb-debugger-locals-label\" class=\"pb-label\">VARIABLES</div>\n\t\t\t\t\t<div id=\"pb-debugger-locals\"></div>\n\t\t\t\t\t<div id=\"pb-debugger-callstack-label\" class=\"pb-label\">CALL STACK</div>\n\t\t\t\t\t<div id=\"pb-debugger-callstack\"></div>\n\t\t\t\t\t<div id=\"pb-debugger-vm-label\"  class=\"pb-label\">VM</div>\n\t\t\t\t\t<div id=\"pb-debugger-vm\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`);\n\n\t\tthis.run = dom.find(\"#pb-debugger-run\");\n\t\tthis.debug = dom.find(\"#pb-debugger-debug\");\n\t\tthis.pause = dom.find(\"#pb-debugger-pause\");\n\t\tthis.resume = dom.find(\"#pb-debugger-continue\");\n\t\tthis.stop = dom.find(\"#pb-debugger-stop\");\n\t\tthis.stepOver = dom.find(\"#pb-debugger-step-over\");\n\t\tthis.stepInto = dom.find(\"#pb-debugger-step-into\");\n\t\tthis.stepOut = dom.find(\"#pb-debugger-step-out\");\n\n\t\tthis.pause.hide();\n\t\tthis.resume.hide();\n\t\tthis.stop.hide();\n\t\tthis.stepOver.hide();\n\t\tthis.stepInto.hide();\n\t\tthis.stepOut.hide();\n\n\t\tthis.locals = dom.find(\"#pb-debugger-locals\");\n\t\tthis.callstack = dom.find(\"#pb-debugger-callstack\");\n\t\tthis.vmState = dom.find(\"#pb-debugger-vm\");\n\n\t\tdom.find(\"#pb-debugger-vm-label\").click(() => {\n\t\t\tthis.vmState.toggle();\n\t\t});\n\n\t\tdom.find(\"#pb-debugger-callstack-label\").click(() => {\n\t\t\tthis.callstack.toggle();\n\t\t});\n\n\t\tdom.find(\"#pb-debugger-locals-label\").click(() => {\n\t\t\tthis.locals.toggle();\n\t\t});\n\n\t\tthis.advanceVm = () => {\n\t\t\tif (this.state != DebuggerState.Running) return;\n\t\t\tthis.vm.run(1000);\n\t\t\tthis.checkVmStopped();\n\t\t\trequestAnimationFrame(this.advanceVm);\n\t\t};\n\n\t\tthis.run.click(() => {\n\t\t\tthis.runProject()\n\t\t});\n\n\t\tthis.debug.click(() => {\n\t\t\tthis.state = DebuggerState.Paused;\n\t\t\tthis.snapshot = null;\n\t\t\tthis.vm = new vm.VirtualMachine(this.lastModule.functions, this.lastModule.externalFunctions);\n\t\t\tthis.bus.event(new events.Debug());\n\t\t\tthis.bus.event(new events.Step(this.vm.getLineNumber()));\n\t\t});\n\n\t\tthis.pause.click(() => {\n\t\t\tthis.snapshot = null;\n\t\t\tthis.state = DebuggerState.Paused;\n\t\t\tthis.bus.event(new events.Pause());\n\t\t\tthis.bus.event(new events.Step(this.vm.getLineNumber()));\n\t\t});\n\n\t\tthis.resume.click(() => {\n\t\t\tthis.state = DebuggerState.Running;\n\t\t\tthis.bus.event(new events.Resume());\n\t\t\trequestAnimationFrame(this.advanceVm);\n\t\t});\n\n\t\tthis.stop.click(() => {\n\t\t\tthis.snapshot = null;\n\t\t\tthis.state = DebuggerState.Stopped;\n\t\t\tthis.bus.event(new events.Stop());\n\t\t});\n\n\t\t/*this.stepVm.click(() => {\n\t\t\tthis.vm.run(1);\n\t\t\tthis.bus.event(new Step(this.vm.getLineNumber()));\n\t\t});*/\n\n\t\tlet stepOverAsync = () => {\n\t\t\tif (this.snapshot) {\n\t\t\t\tthis.state = DebuggerState.Running;\n\t\t\t\tthis.bus.event(new events.Resume());\n\t\t\t\tthis.snapshot = this.vm.stepOver(this.snapshot);\n\t\t\t\tif (this.snapshot) {\n\t\t\t\t\trequestAnimationFrame(stepOverAsync);\n\t\t\t\t}else {\n\t\t\t\t\tif (this.vm.state == vm.VirtualMachineState.Completed) {\n\t\t\t\t\t\talert(\"Program complete.\");\n\t\t\t\t\t\tthis.bus.event(new events.Stop())\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis.state = DebuggerState.Paused;\n\t\t\t\t\tthis.bus.event(new events.Pause());\n\t\t\t\t\tthis.bus.event(new events.Step(this.vm.getLineNumber()));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.stepOver.click(() => {\n\t\t\tthis.state = DebuggerState.Paused;\n\n\t\t\t// If we got a snapshot, we need to switch\n\t\t\t// to async handling of the step over until\n\t\t\t// the async function has been completed.\n\t\t\tthis.snapshot = this.vm.stepOver();\n\t\t\tif (this.snapshot) {\n\t\t\t\tstepOverAsync();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Otherwise we had an step over with\n\t\t\t// having to wait for an async call to\n\t\t\t// complete.\n\t\t\tthis.bus.event(new events.Step(this.vm.getLineNumber()));\n\t\t\tif (this.vm.state == vm.VirtualMachineState.Completed) {\n\t\t\t\talert(\"Program complete.\");\n\t\t\t\tthis.bus.event(new events.Stop())\n\t\t\t\treturn;\n\t\t\t}\n\t\t});\n\n\t\tthis.stepInto.click(() => {\n\t\t\tthis.vm.stepInto();\n\t\t\tthis.bus.event(new events.Step(this.vm.getLineNumber()));\n\t\t\tif (this.vm.state == vm.VirtualMachineState.Completed) {\n\t\t\t\talert(\"Program complete.\");\n\t\t\t\tthis.bus.event(new events.Stop())\n\t\t\t\treturn;\n\t\t\t}\n\t\t});\n\n\t\tdocument.addEventListener(\"keydown\", (e) => {\n\t\t\tif (e.keyCode == 69 && (navigator.platform.match(\"Mac\") ? e.metaKey : e.ctrlKey)) {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.runProject();\n\t\t\t}\n\t\t}, false);\n\n\t\tdom.find(\"input\").attr(\"disabled\", \"true\");\n\t\treturn dom[0];\n\t}\n\n\trunProject () {\n\t\tthis.state = DebuggerState.Running;\n\t\tthis.snapshot = null;\n\t\tthis.vm = new vm.VirtualMachine(this.lastModule.functions, this.lastModule.externalFunctions);\n\t\tthis.bus.event(new events.Run())\n\t\trequestAnimationFrame(this.advanceVm);\n\t}\n\n\tcheckVmStopped () {\n\t\tif (this.vm.state == vm.VirtualMachineState.Completed) {\n\t\t\tthis.state = DebuggerState.Stopped;\n\t\t\talert(\"Program complete.\");\n\t\t\tthis.bus.event(new events.Stop())\n\t\t\treturn;\n\t\t} else {\n\t\t\tif (this.vm.hitBreakpoint()) {\n\t\t\t\tthis.state = DebuggerState.Paused;\n\t\t\t\tthis.bus.event(new events.Pause());\n\t\t\t\tthis.bus.event(new events.Step(this.vm.getLineNumber()));\n\t\t\t}\n\t\t}\n\t}\n\n\tsetBreakpoints () {\n\t\tif (this.vm) {\n\t\t\tlet functions = this.vm.functions;\n\t\t\tfor (var i = 0; i < functions.length; i++) {\n\t\t\t\tlet func = functions[i];\n\t\t\t\tfunc.breakpoints.length = 0;\n\t\t\t\tfunc.breakpoints.length = func.instructions.length;\n\t\t\t}\n\t\t\tthis.breakpoints.forEach(bp => {\n\t\t\t\tlet line = bp.getLine();\n\n\t\t\t\tlet functions = this.vm.functions;\n\t\t\t\tfor (var i = 0; i < functions.length; i++) {\n\t\t\t\t\tlet func = functions[i];\n\t\t\t\t\tif (func.ast.name.value == \"$main\" || (line >= func.ast.location.start.line && line <= func.ast.location.end.line)) {\n\t\t\t\t\t\tlet lineInfos = func.lineInfos;\n\t\t\t\t\t\tfor (var j = 0; j < lineInfos.length; j++) {\n\t\t\t\t\t\t\tif (lineInfos[j].line == bp.getLine()) {\n\t\t\t\t\t\t\t\tfunc.breakpoints[j] = bp;\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconsole.log(\"Couldn't find instruction for breakpoint at line \" + bp.getLine());\n\t\t\t});\n\t\t}\n\t}\n\n\tonEvent(event: Event) {\n\t\tlet {run, debug, pause, resume, stop, stepOver, stepInto, dom} = this;\n\n\t\tif (event instanceof events.SourceChanged) {\n\t\t\tif (event.module) {\n\t\t\t\tthis.lastModule = event.module;\n\t\t\t\tsetElementEnabled(this.run, true);\n\t\t\t\tsetElementEnabled(this.debug, true);\n\t\t\t} else {\n\t\t\t\tthis.lastModule = null;\n\t\t\t\tsetElementEnabled(this.run, false);\n\t\t\t\tsetElementEnabled(this.debug, false);\n\t\t\t\t// TODO hide debugger view\n\t\t\t}\n\t\t} else if (event instanceof events.Run) {\n\t\t\tthis.run.hide();\n\t\t\tthis.debug.hide();\n\t\t\tthis.pause.show();\n\t\t\tthis.stop.show();\n\t\t\tthis.stepOver.show()\n\t\t\tsetElementEnabled(this.stepOver, false);\n\t\t\tthis.stepInto.show();\n\t\t\tsetElementEnabled(this.stepInto, false);\n\t\t\tthis.stepOut.show();\n\t\t\tsetElementEnabled(this.stepOut, false);\n\t\t\tthis.setBreakpoints();\n\t\t} else if (event instanceof events.Debug) {\n\t\t\tthis.run.hide();\n\t\t\tthis.debug.hide();\n\t\t\tthis.resume.show();\n\t\t\tthis.stop.show();\n\t\t\tthis.stepOver.show()\n\t\t\tthis.stepInto.show();\n\t\t\tthis.stepOut.show();\n\t\t\tsetElementEnabled(this.stepOver, true);\n\t\t\tsetElementEnabled(this.stepInto, true);\n\t\t\tsetElementEnabled(this.stepOut, true);\n\t\t\tthis.setBreakpoints();\n\t\t\tthis.dom.removeClass(\"pb-collapsed\");\n\t\t} else if (event instanceof events.Pause) {\n\t\t\tthis.resume.show();\n\t\t\tthis.pause.hide();\n\t\t\tsetElementEnabled(this.stepOver, true);\n\t\t\tsetElementEnabled(this.stepInto, true);\n\t\t\tsetElementEnabled(this.stepOut, true);\n\t\t\tthis.dom.removeClass(\"pb-collapsed\");\n\t\t} else if (event instanceof events.Resume) {\n\t\t\tthis.pause.show();\n\t\t\tthis.resume.hide();\n\t\t\tsetElementEnabled(this.stepOver, false);\n\t\t\tsetElementEnabled(this.stepInto, false);\n\t\t\tsetElementEnabled(this.stepOut, false);\n\t\t\tthis.setBreakpoints();\n\t\t} else if (event instanceof events.Stop) {\n\t\t\tthis.run.show();\n\t\t\tthis.debug.show();\n\t\t\tthis.pause.hide();\n\t\t\tthis.resume.hide();\n\t\t\tthis.stop.hide();\n\t\t\tthis.stepOver.hide();\n\t\t\tthis.stepInto.hide();\n\t\t\tthis.stepOut.hide();\n\t\t\tsetElementEnabled(this.stepOver, false);\n\t\t\tsetElementEnabled(this.stepInto, false);\n\t\t\tsetElementEnabled(this.stepOut, false);\n\t\t\tthis.locals.empty();\n\t\t\tthis.callstack.empty();\n\t\t\tthis.vmState.empty();\n\t\t\tthis.dom.addClass(\"pb-collapsed\");\n\t\t} else if (event instanceof events.Step) {\n\t\t\tif (this.vm && this.vm.frames.length > 0) {\n\t\t\t\tthis.selectedFrame = this.vm.frames[this.vm.frames.length - 1];\n\t\t\t}\n\t\t\tthis.setBreakpoints();\n\t\t} else if (event instanceof events.BreakpointAdded) {\n\t\t\tthis.breakpoints.push(event.breakpoint);\n\t\t\tthis.setBreakpoints();\n\t\t} else if (event instanceof events.BreakpointRemoved) {\n\t\t\tlet idx = -1;\n\t\t\tthis.breakpoints.forEach((bp, index) => {\n\t\t\t\tif (bp === event.breakpoint) {\n\t\t\t\t\tidx = index;\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.breakpoints.splice(idx, 1);\n\t\t\tthis.setBreakpoints();\n\t\t}\n\t\tthis.renderState();\n\t}\n\n\trenderState () {\n\t\tif (!this.locals) return;\n\t\tthis.locals.empty();\n\t\tthis.callstack.empty();\n\t\tthis.vmState.empty();\n\t\tif (this.state == DebuggerState.Paused && this.vm && this.vm.frames.length > 0) {\n\t\t\tthis.vm.frames.slice(0).reverse().forEach((frame, index) => {\n\t\t\t\tlet signature = (frame.code.ast as compiler.FunctionDecl).type.signature;\n\t\t\t\tlet lineInfo = frame.code.lineInfos[index == 0 ? frame.pc : frame.pc - 1];\n\t\t\t\tlet dom = $(/*html*/`\n\t\t\t\t\t<div class=\"pb-debugger-callstack-frame\">\n\t\t\t\t\t</div>\n\t\t\t\t`);\n\t\t\t\tdom.text(signature + \" line \" + lineInfo.line);\n\n\t\t\t\tif (frame == this.selectedFrame) dom.addClass(\"selected\");\n\n\t\t\t\tdom.click(() => {\n\t\t\t\t\tthis.selectedFrame = frame;\n\t\t\t\t\tthis.bus.event(new events.LineChange(lineInfo.line));\n\t\t\t\t\tthis.renderState();\n\t\t\t\t})\n\n\t\t\t\tthis.callstack.append(dom);\n\t\t\t});\n\n\t\t\tif (this.selectedFrame) {\n\t\t\t\tlet pc = this.selectedFrame.pc;\n\t\t\t\tthis.selectedFrame.slots.forEach(slot => {\n\t\t\t\t\tif (slot.value == null) return;\n\t\t\t\t\tif (pc < slot.scope.startPc || pc > slot.scope.endPc) return;\n\t\t\t\t\tlet dom = $(/*html*/`\n\t\t\t\t\t\t<div class=\"pb-debugger-local\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t`);\n\t\t\t\t\tdom.text(slot.symbol.name.value + \": \" + JSON.stringify(slot.value));\n\t\t\t\t\tdom.click(() => {\n\t\t\t\t\t\tlet location = slot.symbol.name.location;\n\t\t\t\t\t\tthis.bus.event(new events.Select(\n\t\t\t\t\t\t\tlocation.start.line,\n\t\t\t\t\t\t\tlocation.start.column,\n\t\t\t\t\t\t\tlocation.end.line,\n\t\t\t\t\t\t\tlocation.end.column\n\t\t\t\t\t\t));\n\t\t\t\t\t})\n\t\t\t\t\tthis.locals.append(dom);\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.renderVmState(this.vm);\n\t\t}\n\t}\n\n\trenderVmState(vm: vm.VirtualMachine) {\n\t\tvar output = \"\";\n\t\tthis.vm.frames.slice(0).reverse().forEach(frame => {\n\t\t\toutput += (frame.code.ast as compiler.FunctionDecl).type.signature;\n\t\t\toutput += \"\\nlocals:\\n\"\n\t\t\tframe.slots.forEach((slot, index) => {\n\t\t\t\toutput += `   [${index}] ` + slot.symbol.name.value + \": \" + slot.value + \"\\n\";\n\t\t\t});\n\n\t\t\toutput += \"\\ninstructions:\\n\"\n\t\t\tvar lastLineInfoIndex = -1;\n\t\t\tframe.code.instructions.forEach((ins, index) => {\n\t\t\t\tlet line = frame.code.lineInfos[index];\n\t\t\t\tif (lastLineInfoIndex != line.index) {\n\t\t\t\t\toutput += \"\\n\";\n\t\t\t\t\tlastLineInfoIndex = line.index;\n\t\t\t\t}\n\t\t\t\toutput += (index == frame.pc ? \" -> \" : \"    \") + JSON.stringify(ins) + \" \" + line.index + \":\" + line.line + \"\\n\";\n\t\t\t});\n\t\t\toutput += \"\\n\";\n\t\t});\n\t\tthis.vmState.text(output);\n\n\t\t/*let valueStack = $(\"#pb-debugger-valuestack\")[0];\n\t\toutput = \"stack:\\n\"\n\t\tthis.vm.stack.slice(0).reverse().forEach((value, index) => {\n\t\t\toutput += `   [${index}] = `+ JSON.stringify(value) + \"\\n\";\n\t\t})\n\t\tvalueStack.innerHTML = output;*/\n\t}\n}","// tslint:disable:only-arrow-functions\n// tslint:disable:object-literal-shorthand\n// tslint:disable:trailing-comma\n// tslint:disable:object-literal-sort-keys\n// tslint:disable:one-variable-per-declaration\n// tslint:disable:max-line-length\n// tslint:disable:no-consecutive-blank-lines\n// tslint:disable:align\n\n\n// Generated by PEG.js v. 0.10.0 (ts-pegjs plugin v. 0.2.2 )\n//\n// https://pegjs.org/   https://github.com/metadevpro/ts-pegjs\n\n\"use strict\";\n\nexport interface IFilePosition {\n  offset: number;\n  line: number;\n  column: number;\n}\n\nexport interface IFileRange {\n  start: IFilePosition;\n  end: IFilePosition;\n}\n\nexport interface ILiteralExpectation {\n  type: \"literal\";\n  text: string;\n  ignoreCase: boolean;\n}\n\nexport interface IClassParts extends Array<string | IClassParts> {}\n\nexport interface IClassExpectation {\n  type: \"class\";\n  parts: IClassParts;\n  inverted: boolean;\n  ignoreCase: boolean;\n}\n\nexport interface IAnyExpectation {\n  type: \"any\";\n}\n\nexport interface IEndExpectation {\n  type: \"end\";\n}\n\nexport interface IOtherExpectation {\n  type: \"other\";\n  description: string;\n}\n\nexport type Expectation = ILiteralExpectation | IClassExpectation | IAnyExpectation | IEndExpectation | IOtherExpectation;\n\nexport class SyntaxError extends Error {\n  public static buildMessage(expected: Expectation[], found: string | null) {\n    function hex(ch: string): string {\n      return ch.charCodeAt(0).toString(16).toUpperCase();\n    }\n\n    function literalEscape(s: string): string {\n      return s\n        .replace(/\\\\/g, \"\\\\\\\\\")\n        .replace(/\"/g,  \"\\\\\\\"\")\n        .replace(/\\0/g, \"\\\\0\")\n        .replace(/\\t/g, \"\\\\t\")\n        .replace(/\\n/g, \"\\\\n\")\n        .replace(/\\r/g, \"\\\\r\")\n        .replace(/[\\x00-\\x0F]/g,            (ch) => \"\\\\x0\" + hex(ch) )\n        .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, (ch) => \"\\\\x\"  + hex(ch) );\n    }\n\n    function classEscape(s: string): string {\n      return s\n        .replace(/\\\\/g, \"\\\\\\\\\")\n        .replace(/\\]/g, \"\\\\]\")\n        .replace(/\\^/g, \"\\\\^\")\n        .replace(/-/g,  \"\\\\-\")\n        .replace(/\\0/g, \"\\\\0\")\n        .replace(/\\t/g, \"\\\\t\")\n        .replace(/\\n/g, \"\\\\n\")\n        .replace(/\\r/g, \"\\\\r\")\n        .replace(/[\\x00-\\x0F]/g,            (ch) => \"\\\\x0\" + hex(ch) )\n        .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, (ch) => \"\\\\x\"  + hex(ch) );\n    }\n\n    function describeExpectation(expectation: Expectation) {\n      switch (expectation.type) {\n        case \"literal\":\n          return \"\\\"\" + literalEscape(expectation.text) + \"\\\"\";\n        case \"class\":\n          const escapedParts = expectation.parts.map((part) => {\n            return Array.isArray(part)\n              ? classEscape(part[0] as string) + \"-\" + classEscape(part[1] as string)\n              : classEscape(part);\n          });\n\n          return \"[\" + (expectation.inverted ? \"^\" : \"\") + escapedParts + \"]\";\n        case \"any\":\n          return \"any character\";\n        case \"end\":\n          return \"end of input\";\n        case \"other\":\n          return expectation.description;\n      }\n    }\n\n    function describeExpected(expected1: Expectation[]) {\n      const descriptions = expected1.map(describeExpectation);\n      let i;\n      let j;\n\n      descriptions.sort();\n\n      if (descriptions.length > 0) {\n        for (i = 1, j = 1; i < descriptions.length; i++) {\n          if (descriptions[i - 1] !== descriptions[i]) {\n            descriptions[j] = descriptions[i];\n            j++;\n          }\n        }\n        descriptions.length = j;\n      }\n\n      switch (descriptions.length) {\n        case 1:\n          return descriptions[0];\n\n        case 2:\n          return descriptions[0] + \" or \" + descriptions[1];\n\n        default:\n          return descriptions.slice(0, -1).join(\", \")\n            + \", or \"\n            + descriptions[descriptions.length - 1];\n      }\n    }\n\n    function describeFound(found1: string | null) {\n      return found1 ? \"\\\"\" + literalEscape(found1) + \"\\\"\" : \"end of input\";\n    }\n\n    return \"Expected \" + describeExpected(expected) + \" but \" + describeFound(found) + \" found.\";\n  }\n\n  public message: string;\n  public expected: Expectation[];\n  public found: string | null;\n  public location: IFileRange;\n  public name: string;\n\n  constructor(message: string, expected: Expectation[], found: string | null, location: IFileRange) {\n    super();\n    this.message = message;\n    this.expected = expected;\n    this.found = found;\n    this.location = location;\n    this.name = \"SyntaxError\";\n\n    if (typeof (Error as any).captureStackTrace === \"function\") {\n      (Error as any).captureStackTrace(this, SyntaxError);\n    }\n  }\n}\n\nfunction peg$parse(input: string, options?: IParseOptions) {\n  options = options !== undefined ? options : {};\n\n  const peg$FAILED = {};\n\n  const peg$startRuleFunctions: {[id: string]: any} = { Program: peg$parseProgram };\n  let peg$startRuleFunction: () => any = peg$parseProgram;\n\n  const peg$c0 = function(stmts: any) {\n      return stmts.map(function(element) {\n        return element[1];\n      });\n    };\n  const peg$c1 = \"#\";\n  const peg$c2 = peg$literalExpectation(\"#\", false);\n  const peg$c3 = \"\\n\";\n  const peg$c4 = peg$literalExpectation(\"\\n\", false);\n  const peg$c5 = peg$anyExpectation();\n  const peg$c6 = function() {\n      return { kind: \"comment\", value: text(), location: location() }\n    };\n  const peg$c7 = function(id: any) {\n      return { id: id };\n    };\n  const peg$c8 = peg$otherExpectation(\"function\");\n  const peg$c9 = \"fun\";\n  const peg$c10 = peg$literalExpectation(\"fun\", false);\n  const peg$c11 = \"(\";\n  const peg$c12 = peg$literalExpectation(\"(\", false);\n  const peg$c13 = \")\";\n  const peg$c14 = peg$literalExpectation(\")\", false);\n  const peg$c15 = \":\";\n  const peg$c16 = peg$literalExpectation(\":\", false);\n  const peg$c17 = \"end\";\n  const peg$c18 = peg$literalExpectation(\"end\", false);\n  const peg$c19 = function(id: any, params: any, returnType: any, stmts: any) {\n      return {\n        kind: \"function\",\n        name: id,\n        params: params,\n        returnTypeName: returnType != null ? returnType[2] : null,\n        block: stmts.map(function(element) { return element[1]; }),\n        location: location()\n      };\n    };\n  const peg$c20 = function(name: any, typeName: any) {\n      return {\n        name: name,\n        typeName: typeName\n      }\n    };\n  const peg$c21 = \",\";\n  const peg$c22 = peg$literalExpectation(\",\", false);\n  const peg$c23 = function(params: any) {\n      if (params == null) return [];\n      var head = params[0];\n      params = params[1].map(function(element) {\n        return element[3];\n      })\n    \tparams.unshift(head);\n      return params;\n    };\n  const peg$c24 = \"record\";\n  const peg$c25 = peg$literalExpectation(\"record\", false);\n  const peg$c26 = function(name: any, fields: any) {\n      return {\n        kind: \"record\",\n        name: name,\n        fields: fields,\n        location: location()\n      }\n    };\n  const peg$c27 = function(fields: any) {\n      if (fields == null) return [];\n      var head = fields[0];\n      fields = fields[1].map(function(element) {\n        return element[1];\n      })\n    \tfields.unshift(head);\n      return fields;\n    };\n  const peg$c28 = \"var\";\n  const peg$c29 = peg$literalExpectation(\"var\", false);\n  const peg$c30 = \"=\";\n  const peg$c31 = peg$literalExpectation(\"=\", false);\n  const peg$c32 = \"->\";\n  const peg$c33 = peg$literalExpectation(\"->\", false);\n  const peg$c34 = function(id: any, typeName: any, init: any) {\n      return {\n        kind: \"variable\",\n        name: id,\n        typeName: typeName? typeName[2] : null,\n        value: init,\n        location: location()\n      };\n    };\n  const peg$c35 = function(left: any, right: any) {\n      return {\n        kind: \"assignment\",\n        left: left,\n        right: right,\n        location: location()\n      };\n    };\n  const peg$c36 = \"repeat\";\n  const peg$c37 = peg$literalExpectation(\"repeat\", false);\n  const peg$c38 = \"times\";\n  const peg$c39 = peg$literalExpectation(\"times\", false);\n  const peg$c40 = function(count: any, stmts: any) {\n      return {\n        kind: \"repeat\",\n        count: count,\n        block: stmts.map(function(element) { return element[1]; }),\n        location: location()\n      };\n    };\n  const peg$c41 = \"while\";\n  const peg$c42 = peg$literalExpectation(\"while\", false);\n  const peg$c43 = \"do\";\n  const peg$c44 = peg$literalExpectation(\"do\", false);\n  const peg$c45 = function(cond: any, stmts: any) {\n      return {\n        kind: \"while\",\n        condition: cond,\n        block: stmts.map(function(element) { return element[1]; }),\n        location: location()\n      };\n    };\n  const peg$c46 = \"if\";\n  const peg$c47 = peg$literalExpectation(\"if\", false);\n  const peg$c48 = \"then\";\n  const peg$c49 = peg$literalExpectation(\"then\", false);\n  const peg$c50 = \"elseif\";\n  const peg$c51 = peg$literalExpectation(\"elseif\", false);\n  const peg$c52 = \"else\";\n  const peg$c53 = peg$literalExpectation(\"else\", false);\n  const peg$c54 = function(cond: any, trueBlock: any, elseIfs: any, falseBlock: any) {\n      if (elseIfs.length > 0) {\n      \telseIfs[0] = 0\n      }\n\n      return {\n      \tkind: \"if\",\n        condition: cond,\n        trueBlock: trueBlock.map(function(element) { return element[1]; }),\n        elseIfs: elseIfs,\n        falseBlock: falseBlock ? falseBlock[2].map(function(element) { return element[1]; }) : [],\n        location: location()\n  \t  }\n    };\n  const peg$c55 = \"return\";\n  const peg$c56 = peg$literalExpectation(\"return\", false);\n  const peg$c57 = function(value: any) {\n      return {\n        kind: \"return\",\n        value: value,\n        location: location()\n      }\n    };\n  const peg$c58 = \"break\";\n  const peg$c59 = peg$literalExpectation(\"break\", false);\n  const peg$c60 = function() {\n      return {\n        kind: \"break\",\n        location: location()\n      }\n    };\n  const peg$c61 = \"continue\";\n  const peg$c62 = peg$literalExpectation(\"continue\", false);\n  const peg$c63 = function() {\n      return {\n        kind: \"continue\",\n        location: location()\n      }\n    };\n  const peg$c64 = \"and\";\n  const peg$c65 = peg$literalExpectation(\"and\", false);\n  const peg$c66 = \"or\";\n  const peg$c67 = peg$literalExpectation(\"or\", false);\n  const peg$c68 = \"xor\";\n  const peg$c69 = peg$literalExpectation(\"xor\", false);\n  const peg$c70 = function(head: any, tail: any) {\n      if (tail.length == 0) return head;\n\n    \treturn tail.reduce(function(result, element) {\n      \treturn {\n            kind: \"binaryOp\",\n            operator: element[1],\n            left: result,\n            right: element[3],\n            location: location()\n          }\n      }, head);\n    };\n  const peg$c71 = \"<=\";\n  const peg$c72 = peg$literalExpectation(\"<=\", false);\n  const peg$c73 = \">=\";\n  const peg$c74 = peg$literalExpectation(\">=\", false);\n  const peg$c75 = \"<\";\n  const peg$c76 = peg$literalExpectation(\"<\", false);\n  const peg$c77 = \">\";\n  const peg$c78 = peg$literalExpectation(\">\", false);\n  const peg$c79 = \"==\";\n  const peg$c80 = peg$literalExpectation(\"==\", false);\n  const peg$c81 = \"!=\";\n  const peg$c82 = peg$literalExpectation(\"!=\", false);\n  const peg$c83 = \"+\";\n  const peg$c84 = peg$literalExpectation(\"+\", false);\n  const peg$c85 = \"-\";\n  const peg$c86 = peg$literalExpectation(\"-\", false);\n  const peg$c87 = \"..\";\n  const peg$c88 = peg$literalExpectation(\"..\", false);\n  const peg$c89 = \"*\";\n  const peg$c90 = peg$literalExpectation(\"*\", false);\n  const peg$c91 = \"/\";\n  const peg$c92 = peg$literalExpectation(\"/\", false);\n  const peg$c93 = \"not\";\n  const peg$c94 = peg$literalExpectation(\"not\", false);\n  const peg$c95 = function(op: any, factor: any) {\n    \tif (!op) return factor;\n      return {\n      \tkind: \"unaryOp\",\n          operator: op[0],\n          value: factor,\n          location: location() // TODO should use location of op\n      };\n    };\n  const peg$c96 = function(expr: any) { return expr; };\n  const peg$c97 = peg$otherExpectation(\"function call or variable name\");\n  const peg$c98 = function(id: any, access: any) {\n    \tif (access === null) {\n        return {\n          kind: \"variableAccess\",\n          name: id,\n          location: location()\n        }\n      } else {\n      \tif (access.length == 1 && access[0].kind == \"arguments\") {\n            return {\n              kind: \"functionCall\",\n              name: id,\n              args: access[0].args,\n              location: location()\n            }\n          }\n\n          var parent = {\n            kind: \"variableAccess\",\n            name: id,\n            location: location()\n          };\n\n          access.map(function (el) {\n          \tif (el.kind == \"fieldAccess\") {\n              \tel.record = parent;\n              \tparent = el;\n              } else if (el.kind == \"arrayAccess\") {\n              \tel.array = parent;\n              \tparent = el;\n              }\n          });\n          return parent;\n      }\n    };\n  const peg$c99 = \".\";\n  const peg$c100 = peg$literalExpectation(\".\", false);\n  const peg$c101 = function(id: any) {\n    \treturn {\n  \t\tkind: \"fieldAccess\",\n          record: null,\n  \t\tname: id,\n          location: location()\n      }\n    };\n  const peg$c102 = \"[\";\n  const peg$c103 = peg$literalExpectation(\"[\", false);\n  const peg$c104 = \"]\";\n  const peg$c105 = peg$literalExpectation(\"]\", false);\n  const peg$c106 = function(index: any) {\n    \treturn {\n      \tkind: \"arrayAccess\",\n          array: null,\n          index: index,\n          location: location()\n      }\n    };\n  const peg$c107 = peg$otherExpectation(\"arguments\");\n  const peg$c108 = function(args: any) {\n      if (args == null) return { kind: \"arguments\", args: [] };\n      var head = args[0];\n      args = args[1].map(function(element) {\n        return element[3];\n      })\n  \t  args.unshift(head);\n      return {\n      \tkind: \"arguments\",\n      \targs: args\n      };\n    };\n  const peg$c109 = peg$otherExpectation(\"number\");\n  const peg$c110 = /^[0-9]/;\n  const peg$c111 = peg$classExpectation([[\"0\", \"9\"]], false, false);\n  const peg$c112 = function() {\n      return {\n        kind: \"number\",\n        value: parseFloat(text()),\n        location: location()\n      };\n    };\n  const peg$c113 = peg$otherExpectation(\"boolean\");\n  const peg$c114 = \"false\";\n  const peg$c115 = peg$literalExpectation(\"false\", false);\n  const peg$c116 = \"true\";\n  const peg$c117 = peg$literalExpectation(\"true\", false);\n  const peg$c118 = function() {\n   \treturn {\n      \tkind: \"boolean\",\n        value: text() == \"true\",\n        location: location()\n      };\n   };\n  const peg$c119 = peg$otherExpectation(\"string\");\n  const peg$c120 = function(chars: any) {\n      return {\n        kind: \"string\",\n        value: chars,\n        location: location()\n      };\n    };\n  const peg$c121 = \"\\\"\";\n  const peg$c122 = peg$literalExpectation(\"\\\"\", false);\n  const peg$c123 = function(chars: any) { return chars.join(''); };\n  const peg$c124 = \"'\";\n  const peg$c125 = peg$literalExpectation(\"'\", false);\n  const peg$c126 = \"\\\\\";\n  const peg$c127 = peg$literalExpectation(\"\\\\\", false);\n  const peg$c128 = function(char: any) { return char; };\n  const peg$c129 = function(sequence: any) { return sequence; };\n  const peg$c130 = \"b\";\n  const peg$c131 = peg$literalExpectation(\"b\", false);\n  const peg$c132 = function() { return \"\\b\";   };\n  const peg$c133 = \"f\";\n  const peg$c134 = peg$literalExpectation(\"f\", false);\n  const peg$c135 = function() { return \"\\f\";   };\n  const peg$c136 = \"n\";\n  const peg$c137 = peg$literalExpectation(\"n\", false);\n  const peg$c138 = function() { return \"\\n\";   };\n  const peg$c139 = \"r\";\n  const peg$c140 = peg$literalExpectation(\"r\", false);\n  const peg$c141 = function() { return \"\\r\";   };\n  const peg$c142 = \"t\";\n  const peg$c143 = peg$literalExpectation(\"t\", false);\n  const peg$c144 = function() { return \"\\t\";   };\n  const peg$c145 = \"v\";\n  const peg$c146 = peg$literalExpectation(\"v\", false);\n  const peg$c147 = function() { return \"\\x0B\"; };\n  const peg$c148 = peg$otherExpectation(\"identifier\");\n  const peg$c149 = function() {\n      return {\n        location: location(),\n        value: text()\n      };\n    };\n  const peg$c150 = /^[a-zA-Z_]/;\n  const peg$c151 = peg$classExpectation([[\"a\", \"z\"], [\"A\", \"Z\"], \"_\"], false, false);\n  const peg$c152 = /^[a-zA-Z_0-9]/;\n  const peg$c153 = peg$classExpectation([[\"a\", \"z\"], [\"A\", \"Z\"], \"_\", [\"0\", \"9\"]], false, false);\n  const peg$c154 = peg$otherExpectation(\"whitespace\");\n  const peg$c155 = /^[ \\t\\n\\r]/;\n  const peg$c156 = peg$classExpectation([\" \", \"\\t\", \"\\n\", \"\\r\"], false, false);\n  const peg$c157 = function() { return \"whitespace\"; };\n\n  let peg$currPos = 0;\n  let peg$savedPos = 0;\n  const peg$posDetailsCache = [{ line: 1, column: 1 }];\n  let peg$maxFailPos = 0;\n  let peg$maxFailExpected: any[] = [];\n  let peg$silentFails = 0;\n\n  let peg$result;\n\n  if (options.startRule !== undefined) {\n    if (!(options.startRule in peg$startRuleFunctions)) {\n      throw new Error(\"Can't start parsing from rule \\\"\" + options.startRule + \"\\\".\");\n    }\n\n    peg$startRuleFunction = peg$startRuleFunctions[options.startRule];\n  }\n\n  function text(): string {\n    return input.substring(peg$savedPos, peg$currPos);\n  }\n\n  function location(): IFileRange {\n    return peg$computeLocation(peg$savedPos, peg$currPos);\n  }\n\n  function expected(description: string, location1?: IFileRange) {\n    location1 = location1 !== undefined\n      ? location1\n      : peg$computeLocation(peg$savedPos, peg$currPos);\n\n    throw peg$buildStructuredError(\n      [peg$otherExpectation(description)],\n      input.substring(peg$savedPos, peg$currPos),\n      location1\n    );\n  }\n\n  function error(message: string, location1?: IFileRange) {\n    location1 = location1 !== undefined\n      ? location1\n      : peg$computeLocation(peg$savedPos, peg$currPos);\n\n    throw peg$buildSimpleError(message, location1);\n  }\n\n  function peg$literalExpectation(text1: string, ignoreCase: boolean): ILiteralExpectation {\n    return { type: \"literal\", text: text1, ignoreCase: ignoreCase };\n  }\n\n  function peg$classExpectation(parts: IClassParts, inverted: boolean, ignoreCase: boolean): IClassExpectation {\n    return { type: \"class\", parts: parts, inverted: inverted, ignoreCase: ignoreCase };\n  }\n\n  function peg$anyExpectation(): IAnyExpectation {\n    return { type: \"any\" };\n  }\n\n  function peg$endExpectation(): IEndExpectation {\n    return { type: \"end\" };\n  }\n\n  function peg$otherExpectation(description: string): IOtherExpectation {\n    return { type: \"other\", description: description };\n  }\n\n  function peg$computePosDetails(pos: number) {\n    let details = peg$posDetailsCache[pos];\n    let p;\n\n    if (details) {\n      return details;\n    } else {\n      p = pos - 1;\n      while (!peg$posDetailsCache[p]) {\n        p--;\n      }\n\n      details = peg$posDetailsCache[p];\n      details = {\n        line: details.line,\n        column: details.column\n      };\n\n      while (p < pos) {\n        if (input.charCodeAt(p) === 10) {\n          details.line++;\n          details.column = 1;\n        } else {\n          details.column++;\n        }\n\n        p++;\n      }\n\n      peg$posDetailsCache[pos] = details;\n\n      return details;\n    }\n  }\n\n  function peg$computeLocation(startPos: number, endPos: number): IFileRange {\n    const startPosDetails = peg$computePosDetails(startPos);\n    const endPosDetails = peg$computePosDetails(endPos);\n\n    return {\n      start: {\n        offset: startPos,\n        line: startPosDetails.line,\n        column: startPosDetails.column\n      },\n      end: {\n        offset: endPos,\n        line: endPosDetails.line,\n        column: endPosDetails.column\n      }\n    };\n  }\n\n  function peg$fail(expected1: Expectation) {\n    if (peg$currPos < peg$maxFailPos) { return; }\n\n    if (peg$currPos > peg$maxFailPos) {\n      peg$maxFailPos = peg$currPos;\n      peg$maxFailExpected = [];\n    }\n\n    peg$maxFailExpected.push(expected1);\n  }\n\n  function peg$buildSimpleError(message: string, location1: IFileRange) {\n    return new SyntaxError(message, [], \"\", location1);\n  }\n\n  function peg$buildStructuredError(expected1: Expectation[], found: string | null, location1: IFileRange) {\n    return new SyntaxError(\n      SyntaxError.buildMessage(expected1, found),\n      expected1,\n      found,\n      location1\n    );\n  }\n\n  function peg$parseProgram(): any {\n    let s0, s1, s2, s3, s4, s5, s6;\n\n    s0 = peg$currPos;\n    s1 = peg$parse_();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$currPos;\n      s4 = peg$parse_();\n      if (s4 !== peg$FAILED) {\n        s5 = peg$parseStatement();\n        if (s5 === peg$FAILED) {\n          s5 = peg$parseFunction();\n          if (s5 === peg$FAILED) {\n            s5 = peg$parseRecord();\n          }\n        }\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parse_();\n          if (s6 !== peg$FAILED) {\n            s4 = [s4, s5, s6];\n            s3 = s4;\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s3;\n        s3 = peg$FAILED;\n      }\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$currPos;\n        s4 = peg$parse_();\n        if (s4 !== peg$FAILED) {\n          s5 = peg$parseStatement();\n          if (s5 === peg$FAILED) {\n            s5 = peg$parseFunction();\n            if (s5 === peg$FAILED) {\n              s5 = peg$parseRecord();\n            }\n          }\n          if (s5 !== peg$FAILED) {\n            s6 = peg$parse_();\n            if (s6 !== peg$FAILED) {\n              s4 = [s4, s5, s6];\n              s3 = s4;\n            } else {\n              peg$currPos = s3;\n              s3 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parse_();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c0(s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseComment(): any {\n    let s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 35) {\n      s1 = peg$c1;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c2); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$currPos;\n      s4 = peg$currPos;\n      peg$silentFails++;\n      if (input.charCodeAt(peg$currPos) === 10) {\n        s5 = peg$c3;\n        peg$currPos++;\n      } else {\n        s5 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c4); }\n      }\n      peg$silentFails--;\n      if (s5 === peg$FAILED) {\n        s4 = undefined;\n      } else {\n        peg$currPos = s4;\n        s4 = peg$FAILED;\n      }\n      if (s4 !== peg$FAILED) {\n        if (input.length > peg$currPos) {\n          s5 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s5 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c5); }\n        }\n        if (s5 !== peg$FAILED) {\n          s4 = [s4, s5];\n          s3 = s4;\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s3;\n        s3 = peg$FAILED;\n      }\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$currPos;\n        s4 = peg$currPos;\n        peg$silentFails++;\n        if (input.charCodeAt(peg$currPos) === 10) {\n          s5 = peg$c3;\n          peg$currPos++;\n        } else {\n          s5 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c4); }\n        }\n        peg$silentFails--;\n        if (s5 === peg$FAILED) {\n          s4 = undefined;\n        } else {\n          peg$currPos = s4;\n          s4 = peg$FAILED;\n        }\n        if (s4 !== peg$FAILED) {\n          if (input.length > peg$currPos) {\n            s5 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s5 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c5); }\n          }\n          if (s5 !== peg$FAILED) {\n            s4 = [s4, s5];\n            s3 = s4;\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 10) {\n          s3 = peg$c3;\n          peg$currPos++;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c4); }\n        }\n        if (s3 === peg$FAILED) {\n          s3 = peg$currPos;\n          peg$silentFails++;\n          if (input.length > peg$currPos) {\n            s4 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c5); }\n          }\n          peg$silentFails--;\n          if (s4 === peg$FAILED) {\n            s3 = undefined;\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        }\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c6();\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseType(): any {\n    let s0, s1;\n\n    s0 = peg$currPos;\n    s1 = peg$parseIdentifier();\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c7(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parseFunction(): any {\n    let s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10, s11, s12, s13, s14, s15;\n\n    peg$silentFails++;\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 3) === peg$c9) {\n      s1 = peg$c9;\n      peg$currPos += 3;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c10); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parse_();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parseIdentifier();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parse_();\n          if (s4 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 40) {\n              s5 = peg$c11;\n              peg$currPos++;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c12); }\n            }\n            if (s5 !== peg$FAILED) {\n              s6 = peg$parseParameters();\n              if (s6 !== peg$FAILED) {\n                if (input.charCodeAt(peg$currPos) === 41) {\n                  s7 = peg$c13;\n                  peg$currPos++;\n                } else {\n                  s7 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c14); }\n                }\n                if (s7 !== peg$FAILED) {\n                  s8 = peg$parse_();\n                  if (s8 !== peg$FAILED) {\n                    s9 = peg$currPos;\n                    if (input.charCodeAt(peg$currPos) === 58) {\n                      s10 = peg$c15;\n                      peg$currPos++;\n                    } else {\n                      s10 = peg$FAILED;\n                      if (peg$silentFails === 0) { peg$fail(peg$c16); }\n                    }\n                    if (s10 !== peg$FAILED) {\n                      s11 = peg$parse_();\n                      if (s11 !== peg$FAILED) {\n                        s12 = peg$parseType();\n                        if (s12 !== peg$FAILED) {\n                          s13 = peg$parse_();\n                          if (s13 !== peg$FAILED) {\n                            s10 = [s10, s11, s12, s13];\n                            s9 = s10;\n                          } else {\n                            peg$currPos = s9;\n                            s9 = peg$FAILED;\n                          }\n                        } else {\n                          peg$currPos = s9;\n                          s9 = peg$FAILED;\n                        }\n                      } else {\n                        peg$currPos = s9;\n                        s9 = peg$FAILED;\n                      }\n                    } else {\n                      peg$currPos = s9;\n                      s9 = peg$FAILED;\n                    }\n                    if (s9 === peg$FAILED) {\n                      s9 = null;\n                    }\n                    if (s9 !== peg$FAILED) {\n                      s10 = peg$parse_();\n                      if (s10 !== peg$FAILED) {\n                        s11 = [];\n                        s12 = peg$currPos;\n                        s13 = peg$parse_();\n                        if (s13 !== peg$FAILED) {\n                          s14 = peg$parseStatement();\n                          if (s14 !== peg$FAILED) {\n                            s15 = peg$parse_();\n                            if (s15 !== peg$FAILED) {\n                              s13 = [s13, s14, s15];\n                              s12 = s13;\n                            } else {\n                              peg$currPos = s12;\n                              s12 = peg$FAILED;\n                            }\n                          } else {\n                            peg$currPos = s12;\n                            s12 = peg$FAILED;\n                          }\n                        } else {\n                          peg$currPos = s12;\n                          s12 = peg$FAILED;\n                        }\n                        while (s12 !== peg$FAILED) {\n                          s11.push(s12);\n                          s12 = peg$currPos;\n                          s13 = peg$parse_();\n                          if (s13 !== peg$FAILED) {\n                            s14 = peg$parseStatement();\n                            if (s14 !== peg$FAILED) {\n                              s15 = peg$parse_();\n                              if (s15 !== peg$FAILED) {\n                                s13 = [s13, s14, s15];\n                                s12 = s13;\n                              } else {\n                                peg$currPos = s12;\n                                s12 = peg$FAILED;\n                              }\n                            } else {\n                              peg$currPos = s12;\n                              s12 = peg$FAILED;\n                            }\n                          } else {\n                            peg$currPos = s12;\n                            s12 = peg$FAILED;\n                          }\n                        }\n                        if (s11 !== peg$FAILED) {\n                          s12 = peg$parse_();\n                          if (s12 !== peg$FAILED) {\n                            if (input.substr(peg$currPos, 3) === peg$c17) {\n                              s13 = peg$c17;\n                              peg$currPos += 3;\n                            } else {\n                              s13 = peg$FAILED;\n                              if (peg$silentFails === 0) { peg$fail(peg$c18); }\n                            }\n                            if (s13 !== peg$FAILED) {\n                              peg$savedPos = s0;\n                              s1 = peg$c19(s3, s6, s9, s11);\n                              s0 = s1;\n                            } else {\n                              peg$currPos = s0;\n                              s0 = peg$FAILED;\n                            }\n                          } else {\n                            peg$currPos = s0;\n                            s0 = peg$FAILED;\n                          }\n                        } else {\n                          peg$currPos = s0;\n                          s0 = peg$FAILED;\n                        }\n                      } else {\n                        peg$currPos = s0;\n                        s0 = peg$FAILED;\n                      }\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c8); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseParameter(): any {\n    let s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$parseIdentifier();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parse_();\n      if (s2 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 58) {\n          s3 = peg$c15;\n          peg$currPos++;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c16); }\n        }\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parse_();\n          if (s4 !== peg$FAILED) {\n            s5 = peg$parseType();\n            if (s5 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c20(s1, s5);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseParameters(): any {\n    let s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    s0 = peg$currPos;\n    s1 = peg$currPos;\n    s2 = peg$parseParameter();\n    if (s2 !== peg$FAILED) {\n      s3 = [];\n      s4 = peg$currPos;\n      s5 = peg$parse_();\n      if (s5 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 44) {\n          s6 = peg$c21;\n          peg$currPos++;\n        } else {\n          s6 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c22); }\n        }\n        if (s6 !== peg$FAILED) {\n          s7 = peg$parse_();\n          if (s7 !== peg$FAILED) {\n            s8 = peg$parseParameter();\n            if (s8 !== peg$FAILED) {\n              s5 = [s5, s6, s7, s8];\n              s4 = s5;\n            } else {\n              peg$currPos = s4;\n              s4 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s4;\n            s4 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s4;\n          s4 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s4;\n        s4 = peg$FAILED;\n      }\n      while (s4 !== peg$FAILED) {\n        s3.push(s4);\n        s4 = peg$currPos;\n        s5 = peg$parse_();\n        if (s5 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 44) {\n            s6 = peg$c21;\n            peg$currPos++;\n          } else {\n            s6 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c22); }\n          }\n          if (s6 !== peg$FAILED) {\n            s7 = peg$parse_();\n            if (s7 !== peg$FAILED) {\n              s8 = peg$parseParameter();\n              if (s8 !== peg$FAILED) {\n                s5 = [s5, s6, s7, s8];\n                s4 = s5;\n              } else {\n                peg$currPos = s4;\n                s4 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s4;\n              s4 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s4;\n            s4 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s4;\n          s4 = peg$FAILED;\n        }\n      }\n      if (s3 !== peg$FAILED) {\n        s2 = [s2, s3];\n        s1 = s2;\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s1;\n      s1 = peg$FAILED;\n    }\n    if (s1 === peg$FAILED) {\n      s1 = null;\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c23(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parseRecord(): any {\n    let s0, s1, s2, s3, s4, s5, s6, s7;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 6) === peg$c24) {\n      s1 = peg$c24;\n      peg$currPos += 6;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c25); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parse_();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parseIdentifier();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parse_();\n          if (s4 !== peg$FAILED) {\n            s5 = peg$parseFields();\n            if (s5 !== peg$FAILED) {\n              s6 = peg$parse_();\n              if (s6 !== peg$FAILED) {\n                if (input.substr(peg$currPos, 3) === peg$c17) {\n                  s7 = peg$c17;\n                  peg$currPos += 3;\n                } else {\n                  s7 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c18); }\n                }\n                if (s7 !== peg$FAILED) {\n                  peg$savedPos = s0;\n                  s1 = peg$c26(s3, s5);\n                  s0 = s1;\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseField(): any {\n    let s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$parseIdentifier();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parse_();\n      if (s2 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 58) {\n          s3 = peg$c15;\n          peg$currPos++;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c16); }\n        }\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parse_();\n          if (s4 !== peg$FAILED) {\n            s5 = peg$parseType();\n            if (s5 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c20(s1, s5);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseFields(): any {\n    let s0, s1, s2, s3, s4, s5, s6;\n\n    s0 = peg$currPos;\n    s1 = peg$currPos;\n    s2 = peg$parseField();\n    if (s2 !== peg$FAILED) {\n      s3 = [];\n      s4 = peg$currPos;\n      s5 = peg$parse_();\n      if (s5 !== peg$FAILED) {\n        s6 = peg$parseField();\n        if (s6 !== peg$FAILED) {\n          s5 = [s5, s6];\n          s4 = s5;\n        } else {\n          peg$currPos = s4;\n          s4 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s4;\n        s4 = peg$FAILED;\n      }\n      while (s4 !== peg$FAILED) {\n        s3.push(s4);\n        s4 = peg$currPos;\n        s5 = peg$parse_();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parseField();\n          if (s6 !== peg$FAILED) {\n            s5 = [s5, s6];\n            s4 = s5;\n          } else {\n            peg$currPos = s4;\n            s4 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s4;\n          s4 = peg$FAILED;\n        }\n      }\n      if (s3 !== peg$FAILED) {\n        s2 = [s2, s3];\n        s1 = s2;\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s1;\n      s1 = peg$FAILED;\n    }\n    if (s1 === peg$FAILED) {\n      s1 = null;\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c27(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parseStatement(): any {\n    let s0;\n\n    s0 = peg$parseVariable();\n    if (s0 === peg$FAILED) {\n      s0 = peg$parseAssignment();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parseRepeat();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parseWhile();\n          if (s0 === peg$FAILED) {\n            s0 = peg$parseIf();\n            if (s0 === peg$FAILED) {\n              s0 = peg$parseExpression();\n              if (s0 === peg$FAILED) {\n                s0 = peg$parseComment();\n                if (s0 === peg$FAILED) {\n                  s0 = peg$parseReturn();\n                  if (s0 === peg$FAILED) {\n                    s0 = peg$parseBreak();\n                    if (s0 === peg$FAILED) {\n                      s0 = peg$parseContinue();\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseVariable(): any {\n    let s0, s1, s2, s3, s4, s5, s6, s7, s8, s9;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 3) === peg$c28) {\n      s1 = peg$c28;\n      peg$currPos += 3;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c29); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parse_();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parseIdentifier();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parse_();\n          if (s4 !== peg$FAILED) {\n            s5 = peg$currPos;\n            if (input.charCodeAt(peg$currPos) === 58) {\n              s6 = peg$c15;\n              peg$currPos++;\n            } else {\n              s6 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c16); }\n            }\n            if (s6 !== peg$FAILED) {\n              s7 = peg$parse_();\n              if (s7 !== peg$FAILED) {\n                s8 = peg$parseType();\n                if (s8 !== peg$FAILED) {\n                  s9 = peg$parse_();\n                  if (s9 !== peg$FAILED) {\n                    s6 = [s6, s7, s8, s9];\n                    s5 = s6;\n                  } else {\n                    peg$currPos = s5;\n                    s5 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s5;\n                  s5 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s5;\n                s5 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s5;\n              s5 = peg$FAILED;\n            }\n            if (s5 === peg$FAILED) {\n              s5 = null;\n            }\n            if (s5 !== peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 61) {\n                s6 = peg$c30;\n                peg$currPos++;\n              } else {\n                s6 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c31); }\n              }\n              if (s6 === peg$FAILED) {\n                if (input.substr(peg$currPos, 2) === peg$c32) {\n                  s6 = peg$c32;\n                  peg$currPos += 2;\n                } else {\n                  s6 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c33); }\n                }\n              }\n              if (s6 !== peg$FAILED) {\n                s7 = peg$parse_();\n                if (s7 !== peg$FAILED) {\n                  s8 = peg$parseExpression();\n                  if (s8 !== peg$FAILED) {\n                    peg$savedPos = s0;\n                    s1 = peg$c34(s3, s5, s8);\n                    s0 = s1;\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseAssignment(): any {\n    let s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$parseVariableAccessOrFunctionCall();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parse_();\n      if (s2 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 61) {\n          s3 = peg$c30;\n          peg$currPos++;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c31); }\n        }\n        if (s3 === peg$FAILED) {\n          if (input.substr(peg$currPos, 2) === peg$c32) {\n            s3 = peg$c32;\n            peg$currPos += 2;\n          } else {\n            s3 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c33); }\n          }\n        }\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parse_();\n          if (s4 !== peg$FAILED) {\n            s5 = peg$parseExpression();\n            if (s5 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c35(s1, s5);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseRepeat(): any {\n    let s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10, s11;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 6) === peg$c36) {\n      s1 = peg$c36;\n      peg$currPos += 6;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c37); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parse_();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parseExpression();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parse_();\n          if (s4 !== peg$FAILED) {\n            if (input.substr(peg$currPos, 5) === peg$c38) {\n              s5 = peg$c38;\n              peg$currPos += 5;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c39); }\n            }\n            if (s5 !== peg$FAILED) {\n              s6 = peg$parse_();\n              if (s6 !== peg$FAILED) {\n                s7 = [];\n                s8 = peg$currPos;\n                s9 = peg$parse_();\n                if (s9 !== peg$FAILED) {\n                  s10 = peg$parseStatement();\n                  if (s10 !== peg$FAILED) {\n                    s11 = peg$parse_();\n                    if (s11 !== peg$FAILED) {\n                      s9 = [s9, s10, s11];\n                      s8 = s9;\n                    } else {\n                      peg$currPos = s8;\n                      s8 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s8;\n                    s8 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s8;\n                  s8 = peg$FAILED;\n                }\n                while (s8 !== peg$FAILED) {\n                  s7.push(s8);\n                  s8 = peg$currPos;\n                  s9 = peg$parse_();\n                  if (s9 !== peg$FAILED) {\n                    s10 = peg$parseStatement();\n                    if (s10 !== peg$FAILED) {\n                      s11 = peg$parse_();\n                      if (s11 !== peg$FAILED) {\n                        s9 = [s9, s10, s11];\n                        s8 = s9;\n                      } else {\n                        peg$currPos = s8;\n                        s8 = peg$FAILED;\n                      }\n                    } else {\n                      peg$currPos = s8;\n                      s8 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s8;\n                    s8 = peg$FAILED;\n                  }\n                }\n                if (s7 !== peg$FAILED) {\n                  s8 = peg$parse_();\n                  if (s8 !== peg$FAILED) {\n                    if (input.substr(peg$currPos, 3) === peg$c17) {\n                      s9 = peg$c17;\n                      peg$currPos += 3;\n                    } else {\n                      s9 = peg$FAILED;\n                      if (peg$silentFails === 0) { peg$fail(peg$c18); }\n                    }\n                    if (s9 !== peg$FAILED) {\n                      peg$savedPos = s0;\n                      s1 = peg$c40(s3, s7);\n                      s0 = s1;\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseWhile(): any {\n    let s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10, s11;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 5) === peg$c41) {\n      s1 = peg$c41;\n      peg$currPos += 5;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c42); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parse_();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parseExpression();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parse_();\n          if (s4 !== peg$FAILED) {\n            if (input.substr(peg$currPos, 2) === peg$c43) {\n              s5 = peg$c43;\n              peg$currPos += 2;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c44); }\n            }\n            if (s5 !== peg$FAILED) {\n              s6 = peg$parse_();\n              if (s6 !== peg$FAILED) {\n                s7 = [];\n                s8 = peg$currPos;\n                s9 = peg$parse_();\n                if (s9 !== peg$FAILED) {\n                  s10 = peg$parseStatement();\n                  if (s10 !== peg$FAILED) {\n                    s11 = peg$parse_();\n                    if (s11 !== peg$FAILED) {\n                      s9 = [s9, s10, s11];\n                      s8 = s9;\n                    } else {\n                      peg$currPos = s8;\n                      s8 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s8;\n                    s8 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s8;\n                  s8 = peg$FAILED;\n                }\n                while (s8 !== peg$FAILED) {\n                  s7.push(s8);\n                  s8 = peg$currPos;\n                  s9 = peg$parse_();\n                  if (s9 !== peg$FAILED) {\n                    s10 = peg$parseStatement();\n                    if (s10 !== peg$FAILED) {\n                      s11 = peg$parse_();\n                      if (s11 !== peg$FAILED) {\n                        s9 = [s9, s10, s11];\n                        s8 = s9;\n                      } else {\n                        peg$currPos = s8;\n                        s8 = peg$FAILED;\n                      }\n                    } else {\n                      peg$currPos = s8;\n                      s8 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s8;\n                    s8 = peg$FAILED;\n                  }\n                }\n                if (s7 !== peg$FAILED) {\n                  s8 = peg$parse_();\n                  if (s8 !== peg$FAILED) {\n                    if (input.substr(peg$currPos, 3) === peg$c17) {\n                      s9 = peg$c17;\n                      peg$currPos += 3;\n                    } else {\n                      s9 = peg$FAILED;\n                      if (peg$silentFails === 0) { peg$fail(peg$c18); }\n                    }\n                    if (s9 !== peg$FAILED) {\n                      peg$savedPos = s0;\n                      s1 = peg$c45(s3, s7);\n                      s0 = s1;\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseIf(): any {\n    let s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10, s11, s12, s13, s14, s15, s16, s17, s18, s19, s20, s21;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 2) === peg$c46) {\n      s1 = peg$c46;\n      peg$currPos += 2;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c47); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parse_();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parseExpression();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parse_();\n          if (s4 !== peg$FAILED) {\n            if (input.substr(peg$currPos, 4) === peg$c48) {\n              s5 = peg$c48;\n              peg$currPos += 4;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c49); }\n            }\n            if (s5 !== peg$FAILED) {\n              s6 = peg$parse_();\n              if (s6 !== peg$FAILED) {\n                s7 = [];\n                s8 = peg$currPos;\n                s9 = peg$parse_();\n                if (s9 !== peg$FAILED) {\n                  s10 = peg$parseStatement();\n                  if (s10 !== peg$FAILED) {\n                    s11 = peg$parse_();\n                    if (s11 !== peg$FAILED) {\n                      s9 = [s9, s10, s11];\n                      s8 = s9;\n                    } else {\n                      peg$currPos = s8;\n                      s8 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s8;\n                    s8 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s8;\n                  s8 = peg$FAILED;\n                }\n                while (s8 !== peg$FAILED) {\n                  s7.push(s8);\n                  s8 = peg$currPos;\n                  s9 = peg$parse_();\n                  if (s9 !== peg$FAILED) {\n                    s10 = peg$parseStatement();\n                    if (s10 !== peg$FAILED) {\n                      s11 = peg$parse_();\n                      if (s11 !== peg$FAILED) {\n                        s9 = [s9, s10, s11];\n                        s8 = s9;\n                      } else {\n                        peg$currPos = s8;\n                        s8 = peg$FAILED;\n                      }\n                    } else {\n                      peg$currPos = s8;\n                      s8 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s8;\n                    s8 = peg$FAILED;\n                  }\n                }\n                if (s7 !== peg$FAILED) {\n                  s8 = peg$parse_();\n                  if (s8 !== peg$FAILED) {\n                    s9 = [];\n                    s10 = peg$currPos;\n                    if (input.substr(peg$currPos, 6) === peg$c50) {\n                      s11 = peg$c50;\n                      peg$currPos += 6;\n                    } else {\n                      s11 = peg$FAILED;\n                      if (peg$silentFails === 0) { peg$fail(peg$c51); }\n                    }\n                    if (s11 !== peg$FAILED) {\n                      s12 = peg$parse_();\n                      if (s12 !== peg$FAILED) {\n                        s13 = peg$parseExpression();\n                        if (s13 !== peg$FAILED) {\n                          s14 = peg$parse_();\n                          if (s14 !== peg$FAILED) {\n                            if (input.substr(peg$currPos, 4) === peg$c48) {\n                              s15 = peg$c48;\n                              peg$currPos += 4;\n                            } else {\n                              s15 = peg$FAILED;\n                              if (peg$silentFails === 0) { peg$fail(peg$c49); }\n                            }\n                            if (s15 !== peg$FAILED) {\n                              s16 = peg$parse_();\n                              if (s16 !== peg$FAILED) {\n                                s17 = [];\n                                s18 = peg$currPos;\n                                s19 = peg$parse_();\n                                if (s19 !== peg$FAILED) {\n                                  s20 = peg$parseStatement();\n                                  if (s20 !== peg$FAILED) {\n                                    s21 = peg$parse_();\n                                    if (s21 !== peg$FAILED) {\n                                      s19 = [s19, s20, s21];\n                                      s18 = s19;\n                                    } else {\n                                      peg$currPos = s18;\n                                      s18 = peg$FAILED;\n                                    }\n                                  } else {\n                                    peg$currPos = s18;\n                                    s18 = peg$FAILED;\n                                  }\n                                } else {\n                                  peg$currPos = s18;\n                                  s18 = peg$FAILED;\n                                }\n                                while (s18 !== peg$FAILED) {\n                                  s17.push(s18);\n                                  s18 = peg$currPos;\n                                  s19 = peg$parse_();\n                                  if (s19 !== peg$FAILED) {\n                                    s20 = peg$parseStatement();\n                                    if (s20 !== peg$FAILED) {\n                                      s21 = peg$parse_();\n                                      if (s21 !== peg$FAILED) {\n                                        s19 = [s19, s20, s21];\n                                        s18 = s19;\n                                      } else {\n                                        peg$currPos = s18;\n                                        s18 = peg$FAILED;\n                                      }\n                                    } else {\n                                      peg$currPos = s18;\n                                      s18 = peg$FAILED;\n                                    }\n                                  } else {\n                                    peg$currPos = s18;\n                                    s18 = peg$FAILED;\n                                  }\n                                }\n                                if (s17 !== peg$FAILED) {\n                                  s11 = [s11, s12, s13, s14, s15, s16, s17];\n                                  s10 = s11;\n                                } else {\n                                  peg$currPos = s10;\n                                  s10 = peg$FAILED;\n                                }\n                              } else {\n                                peg$currPos = s10;\n                                s10 = peg$FAILED;\n                              }\n                            } else {\n                              peg$currPos = s10;\n                              s10 = peg$FAILED;\n                            }\n                          } else {\n                            peg$currPos = s10;\n                            s10 = peg$FAILED;\n                          }\n                        } else {\n                          peg$currPos = s10;\n                          s10 = peg$FAILED;\n                        }\n                      } else {\n                        peg$currPos = s10;\n                        s10 = peg$FAILED;\n                      }\n                    } else {\n                      peg$currPos = s10;\n                      s10 = peg$FAILED;\n                    }\n                    while (s10 !== peg$FAILED) {\n                      s9.push(s10);\n                      s10 = peg$currPos;\n                      if (input.substr(peg$currPos, 6) === peg$c50) {\n                        s11 = peg$c50;\n                        peg$currPos += 6;\n                      } else {\n                        s11 = peg$FAILED;\n                        if (peg$silentFails === 0) { peg$fail(peg$c51); }\n                      }\n                      if (s11 !== peg$FAILED) {\n                        s12 = peg$parse_();\n                        if (s12 !== peg$FAILED) {\n                          s13 = peg$parseExpression();\n                          if (s13 !== peg$FAILED) {\n                            s14 = peg$parse_();\n                            if (s14 !== peg$FAILED) {\n                              if (input.substr(peg$currPos, 4) === peg$c48) {\n                                s15 = peg$c48;\n                                peg$currPos += 4;\n                              } else {\n                                s15 = peg$FAILED;\n                                if (peg$silentFails === 0) { peg$fail(peg$c49); }\n                              }\n                              if (s15 !== peg$FAILED) {\n                                s16 = peg$parse_();\n                                if (s16 !== peg$FAILED) {\n                                  s17 = [];\n                                  s18 = peg$currPos;\n                                  s19 = peg$parse_();\n                                  if (s19 !== peg$FAILED) {\n                                    s20 = peg$parseStatement();\n                                    if (s20 !== peg$FAILED) {\n                                      s21 = peg$parse_();\n                                      if (s21 !== peg$FAILED) {\n                                        s19 = [s19, s20, s21];\n                                        s18 = s19;\n                                      } else {\n                                        peg$currPos = s18;\n                                        s18 = peg$FAILED;\n                                      }\n                                    } else {\n                                      peg$currPos = s18;\n                                      s18 = peg$FAILED;\n                                    }\n                                  } else {\n                                    peg$currPos = s18;\n                                    s18 = peg$FAILED;\n                                  }\n                                  while (s18 !== peg$FAILED) {\n                                    s17.push(s18);\n                                    s18 = peg$currPos;\n                                    s19 = peg$parse_();\n                                    if (s19 !== peg$FAILED) {\n                                      s20 = peg$parseStatement();\n                                      if (s20 !== peg$FAILED) {\n                                        s21 = peg$parse_();\n                                        if (s21 !== peg$FAILED) {\n                                          s19 = [s19, s20, s21];\n                                          s18 = s19;\n                                        } else {\n                                          peg$currPos = s18;\n                                          s18 = peg$FAILED;\n                                        }\n                                      } else {\n                                        peg$currPos = s18;\n                                        s18 = peg$FAILED;\n                                      }\n                                    } else {\n                                      peg$currPos = s18;\n                                      s18 = peg$FAILED;\n                                    }\n                                  }\n                                  if (s17 !== peg$FAILED) {\n                                    s11 = [s11, s12, s13, s14, s15, s16, s17];\n                                    s10 = s11;\n                                  } else {\n                                    peg$currPos = s10;\n                                    s10 = peg$FAILED;\n                                  }\n                                } else {\n                                  peg$currPos = s10;\n                                  s10 = peg$FAILED;\n                                }\n                              } else {\n                                peg$currPos = s10;\n                                s10 = peg$FAILED;\n                              }\n                            } else {\n                              peg$currPos = s10;\n                              s10 = peg$FAILED;\n                            }\n                          } else {\n                            peg$currPos = s10;\n                            s10 = peg$FAILED;\n                          }\n                        } else {\n                          peg$currPos = s10;\n                          s10 = peg$FAILED;\n                        }\n                      } else {\n                        peg$currPos = s10;\n                        s10 = peg$FAILED;\n                      }\n                    }\n                    if (s9 !== peg$FAILED) {\n                      s10 = peg$parse_();\n                      if (s10 !== peg$FAILED) {\n                        s11 = peg$currPos;\n                        if (input.substr(peg$currPos, 4) === peg$c52) {\n                          s12 = peg$c52;\n                          peg$currPos += 4;\n                        } else {\n                          s12 = peg$FAILED;\n                          if (peg$silentFails === 0) { peg$fail(peg$c53); }\n                        }\n                        if (s12 !== peg$FAILED) {\n                          s13 = peg$parse_();\n                          if (s13 !== peg$FAILED) {\n                            s14 = [];\n                            s15 = peg$currPos;\n                            s16 = peg$parse_();\n                            if (s16 !== peg$FAILED) {\n                              s17 = peg$parseStatement();\n                              if (s17 !== peg$FAILED) {\n                                s18 = peg$parse_();\n                                if (s18 !== peg$FAILED) {\n                                  s16 = [s16, s17, s18];\n                                  s15 = s16;\n                                } else {\n                                  peg$currPos = s15;\n                                  s15 = peg$FAILED;\n                                }\n                              } else {\n                                peg$currPos = s15;\n                                s15 = peg$FAILED;\n                              }\n                            } else {\n                              peg$currPos = s15;\n                              s15 = peg$FAILED;\n                            }\n                            while (s15 !== peg$FAILED) {\n                              s14.push(s15);\n                              s15 = peg$currPos;\n                              s16 = peg$parse_();\n                              if (s16 !== peg$FAILED) {\n                                s17 = peg$parseStatement();\n                                if (s17 !== peg$FAILED) {\n                                  s18 = peg$parse_();\n                                  if (s18 !== peg$FAILED) {\n                                    s16 = [s16, s17, s18];\n                                    s15 = s16;\n                                  } else {\n                                    peg$currPos = s15;\n                                    s15 = peg$FAILED;\n                                  }\n                                } else {\n                                  peg$currPos = s15;\n                                  s15 = peg$FAILED;\n                                }\n                              } else {\n                                peg$currPos = s15;\n                                s15 = peg$FAILED;\n                              }\n                            }\n                            if (s14 !== peg$FAILED) {\n                              s12 = [s12, s13, s14];\n                              s11 = s12;\n                            } else {\n                              peg$currPos = s11;\n                              s11 = peg$FAILED;\n                            }\n                          } else {\n                            peg$currPos = s11;\n                            s11 = peg$FAILED;\n                          }\n                        } else {\n                          peg$currPos = s11;\n                          s11 = peg$FAILED;\n                        }\n                        if (s11 === peg$FAILED) {\n                          s11 = null;\n                        }\n                        if (s11 !== peg$FAILED) {\n                          s12 = peg$parse_();\n                          if (s12 !== peg$FAILED) {\n                            if (input.substr(peg$currPos, 3) === peg$c17) {\n                              s13 = peg$c17;\n                              peg$currPos += 3;\n                            } else {\n                              s13 = peg$FAILED;\n                              if (peg$silentFails === 0) { peg$fail(peg$c18); }\n                            }\n                            if (s13 !== peg$FAILED) {\n                              peg$savedPos = s0;\n                              s1 = peg$c54(s3, s7, s9, s11);\n                              s0 = s1;\n                            } else {\n                              peg$currPos = s0;\n                              s0 = peg$FAILED;\n                            }\n                          } else {\n                            peg$currPos = s0;\n                            s0 = peg$FAILED;\n                          }\n                        } else {\n                          peg$currPos = s0;\n                          s0 = peg$FAILED;\n                        }\n                      } else {\n                        peg$currPos = s0;\n                        s0 = peg$FAILED;\n                      }\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseReturn(): any {\n    let s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 6) === peg$c55) {\n      s1 = peg$c55;\n      peg$currPos += 6;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c56); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parse_();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parseExpression();\n        if (s3 === peg$FAILED) {\n          s3 = null;\n        }\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parse_();\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c57(s3);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseBreak(): any {\n    let s0, s1;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 5) === peg$c58) {\n      s1 = peg$c58;\n      peg$currPos += 5;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c59); }\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c60();\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parseContinue(): any {\n    let s0, s1;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 8) === peg$c61) {\n      s1 = peg$c61;\n      peg$currPos += 8;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c62); }\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c63();\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parseExpression(): any {\n    let s0, s1, s2, s3, s4, s5, s6, s7;\n\n    s0 = peg$currPos;\n    s1 = peg$parseRelational();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$currPos;\n      s4 = peg$parse_();\n      if (s4 !== peg$FAILED) {\n        if (input.substr(peg$currPos, 3) === peg$c64) {\n          s5 = peg$c64;\n          peg$currPos += 3;\n        } else {\n          s5 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c65); }\n        }\n        if (s5 === peg$FAILED) {\n          if (input.substr(peg$currPos, 2) === peg$c66) {\n            s5 = peg$c66;\n            peg$currPos += 2;\n          } else {\n            s5 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c67); }\n          }\n          if (s5 === peg$FAILED) {\n            if (input.substr(peg$currPos, 3) === peg$c68) {\n              s5 = peg$c68;\n              peg$currPos += 3;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c69); }\n            }\n          }\n        }\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parse_();\n          if (s6 !== peg$FAILED) {\n            s7 = peg$parseRelational();\n            if (s7 !== peg$FAILED) {\n              s4 = [s4, s5, s6, s7];\n              s3 = s4;\n            } else {\n              peg$currPos = s3;\n              s3 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s3;\n        s3 = peg$FAILED;\n      }\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$currPos;\n        s4 = peg$parse_();\n        if (s4 !== peg$FAILED) {\n          if (input.substr(peg$currPos, 3) === peg$c64) {\n            s5 = peg$c64;\n            peg$currPos += 3;\n          } else {\n            s5 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c65); }\n          }\n          if (s5 === peg$FAILED) {\n            if (input.substr(peg$currPos, 2) === peg$c66) {\n              s5 = peg$c66;\n              peg$currPos += 2;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c67); }\n            }\n            if (s5 === peg$FAILED) {\n              if (input.substr(peg$currPos, 3) === peg$c68) {\n                s5 = peg$c68;\n                peg$currPos += 3;\n              } else {\n                s5 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c69); }\n              }\n            }\n          }\n          if (s5 !== peg$FAILED) {\n            s6 = peg$parse_();\n            if (s6 !== peg$FAILED) {\n              s7 = peg$parseRelational();\n              if (s7 !== peg$FAILED) {\n                s4 = [s4, s5, s6, s7];\n                s3 = s4;\n              } else {\n                peg$currPos = s3;\n                s3 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s3;\n              s3 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c70(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseRelational(): any {\n    let s0, s1, s2, s3, s4, s5, s6, s7;\n\n    s0 = peg$currPos;\n    s1 = peg$parseAddSubtract();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$currPos;\n      s4 = peg$parse_();\n      if (s4 !== peg$FAILED) {\n        if (input.substr(peg$currPos, 2) === peg$c71) {\n          s5 = peg$c71;\n          peg$currPos += 2;\n        } else {\n          s5 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c72); }\n        }\n        if (s5 === peg$FAILED) {\n          if (input.substr(peg$currPos, 2) === peg$c73) {\n            s5 = peg$c73;\n            peg$currPos += 2;\n          } else {\n            s5 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c74); }\n          }\n          if (s5 === peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 60) {\n              s5 = peg$c75;\n              peg$currPos++;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c76); }\n            }\n            if (s5 === peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 62) {\n                s5 = peg$c77;\n                peg$currPos++;\n              } else {\n                s5 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c78); }\n              }\n              if (s5 === peg$FAILED) {\n                if (input.substr(peg$currPos, 2) === peg$c79) {\n                  s5 = peg$c79;\n                  peg$currPos += 2;\n                } else {\n                  s5 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c80); }\n                }\n                if (s5 === peg$FAILED) {\n                  if (input.substr(peg$currPos, 2) === peg$c81) {\n                    s5 = peg$c81;\n                    peg$currPos += 2;\n                  } else {\n                    s5 = peg$FAILED;\n                    if (peg$silentFails === 0) { peg$fail(peg$c82); }\n                  }\n                }\n              }\n            }\n          }\n        }\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parse_();\n          if (s6 !== peg$FAILED) {\n            s7 = peg$parseAddSubtract();\n            if (s7 !== peg$FAILED) {\n              s4 = [s4, s5, s6, s7];\n              s3 = s4;\n            } else {\n              peg$currPos = s3;\n              s3 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s3;\n        s3 = peg$FAILED;\n      }\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$currPos;\n        s4 = peg$parse_();\n        if (s4 !== peg$FAILED) {\n          if (input.substr(peg$currPos, 2) === peg$c71) {\n            s5 = peg$c71;\n            peg$currPos += 2;\n          } else {\n            s5 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c72); }\n          }\n          if (s5 === peg$FAILED) {\n            if (input.substr(peg$currPos, 2) === peg$c73) {\n              s5 = peg$c73;\n              peg$currPos += 2;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c74); }\n            }\n            if (s5 === peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 60) {\n                s5 = peg$c75;\n                peg$currPos++;\n              } else {\n                s5 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c76); }\n              }\n              if (s5 === peg$FAILED) {\n                if (input.charCodeAt(peg$currPos) === 62) {\n                  s5 = peg$c77;\n                  peg$currPos++;\n                } else {\n                  s5 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c78); }\n                }\n                if (s5 === peg$FAILED) {\n                  if (input.substr(peg$currPos, 2) === peg$c79) {\n                    s5 = peg$c79;\n                    peg$currPos += 2;\n                  } else {\n                    s5 = peg$FAILED;\n                    if (peg$silentFails === 0) { peg$fail(peg$c80); }\n                  }\n                  if (s5 === peg$FAILED) {\n                    if (input.substr(peg$currPos, 2) === peg$c81) {\n                      s5 = peg$c81;\n                      peg$currPos += 2;\n                    } else {\n                      s5 = peg$FAILED;\n                      if (peg$silentFails === 0) { peg$fail(peg$c82); }\n                    }\n                  }\n                }\n              }\n            }\n          }\n          if (s5 !== peg$FAILED) {\n            s6 = peg$parse_();\n            if (s6 !== peg$FAILED) {\n              s7 = peg$parseAddSubtract();\n              if (s7 !== peg$FAILED) {\n                s4 = [s4, s5, s6, s7];\n                s3 = s4;\n              } else {\n                peg$currPos = s3;\n                s3 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s3;\n              s3 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c70(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseAddSubtract(): any {\n    let s0, s1, s2, s3, s4, s5, s6, s7;\n\n    s0 = peg$currPos;\n    s1 = peg$parseMultiplyDivide();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$currPos;\n      s4 = peg$parse_();\n      if (s4 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 43) {\n          s5 = peg$c83;\n          peg$currPos++;\n        } else {\n          s5 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c84); }\n        }\n        if (s5 === peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 45) {\n            s5 = peg$c85;\n            peg$currPos++;\n          } else {\n            s5 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c86); }\n          }\n          if (s5 === peg$FAILED) {\n            if (input.substr(peg$currPos, 2) === peg$c87) {\n              s5 = peg$c87;\n              peg$currPos += 2;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c88); }\n            }\n          }\n        }\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parse_();\n          if (s6 !== peg$FAILED) {\n            s7 = peg$parseMultiplyDivide();\n            if (s7 !== peg$FAILED) {\n              s4 = [s4, s5, s6, s7];\n              s3 = s4;\n            } else {\n              peg$currPos = s3;\n              s3 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s3;\n        s3 = peg$FAILED;\n      }\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$currPos;\n        s4 = peg$parse_();\n        if (s4 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 43) {\n            s5 = peg$c83;\n            peg$currPos++;\n          } else {\n            s5 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c84); }\n          }\n          if (s5 === peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 45) {\n              s5 = peg$c85;\n              peg$currPos++;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c86); }\n            }\n            if (s5 === peg$FAILED) {\n              if (input.substr(peg$currPos, 2) === peg$c87) {\n                s5 = peg$c87;\n                peg$currPos += 2;\n              } else {\n                s5 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c88); }\n              }\n            }\n          }\n          if (s5 !== peg$FAILED) {\n            s6 = peg$parse_();\n            if (s6 !== peg$FAILED) {\n              s7 = peg$parseMultiplyDivide();\n              if (s7 !== peg$FAILED) {\n                s4 = [s4, s5, s6, s7];\n                s3 = s4;\n              } else {\n                peg$currPos = s3;\n                s3 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s3;\n              s3 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c70(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseMultiplyDivide(): any {\n    let s0, s1, s2, s3, s4, s5, s6, s7;\n\n    s0 = peg$currPos;\n    s1 = peg$parseUnary();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$currPos;\n      s4 = peg$parse_();\n      if (s4 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 42) {\n          s5 = peg$c89;\n          peg$currPos++;\n        } else {\n          s5 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c90); }\n        }\n        if (s5 === peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 47) {\n            s5 = peg$c91;\n            peg$currPos++;\n          } else {\n            s5 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c92); }\n          }\n        }\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parse_();\n          if (s6 !== peg$FAILED) {\n            s7 = peg$parseUnary();\n            if (s7 !== peg$FAILED) {\n              s4 = [s4, s5, s6, s7];\n              s3 = s4;\n            } else {\n              peg$currPos = s3;\n              s3 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s3;\n        s3 = peg$FAILED;\n      }\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$currPos;\n        s4 = peg$parse_();\n        if (s4 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 42) {\n            s5 = peg$c89;\n            peg$currPos++;\n          } else {\n            s5 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c90); }\n          }\n          if (s5 === peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 47) {\n              s5 = peg$c91;\n              peg$currPos++;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c92); }\n            }\n          }\n          if (s5 !== peg$FAILED) {\n            s6 = peg$parse_();\n            if (s6 !== peg$FAILED) {\n              s7 = peg$parseUnary();\n              if (s7 !== peg$FAILED) {\n                s4 = [s4, s5, s6, s7];\n                s3 = s4;\n              } else {\n                peg$currPos = s3;\n                s3 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s3;\n              s3 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c70(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseUnary(): any {\n    let s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    s1 = peg$currPos;\n    if (input.substr(peg$currPos, 3) === peg$c93) {\n      s2 = peg$c93;\n      peg$currPos += 3;\n    } else {\n      s2 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c94); }\n    }\n    if (s2 !== peg$FAILED) {\n      s3 = peg$parse_();\n      if (s3 === peg$FAILED) {\n        s3 = null;\n      }\n      if (s3 !== peg$FAILED) {\n        s2 = [s2, s3];\n        s1 = s2;\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s1;\n      s1 = peg$FAILED;\n    }\n    if (s1 === peg$FAILED) {\n      s1 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 45) {\n        s2 = peg$c85;\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c86); }\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parse_();\n        if (s3 === peg$FAILED) {\n          s3 = null;\n        }\n        if (s3 !== peg$FAILED) {\n          s2 = [s2, s3];\n          s1 = s2;\n        } else {\n          peg$currPos = s1;\n          s1 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n    }\n    if (s1 === peg$FAILED) {\n      s1 = null;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseFactor();\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c95(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseFactor(): any {\n    let s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 40) {\n      s1 = peg$c11;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c12); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parse_();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parseExpression();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parse_();\n          if (s4 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 41) {\n              s5 = peg$c13;\n              peg$currPos++;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c14); }\n            }\n            if (s5 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c96(s3);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$parseNumber();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parseBoolean();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parseString();\n          if (s0 === peg$FAILED) {\n            s0 = peg$parseVariableAccessOrFunctionCall();\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseVariableAccessOrFunctionCall(): any {\n    let s0, s1, s2, s3;\n\n    peg$silentFails++;\n    s0 = peg$currPos;\n    s1 = peg$parseIdentifier();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parseArguments();\n      if (s3 === peg$FAILED) {\n        s3 = peg$parseFieldAccess();\n        if (s3 === peg$FAILED) {\n          s3 = peg$parseArrayAccess();\n        }\n      }\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parseArguments();\n        if (s3 === peg$FAILED) {\n          s3 = peg$parseFieldAccess();\n          if (s3 === peg$FAILED) {\n            s3 = peg$parseArrayAccess();\n          }\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c98(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c97); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseFieldAccess(): any {\n    let s0, s1, s2;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 46) {\n      s1 = peg$c99;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c100); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseIdentifier();\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c101(s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseArrayAccess(): any {\n    let s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 91) {\n      s1 = peg$c102;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c103); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parse_();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parseExpression();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parse_();\n          if (s4 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 93) {\n              s5 = peg$c104;\n              peg$currPos++;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c105); }\n            }\n            if (s5 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c106(s3);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseArguments(): any {\n    let s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10;\n\n    peg$silentFails++;\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 40) {\n      s1 = peg$c11;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c12); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parse_();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$currPos;\n        s4 = peg$parseExpression();\n        if (s4 !== peg$FAILED) {\n          s5 = [];\n          s6 = peg$currPos;\n          s7 = peg$parse_();\n          if (s7 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 44) {\n              s8 = peg$c21;\n              peg$currPos++;\n            } else {\n              s8 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c22); }\n            }\n            if (s8 !== peg$FAILED) {\n              s9 = peg$parse_();\n              if (s9 !== peg$FAILED) {\n                s10 = peg$parseExpression();\n                if (s10 !== peg$FAILED) {\n                  s7 = [s7, s8, s9, s10];\n                  s6 = s7;\n                } else {\n                  peg$currPos = s6;\n                  s6 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s6;\n                s6 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s6;\n              s6 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s6;\n            s6 = peg$FAILED;\n          }\n          while (s6 !== peg$FAILED) {\n            s5.push(s6);\n            s6 = peg$currPos;\n            s7 = peg$parse_();\n            if (s7 !== peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 44) {\n                s8 = peg$c21;\n                peg$currPos++;\n              } else {\n                s8 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c22); }\n              }\n              if (s8 !== peg$FAILED) {\n                s9 = peg$parse_();\n                if (s9 !== peg$FAILED) {\n                  s10 = peg$parseExpression();\n                  if (s10 !== peg$FAILED) {\n                    s7 = [s7, s8, s9, s10];\n                    s6 = s7;\n                  } else {\n                    peg$currPos = s6;\n                    s6 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s6;\n                  s6 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s6;\n                s6 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s6;\n              s6 = peg$FAILED;\n            }\n          }\n          if (s5 !== peg$FAILED) {\n            s4 = [s4, s5];\n            s3 = s4;\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n        if (s3 === peg$FAILED) {\n          s3 = null;\n        }\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parse_();\n          if (s4 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 41) {\n              s5 = peg$c13;\n              peg$currPos++;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c14); }\n            }\n            if (s5 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c108(s3);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c107); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseNumber(): any {\n    let s0, s1, s2, s3, s4, s5;\n\n    peg$silentFails++;\n    s0 = peg$currPos;\n    s1 = [];\n    if (peg$c110.test(input.charAt(peg$currPos))) {\n      s2 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s2 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c111); }\n    }\n    if (s2 !== peg$FAILED) {\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        if (peg$c110.test(input.charAt(peg$currPos))) {\n          s2 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c111); }\n        }\n      }\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 46) {\n        s3 = peg$c99;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c100); }\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        if (peg$c110.test(input.charAt(peg$currPos))) {\n          s5 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s5 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c111); }\n        }\n        if (s5 !== peg$FAILED) {\n          while (s5 !== peg$FAILED) {\n            s4.push(s5);\n            if (peg$c110.test(input.charAt(peg$currPos))) {\n              s5 = input.charAt(peg$currPos);\n              peg$currPos++;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c111); }\n            }\n          }\n        } else {\n          s4 = peg$FAILED;\n        }\n        if (s4 !== peg$FAILED) {\n          s3 = [s3, s4];\n          s2 = s3;\n        } else {\n          peg$currPos = s2;\n          s2 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s2;\n        s2 = peg$FAILED;\n      }\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c112();\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c109); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseBoolean(): any {\n    let s0, s1;\n\n    peg$silentFails++;\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 5) === peg$c114) {\n      s1 = peg$c114;\n      peg$currPos += 5;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c115); }\n    }\n    if (s1 === peg$FAILED) {\n      if (input.substr(peg$currPos, 4) === peg$c116) {\n        s1 = peg$c116;\n        peg$currPos += 4;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c117); }\n      }\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c118();\n    }\n    s0 = s1;\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c113); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseString(): any {\n    let s0, s1;\n\n    peg$silentFails++;\n    s0 = peg$currPos;\n    s1 = peg$parseStringValue();\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c120(s1);\n    }\n    s0 = s1;\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c119); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseStringValue(): any {\n    let s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 34) {\n      s1 = peg$c121;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c122); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parseDoubleStringCharacter();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parseDoubleStringCharacter();\n      }\n      if (s2 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 34) {\n          s3 = peg$c121;\n          peg$currPos++;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c122); }\n        }\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c123(s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 39) {\n        s1 = peg$c124;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c125); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        s3 = peg$parseSingleStringCharacter();\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parseSingleStringCharacter();\n        }\n        if (s2 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 39) {\n            s3 = peg$c124;\n            peg$currPos++;\n          } else {\n            s3 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c125); }\n          }\n          if (s3 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c123(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseDoubleStringCharacter(): any {\n    let s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = peg$currPos;\n    peg$silentFails++;\n    if (input.charCodeAt(peg$currPos) === 34) {\n      s2 = peg$c121;\n      peg$currPos++;\n    } else {\n      s2 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c122); }\n    }\n    if (s2 === peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 92) {\n        s2 = peg$c126;\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c127); }\n      }\n    }\n    peg$silentFails--;\n    if (s2 === peg$FAILED) {\n      s1 = undefined;\n    } else {\n      peg$currPos = s1;\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      if (input.length > peg$currPos) {\n        s2 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c5); }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c128(s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 92) {\n        s1 = peg$c126;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c127); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseEscapeSequence();\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c129(s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseSingleStringCharacter(): any {\n    let s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = peg$currPos;\n    peg$silentFails++;\n    if (input.charCodeAt(peg$currPos) === 39) {\n      s2 = peg$c124;\n      peg$currPos++;\n    } else {\n      s2 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c125); }\n    }\n    if (s2 === peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 92) {\n        s2 = peg$c126;\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c127); }\n      }\n    }\n    peg$silentFails--;\n    if (s2 === peg$FAILED) {\n      s1 = undefined;\n    } else {\n      peg$currPos = s1;\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      if (input.length > peg$currPos) {\n        s2 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c5); }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c128(s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 92) {\n        s1 = peg$c126;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c127); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseEscapeSequence();\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c129(s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseEscapeSequence(): any {\n    let s0, s1;\n\n    if (input.charCodeAt(peg$currPos) === 39) {\n      s0 = peg$c124;\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c125); }\n    }\n    if (s0 === peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 34) {\n        s0 = peg$c121;\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c122); }\n      }\n      if (s0 === peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 92) {\n          s0 = peg$c126;\n          peg$currPos++;\n        } else {\n          s0 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c127); }\n        }\n        if (s0 === peg$FAILED) {\n          s0 = peg$currPos;\n          if (input.charCodeAt(peg$currPos) === 98) {\n            s1 = peg$c130;\n            peg$currPos++;\n          } else {\n            s1 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c131); }\n          }\n          if (s1 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c132();\n          }\n          s0 = s1;\n          if (s0 === peg$FAILED) {\n            s0 = peg$currPos;\n            if (input.charCodeAt(peg$currPos) === 102) {\n              s1 = peg$c133;\n              peg$currPos++;\n            } else {\n              s1 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c134); }\n            }\n            if (s1 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c135();\n            }\n            s0 = s1;\n            if (s0 === peg$FAILED) {\n              s0 = peg$currPos;\n              if (input.charCodeAt(peg$currPos) === 110) {\n                s1 = peg$c136;\n                peg$currPos++;\n              } else {\n                s1 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c137); }\n              }\n              if (s1 !== peg$FAILED) {\n                peg$savedPos = s0;\n                s1 = peg$c138();\n              }\n              s0 = s1;\n              if (s0 === peg$FAILED) {\n                s0 = peg$currPos;\n                if (input.charCodeAt(peg$currPos) === 114) {\n                  s1 = peg$c139;\n                  peg$currPos++;\n                } else {\n                  s1 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c140); }\n                }\n                if (s1 !== peg$FAILED) {\n                  peg$savedPos = s0;\n                  s1 = peg$c141();\n                }\n                s0 = s1;\n                if (s0 === peg$FAILED) {\n                  s0 = peg$currPos;\n                  if (input.charCodeAt(peg$currPos) === 116) {\n                    s1 = peg$c142;\n                    peg$currPos++;\n                  } else {\n                    s1 = peg$FAILED;\n                    if (peg$silentFails === 0) { peg$fail(peg$c143); }\n                  }\n                  if (s1 !== peg$FAILED) {\n                    peg$savedPos = s0;\n                    s1 = peg$c144();\n                  }\n                  s0 = s1;\n                  if (s0 === peg$FAILED) {\n                    s0 = peg$currPos;\n                    if (input.charCodeAt(peg$currPos) === 118) {\n                      s1 = peg$c145;\n                      peg$currPos++;\n                    } else {\n                      s1 = peg$FAILED;\n                      if (peg$silentFails === 0) { peg$fail(peg$c146); }\n                    }\n                    if (s1 !== peg$FAILED) {\n                      peg$savedPos = s0;\n                      s1 = peg$c147();\n                    }\n                    s0 = s1;\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseIdentifier(): any {\n    let s0, s1, s2, s3, s4;\n\n    peg$silentFails++;\n    s0 = peg$currPos;\n    s1 = peg$currPos;\n    peg$silentFails++;\n    s2 = peg$parseReserved();\n    peg$silentFails--;\n    if (s2 === peg$FAILED) {\n      s1 = undefined;\n    } else {\n      peg$currPos = s1;\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseIdentifierStart();\n      if (s2 !== peg$FAILED) {\n        s3 = [];\n        s4 = peg$parseIdentifierPart();\n        while (s4 !== peg$FAILED) {\n          s3.push(s4);\n          s4 = peg$parseIdentifierPart();\n        }\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c149();\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c148); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseIdentifierStart(): any {\n    let s0;\n\n    if (peg$c150.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c151); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseIdentifierPart(): any {\n    let s0;\n\n    if (peg$c152.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c153); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseReserved(): any {\n    let s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 3) === peg$c28) {\n      s1 = peg$c28;\n      peg$currPos += 3;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c29); }\n    }\n    if (s1 === peg$FAILED) {\n      if (input.substr(peg$currPos, 3) === peg$c9) {\n        s1 = peg$c9;\n        peg$currPos += 3;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c10); }\n      }\n      if (s1 === peg$FAILED) {\n        if (input.substr(peg$currPos, 6) === peg$c50) {\n          s1 = peg$c50;\n          peg$currPos += 6;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c51); }\n        }\n        if (s1 === peg$FAILED) {\n          if (input.substr(peg$currPos, 6) === peg$c36) {\n            s1 = peg$c36;\n            peg$currPos += 6;\n          } else {\n            s1 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c37); }\n          }\n          if (s1 === peg$FAILED) {\n            if (input.substr(peg$currPos, 5) === peg$c41) {\n              s1 = peg$c41;\n              peg$currPos += 5;\n            } else {\n              s1 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c42); }\n            }\n            if (s1 === peg$FAILED) {\n              if (input.substr(peg$currPos, 2) === peg$c46) {\n                s1 = peg$c46;\n                peg$currPos += 2;\n              } else {\n                s1 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c47); }\n              }\n              if (s1 === peg$FAILED) {\n                if (input.substr(peg$currPos, 4) === peg$c48) {\n                  s1 = peg$c48;\n                  peg$currPos += 4;\n                } else {\n                  s1 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c49); }\n                }\n                if (s1 === peg$FAILED) {\n                  if (input.substr(peg$currPos, 4) === peg$c52) {\n                    s1 = peg$c52;\n                    peg$currPos += 4;\n                  } else {\n                    s1 = peg$FAILED;\n                    if (peg$silentFails === 0) { peg$fail(peg$c53); }\n                  }\n                  if (s1 === peg$FAILED) {\n                    if (input.substr(peg$currPos, 5) === peg$c38) {\n                      s1 = peg$c38;\n                      peg$currPos += 5;\n                    } else {\n                      s1 = peg$FAILED;\n                      if (peg$silentFails === 0) { peg$fail(peg$c39); }\n                    }\n                    if (s1 === peg$FAILED) {\n                      if (input.substr(peg$currPos, 4) === peg$c116) {\n                        s1 = peg$c116;\n                        peg$currPos += 4;\n                      } else {\n                        s1 = peg$FAILED;\n                        if (peg$silentFails === 0) { peg$fail(peg$c117); }\n                      }\n                      if (s1 === peg$FAILED) {\n                        if (input.substr(peg$currPos, 5) === peg$c114) {\n                          s1 = peg$c114;\n                          peg$currPos += 5;\n                        } else {\n                          s1 = peg$FAILED;\n                          if (peg$silentFails === 0) { peg$fail(peg$c115); }\n                        }\n                        if (s1 === peg$FAILED) {\n                          if (input.substr(peg$currPos, 3) === peg$c68) {\n                            s1 = peg$c68;\n                            peg$currPos += 3;\n                          } else {\n                            s1 = peg$FAILED;\n                            if (peg$silentFails === 0) { peg$fail(peg$c69); }\n                          }\n                          if (s1 === peg$FAILED) {\n                            if (input.substr(peg$currPos, 3) === peg$c64) {\n                              s1 = peg$c64;\n                              peg$currPos += 3;\n                            } else {\n                              s1 = peg$FAILED;\n                              if (peg$silentFails === 0) { peg$fail(peg$c65); }\n                            }\n                            if (s1 === peg$FAILED) {\n                              if (input.substr(peg$currPos, 2) === peg$c66) {\n                                s1 = peg$c66;\n                                peg$currPos += 2;\n                              } else {\n                                s1 = peg$FAILED;\n                                if (peg$silentFails === 0) { peg$fail(peg$c67); }\n                              }\n                              if (s1 === peg$FAILED) {\n                                if (input.substr(peg$currPos, 3) === peg$c17) {\n                                  s1 = peg$c17;\n                                  peg$currPos += 3;\n                                } else {\n                                  s1 = peg$FAILED;\n                                  if (peg$silentFails === 0) { peg$fail(peg$c18); }\n                                }\n                                if (s1 === peg$FAILED) {\n                                  if (input.substr(peg$currPos, 6) === peg$c55) {\n                                    s1 = peg$c55;\n                                    peg$currPos += 6;\n                                  } else {\n                                    s1 = peg$FAILED;\n                                    if (peg$silentFails === 0) { peg$fail(peg$c56); }\n                                  }\n                                  if (s1 === peg$FAILED) {\n                                    if (input.substr(peg$currPos, 5) === peg$c58) {\n                                      s1 = peg$c58;\n                                      peg$currPos += 5;\n                                    } else {\n                                      s1 = peg$FAILED;\n                                      if (peg$silentFails === 0) { peg$fail(peg$c59); }\n                                    }\n                                    if (s1 === peg$FAILED) {\n                                      if (input.substr(peg$currPos, 8) === peg$c61) {\n                                        s1 = peg$c61;\n                                        peg$currPos += 8;\n                                      } else {\n                                        s1 = peg$FAILED;\n                                        if (peg$silentFails === 0) { peg$fail(peg$c62); }\n                                      }\n                                      if (s1 === peg$FAILED) {\n                                        if (input.substr(peg$currPos, 3) === peg$c93) {\n                                          s1 = peg$c93;\n                                          peg$currPos += 3;\n                                        } else {\n                                          s1 = peg$FAILED;\n                                          if (peg$silentFails === 0) { peg$fail(peg$c94); }\n                                        }\n                                        if (s1 === peg$FAILED) {\n                                          if (input.substr(peg$currPos, 6) === peg$c24) {\n                                            s1 = peg$c24;\n                                            peg$currPos += 6;\n                                          } else {\n                                            s1 = peg$FAILED;\n                                            if (peg$silentFails === 0) { peg$fail(peg$c25); }\n                                          }\n                                        }\n                                      }\n                                    }\n                                  }\n                                }\n                              }\n                            }\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$currPos;\n      peg$silentFails++;\n      s3 = peg$parseIdentifierPart();\n      peg$silentFails--;\n      if (s3 === peg$FAILED) {\n        s2 = undefined;\n      } else {\n        peg$currPos = s2;\n        s2 = peg$FAILED;\n      }\n      if (s2 !== peg$FAILED) {\n        s1 = [s1, s2];\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parse_(): any {\n    let s0, s1, s2;\n\n    peg$silentFails++;\n    s0 = peg$currPos;\n    s1 = [];\n    if (peg$c155.test(input.charAt(peg$currPos))) {\n      s2 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s2 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c156); }\n    }\n    while (s2 !== peg$FAILED) {\n      s1.push(s2);\n      if (peg$c155.test(input.charAt(peg$currPos))) {\n        s2 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c156); }\n      }\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c157();\n    }\n    s0 = s1;\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c154); }\n    }\n\n    return s0;\n  }\n\n  peg$result = peg$startRuleFunction();\n\n  if (peg$result !== peg$FAILED && peg$currPos === input.length) {\n    return peg$result;\n  } else {\n    if (peg$result !== peg$FAILED && peg$currPos < input.length) {\n      peg$fail(peg$endExpectation());\n    }\n\n    throw peg$buildStructuredError(\n      peg$maxFailExpected,\n      peg$maxFailPos < input.length ? input.charAt(peg$maxFailPos) : null,\n      peg$maxFailPos < input.length\n        ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1)\n        : peg$computeLocation(peg$maxFailPos, peg$maxFailPos)\n    );\n  }\n}\n\nexport interface IParseOptions {\n  filename?: string;\n  startRule?: string;\n  tracer?: any;\n  [key: string]: any;\n}\nexport type ParseFunction = (input: string, options?: IParseOptions) => any;\nexport const parse: ParseFunction = peg$parse;\n\n","import { assertNever, Map, escapeHtml } from \"../Utils\";\nimport { Breakpoint } from \"../widgets/Debugger\";\nimport { IFileRange, parse, SyntaxError } from \"./Parser\";\nimport { AsyncPromise, FunctionCode, Instruction, JumpIns, LineInfo, ScopeInfo } from \"./VirtualMachine\";\n\nexport class CompilerError {\n\tconstructor (public message: string, public location: IFileRange) {\n\t\tmessage = escapeHtml(message);\n\t }\n}\n\nexport interface Identifier {\n\tvalue: string\n\tlocation: IFileRange;\n}\n\nexport interface BaseNode {\n\tlocation: IFileRange;\n}\n\nexport interface Expression extends BaseNode {\n\tkind: string\n\ttype: Type\n}\n\nexport interface StringLiteral extends Expression {\n\tkind: \"string\",\n\tvalue: string\n}\n\nexport interface BooleanLiteral extends Expression {\n\tkind: \"boolean\",\n\tvalue: boolean\n}\n\nexport interface NumberLiteral extends Expression {\n\tkind: \"number\",\n\tvalue: number\n}\n\nexport interface VariableAccess extends Expression {\n\tkind: \"variableAccess\",\n\tname: Identifier\n}\n\nexport interface FunctionCall extends Expression {\n\tkind: \"functionCall\",\n\tname: Identifier,\n\targs: Array<Expression>\n\tresolvedFunction: FunctionType | ExternalFunction\n}\n\nexport interface FieldAccess extends Expression {\n\tkind: \"fieldAccess\",\n\trecord: Expression,\n\tname: Identifier\n}\n\nexport interface ArrayAccess extends Expression {\n\tkind: \"arrayAccess\",\n\tarray: Expression,\n\tindex: Expression\n}\n\nexport interface UnaryOp extends Expression {\n\tkind: \"unaryOp\",\n\toperator: string,\n\tvalue: Expression\n}\n\nexport interface BinaryOp extends Expression {\n\tkind: \"binaryOp\",\n\toperator: string,\n\tleft: Expression,\n\tright: Expression\n}\n\nexport interface If extends BaseNode {\n\tkind: \"if\",\n\tcondition: Expression\n\ttrueBlock: Array<AstNode>,\n\tfalseBlock: Array<AstNode>\n}\n\nexport interface While extends BaseNode {\n\tkind: \"while\",\n\tcondition: Expression,\n\tblock: Array<AstNode>\n}\n\nexport interface Repeat extends BaseNode {\n\tkind: \"repeat\",\n\tcount: Expression,\n\tblock: Array<AstNode>\n}\n\nexport interface Assignment extends BaseNode {\n\tkind: \"assignment\",\n\tleft: Expression,\n\tright: Expression\n}\n\nexport interface TypeName {\n\tid: Identifier\n}\n\nexport interface VariableDecl extends BaseNode {\n\tkind: \"variable\",\n\tname: Identifier,\n\ttypeName?: TypeName,\n\ttype: Type,\n\tvalue: Expression,\n\tslotIndex: number,\n\tscope: ScopeInfo\n}\n\nexport interface RecordFieldDecl {\n\tname: Identifier,\n\ttypeName: TypeName,\n\ttype: Type,\n}\n\nexport interface RecordDecl extends BaseNode {\n\tkind: \"record\",\n\tname: Identifier,\n\tfields: Array<RecordFieldDecl>,\n\ttype: RecordType,\n}\n\nexport interface Return extends BaseNode {\n\tkind: \"return\",\n\tvalue?: Expression\n}\n\nexport interface Break extends BaseNode {\n\tkind: \"break\",\n}\n\nexport interface Continue extends BaseNode {\n\tkind: \"continue\",\n}\n\nexport interface FunctionDecl extends BaseNode {\n\tkind: \"function\",\n\tname: Identifier,\n\tparams: Array<ParameterDecl>,\n\treturnTypeName?: TypeName,\n\treturnType?: Type,\n\tblock: Array<AstNode>,\n\ttype?: FunctionType\n}\n\nexport interface ParameterDecl {\n\tname: Identifier,\n\ttypeName: TypeName,\n\ttype: Type,\n\tslotIndex: number,\n\tscope: ScopeInfo\n}\n\nexport interface Comment extends BaseNode {\n\tkind: \"comment\",\n\tvalue: string\n}\n\ntype AstNode =\n\t|\tStringLiteral\n\t|\tBooleanLiteral\n\t|\tNumberLiteral\n\t|\tVariableAccess\n\t|\tFunctionCall\n\t|\tFieldAccess\n\t|\tArrayAccess\n\t|\tUnaryOp\n\t|\tBinaryOp\n\t|\tIf\n\t|\tWhile\n\t|\tRepeat\n\t|\tAssignment\n\t|\tVariableDecl\n\t|\tRecordDecl\n\t|\tFunctionDecl\n\t|\tReturn\n\t|\tBreak\n\t|\tContinue\n\t|\tComment\n\t;\n\nexport interface BaseType {\n\tkind: string\n\tsignature: string\n}\n\nexport interface PrimitiveType extends BaseType {\n\tkind: \"primitive\"\n\tsignature: string\n}\n\nexport interface FunctionType extends BaseType {\n\tkind: \"function\"\n\tsignature: string\n\tparameters: Array<Parameter>\n\treturnType: Type\n\n\tdeclarationNode?: FunctionDecl\n}\n\nexport interface Parameter {\n\tname: string\n\ttype: Type\n}\n\nexport interface RecordType extends BaseType {\n\tkind: \"record\"\n\tsignature: string\n\tfields: Array<Field>\n\n\tdeclarationNode?: RecordDecl\n}\n\nexport interface Field {\n\tname: string\n\ttype: Type\n}\n\nexport interface ArrayType extends BaseType {\n\tkind: \"array\"\n\t// TODO Implement\n}\n\nexport const NothingType: PrimitiveType = {\n\tkind: \"primitive\",\n\tsignature: \"nothing\"\n}\n\nexport const BooleanType: PrimitiveType = {\n\tkind: \"primitive\",\n\tsignature: \"boolean\"\n}\n\nexport const NumberType: PrimitiveType = {\n\tkind: \"primitive\",\n\tsignature: \"number\"\n}\n\nexport const StringType: PrimitiveType = {\n\tkind: \"primitive\",\n\tsignature: \"string\"\n};\n\nexport type Type = PrimitiveType | FunctionType | RecordType | ArrayType;\n\nexport class Types {\n\tprivate all: Map<Type> = { }\n\tprivate functions: Map<FunctionType> = { }\n\tprivate functionsNoReturnType: Map<FunctionType> = { }\n\tprivate externalFunctions: Map<ExternalFunction> = { }\n\tprivate externalFunctionsNoReturnType: Map<ExternalFunction> = { }\n\tprivate records: Map<RecordType> = { }\n\n\tadd(type: Type) {\n\t\tthis.all[type.signature] = type;\n\t\tswitch(type.kind) {\n\t\t\tcase \"primitive\":\n\t\t\t\tbreak;\n\t\t\tcase \"record\":\n\t\t\t\tthis.records[type.signature] = type;\n\t\t\t\tbreak;\n\t\t\tcase \"function\":\n\t\t\t\tthis.functions[type.signature] = type;\n\t\t\t\t// TODO this is nasty\n\t\t\t\tthis.functionsNoReturnType[type.signature.substr(0, type.signature.lastIndexOf(\":\"))] = type;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\taddExternal(extFunc: ExternalFunction) {\n\t\tthis.externalFunctions[Types.functionSignature(extFunc.name, extFunc.parameters.map(p=>p.type), extFunc.returnType)] = extFunc;\n\t\tthis.externalFunctionsNoReturnType[Types.functionSignatureNoReturnType(extFunc.name, extFunc.parameters.map(p=>p.type))] = extFunc;\n\t}\n\n\tget(signature: string) {\n\t\treturn this.all[signature];\n\t}\n\n\tgetRecord(signature: string) {\n\t\treturn this.records[signature];\n\t}\n\n\tgetFunction(signature: string) {\n\t\treturn this.functions[signature];\n\t}\n\n\tgetExternalFunction(signature: string) {\n\t\treturn this.externalFunctions[signature];\n\t}\n\n\tfindFunction(name: string, paramTypes: Type[]) {\n\t\tlet sig = Types.functionSignatureNoReturnType(name, paramTypes);\n\t\treturn this.functionsNoReturnType[sig];\n\t}\n\n\tfindExternalFunction(name: string, paramTypes: Type[]) {\n\t\tlet sig = Types.functionSignatureNoReturnType(name, paramTypes);\n\t\treturn this.externalFunctionsNoReturnType[sig];\n\t}\n\n\tstatic functionSignature(funcName: string, types: Type[], returnType: Type) {\n\t\tvar sig = funcName + \"(\"\n\t\ttypes.forEach((type, index) => {\n\t\t\tsig += type.signature;\n\t\t\tif (index != types.length - 1) sig += \",\";\n\t\t})\n\t\tsig += \"):\" + returnType.signature;\n\t\treturn sig;\n\t}\n\n\tstatic functionSignatureNoReturnType(funcName: string, types: Type[]) {\n\t\tvar sig = funcName + \"(\"\n\t\ttypes.forEach((type, index) => {\n\t\t\tsig += type.signature;\n\t\t\tif (index != types.length - 1) sig += \",\";\n\t\t})\n\t\tsig += \")\";\n\t\treturn sig;\n\t}\n}\n\nexport interface Module {\n\ttypes: Types,\n\tast: Array<AstNode>,\n\tfunctions: Array<FunctionCode>,\n\texternalFunctions: ExternalFunctions\n}\n\nexport function moduleToString (module: Module): string {\n\tvar output = \"\";\n\tmodule.functions.forEach(func => {\n\t\toutput += (func.ast as FunctionDecl).type.signature;\n\t\toutput += \"\\nlocals:\\n\"\n\t\tfunc.locals.forEach((local, index) => {\n\t\t\toutput += `   [${index}] ` + local.name.value + \": \" + local.type.signature + \"\\n\";\n\t\t});\n\n\t\toutput += \"\\ninstructions:\\n\"\n\t\tvar lastLineInfoIndex = -1;\n\t\tfunc.instructions.forEach((ins, index) => {\n\t\t\tlet line = func.lineInfos[index];\n\t\t\tif (lastLineInfoIndex != line.index) {\n\t\t\t\toutput += \"\\n\";\n\t\t\t\tlastLineInfoIndex = line.index;\n\t\t\t}\n\t\t\toutput += \"    \" + JSON.stringify(ins) + \" \" + line.index + \":\" + line.line + \"\\n\";\n\t\t});\n\t\toutput += \"\\n\";\n\t});\n\treturn output;\n}\n\nclass Scopes {\n\tscopes = new Array<Map<VariableDecl | ParameterDecl>>();\n\tnextSlotIndex = 0;\n\n\tconstructor() { this.push(); }\n\n\tpush() {\n\t\tthis.scopes.push({});\n\t}\n\n\tpop() {\n\t\tthis.scopes.pop();\n\t}\n\n\tfindSymbol(id: Identifier): VariableDecl | ParameterDecl | null {\n\t\tlet scopes = this.scopes;\n\t\tfor (var i = scopes.length - 1; i >= 0; i--) {\n\t\t\tlet scope = scopes[i]\n\t\t\tlet symbol = scope[id.value];\n\t\t\tif (symbol) {\n\t\t\t\treturn symbol;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\taddSymbol(node: VariableDecl | ParameterDecl) {\n\t\tlet scopes = this.scopes;\n\t\tfor (var i = scopes.length - 1; i >= 0; i--) {\n\t\t\tlet scope = scopes[i]\n\t\t\tlet other = scope[node.name.value];\n\t\t\tif (other) {\n\t\t\t\tthrow new CompilerError(`Variable ${node.name.value} already defined in line ${other.name.location.start.line}, column ${other.name.location.start.column}.`, node.name.location);\n\t\t\t}\n\t\t}\n\t\tnode.slotIndex = this.nextSlotIndex++;\n\t\tscopes[scopes.length - 1][node.name.value] = node;\n\t}\n}\n\nexport function moduleToJson(module: Module): string {\n\treturn JSON.stringify(module, (key, value) => {\n\t\tif (key == \"declarationNode\") return undefined;\n\t\tif (key == \"location\") {\n\t\t\tlet loc = value as IFileRange;\n\t\t\treturn `${loc.start.line}:${loc.start.column} - ${loc.end.line}:${loc.end.column}`;\n\t\t}\n\t\treturn value;\n\t}, 2);\n}\n\nexport class ExternalFunctions {\n\tfunctions = new Array<ExternalFunction>();\n\tlookup: Map<ExternalFunction> = {};\n\n\tconstructor() {\n\t\tlet externals = this;\n\t\texternals.addFunction(\n\t\t\t\"alert\",\n\t\t\t[{name: \"message\", type: StringType}],\n\t\t\tNothingType,\n\t\t\tfalse,\n\t\t\t(message: string) => { alert(message); }\n\t\t)\n\t\texternals.addFunction(\n\t\t\t\"alert\",\n\t\t\t[{name: \"value\", type: NumberType}],\n\t\t\tNothingType,\n\t\t\tfalse,\n\t\t\t(value: string) => { alert(value); }\n\t\t)\n\t\texternals.addFunction(\n\t\t\t\"alert\",\n\t\t\t[{name: \"value\", type: BooleanType}],\n\t\t\tNothingType,\n\t\t\tfalse,\n\t\t\t(value: string) => { alert(value); }\n\t\t)\n\t\texternals.addFunction(\n\t\t\t\"toString\",\n\t\t\t[{name: \"value\", type: NumberType}],\n\t\t\tStringType,\n\t\t\tfalse,\n\t\t\t(value: string) => { return \"\" + value; }\n\t\t)\n\t\texternals.addFunction(\n\t\t\t\"toString\",\n\t\t\t[{name: \"value\", type: BooleanType}],\n\t\t\tStringType,\n\t\t\tfalse,\n\t\t\t(value: string) => { return \"\" + value; }\n\t\t)\n\t\texternals.addFunction(\n\t\t\t\"length\",\n\t\t\t[{name: \"value\", type: StringType}],\n\t\t\tNumberType,\n\t\t\tfalse,\n\t\t\t(value: string) => { return value.length; }\n\t\t)\n\t\texternals.addFunction(\n\t\t\t\"charAt\",\n\t\t\t[\n\t\t\t\t{name: \"value\", type: StringType},\n\t\t\t\t{name: \"index\", type: NumberType}\n\t\t\t],\n\t\t\tStringType,\n\t\t\tfalse,\n\t\t\t(value: string, index: number) => { return value.charAt(index); }\n\t\t)\n\n\t\texternals.addFunction(\n\t\t\t\"pause\",\n\t\t\t[{name: \"milliSeconds\", type: NumberType}],\n\t\t\tNumberType,\n\t\t\ttrue,\n\t\t\t(milliSeconds: number) => {\n\t\t\t\tlet promise: AsyncPromise<number> = {\n\t\t\t\t\tcompleted: false,\n\t\t\t\t\tvalue: 0\n\t\t\t\t}\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tpromise.value = milliSeconds;\n\t\t\t\t\tpromise.completed = true;\n\t\t\t\t}, milliSeconds);\n\t\t\t\treturn promise;\n\t\t\t}\n\t\t)\n\t}\n\n\taddFunction(name: string, args: Array<Parameter>, returnType: Type, async: boolean, fun: (...args: any[]) => any) {\n\t\tlet index = this.functions.length;\n\t\tlet extFun = new ExternalFunction(name, args, returnType, async, fun, index)\n\t\tthis.functions.push(extFun);\n\t\tthis.lookup[extFun.signature] = extFun;\n\t}\n\n\tcopy () {\n\t\tlet copy = new ExternalFunctions();\n\t\tfor(var i = 0; i < this.functions.length; i++) {\n\t\t\tvar f = this.functions[i];\n\t\t\tcopy.addFunction(f.name, f.parameters, f.returnType, f.async, f.fun);\n\t\t}\n\t\treturn copy;\n\t}\n}\n\nexport class ExternalFunction {\n\tpublic readonly signature: string\n\tconstructor(public name: string, public parameters: Array<Parameter>, public returnType: Type, public async: boolean, public fun: (...args: any[]) => any, public index: number) {\n\t\tthis.signature = Types.functionSignature(name, parameters.map(p=>p.type), returnType);\n\t}\n}\n\nexport function compile(input: string, externalFunctions: ExternalFunctions): Module {\n\ttry {\n\t\t// parse source to an AST\n\t\tlet ast = (parse(input));\n\n\t\t// separate the main program statements from\n\t\t// function and record declarations\n\t\tlet functions = ast.filter(element => { return element.kind == \"function\" }) as Array<FunctionDecl>;\n\t\tlet records = ast.filter(element => { return element.kind == \"record\" }) as Array<RecordDecl>;\n\t\tlet mainStatements = ast.filter(element => { return element.kind != \"function\" && element.kind != \"record\" });\n\t\tlet mainFunction:  FunctionDecl = {\n\t\t\tkind: \"function\",\n\t\t\tname: {\n\t\t\t\tlocation: {\n\t\t\t\t\tstart: { line: 0, column: 0, offset: 0 },\n\t\t\t\t\tend: { line: 0, column: 0, offset: 0 }\n\t\t\t\t},\n\t\t\t\tvalue: \"$main\"\n\t\t\t},\n\t\t\tblock: mainStatements,\n\t\t\tparams: new Array(),\n\t\t\treturnType: NothingType,\n\t\t\treturnTypeName: null,\n\t\t\tlocation: {\n\t\t\t\tstart: { line: 0, column: 0, offset: 0 },\n\t\t\t\tend: { line: 0, column: 0, offset: 0 }\n\t\t\t},\n\t\t\ttype: null\n\t\t}\n\t\tif (mainStatements.length > 0) {\n\t\t\tmainFunction.location.start = mainStatements[0].location.start;\n\t\t\tmainFunction.location.end = mainStatements[mainStatements.length - 1].location.end;\n\t\t}\n\t\tfunctions.unshift(mainFunction);\n\n\t\t// Create a defensive copy of the external functions as the compiler\n\t\t// might add additional ones for record constructors etc.\n\t\texternalFunctions = externalFunctions.copy()\n\t\tlet types = typeCheck(functions, records, externalFunctions);\n\t\tlet codes = emitProgram(functions, externalFunctions);\n\n\t\treturn {\n\t\t\tfunctions: codes,\n\t\t\tast: ast,\n\t\t\ttypes: types,\n\t\t\texternalFunctions: externalFunctions\n\t\t}\n\t} catch (e) {\n\t\tvar error = (e as SyntaxError);\n\t\tthrow new CompilerError(error.message, error.location);\n\t}\n}\n\nfunction debug(msg: string) {\n\tthrow new CompilerError(msg, nullLocation());\n}\n\nfunction nullLocation(): IFileRange {\n\treturn {\n\t\tstart: {\n\t\t\tline: 1,\n\t\t\tcolumn: 1,\n\t\t\toffset: 0\n\t\t},\n\t\tend: {\n\t\t\tline: 1,\n\t\t\tcolumn: 1,\n\t\t\toffset: 0\n\t\t}\n\t}\n}\n\nfunction typeCheck(functions: Array<FunctionDecl>, records: Array<RecordDecl>, externalFunctions: ExternalFunctions): Types {\n\tlet types = new Types()\n\n\t// register built-in types\n\ttypes.add(NothingType)\n\ttypes.add(BooleanType)\n\ttypes.add(NumberType);\n\ttypes.add(StringType);\n\n\t// gather all record and do basic duplicate testing\n\t// We do not resolve field types here yet, as\n\t// we have not seen all record types at this point.\n\trecords.forEach(rec => {\n\t\tlet type: Type = {\n\t\t\tkind: \"record\",\n\t\t\tfields: [],\n\t\t\tdeclarationNode: rec,\n\t\t\tsignature: rec.name.value\n\t\t}\n\n\t\tlet other = types.getRecord(type.signature);\n\t\tif (other) {\n\t\t\tlet otherLoc = other.declarationNode.location.start;\n\t\t\tthrow new CompilerError(`Record '${other.signature}' already defined in line ${otherLoc.line}.`, rec.name.location);\n\t\t}\n\n\t\trec.type = type;\n\t\ttypes.add(type);\n\t});\n\n\t// Now that we have seen all records, resolve the record field types\n\trecords.forEach(r => {\n\t\t// Assign field types, bail if a type is unknown\n\t\t// Also check duplicate field names\n\t\tlet decl = r.type.declarationNode;\n\t\tlet rec = r.type;\n\n\t\t// Check and assign field types\n\t\tlet fieldNames: Map<RecordFieldDecl> = {};\n\t\tdecl.fields.forEach(field => {\n\t\t\tlet otherField = fieldNames[field.name.value];\n\t\t\tif (otherField) {\n\t\t\t\tlet otherLoc = otherField.name.location.start;\n\t\t\t\tthrow new CompilerError(`Duplicate field name '${field.name.value}' in record '${rec.signature}', see line ${otherLoc.line}, column ${otherLoc.column}.`, field.name.location);\n\t\t\t}\n\n\t\t\tlet fieldType = types.get(field.typeName.id.value);\n\t\t\tif (!fieldType) {\n\t\t\t\tthrow new CompilerError(`Unknown type '${field.typeName.id.value}' for field '${field.name.value}' of record '${rec.signature}'.`, field.typeName.id.location);\n\t\t\t}\n\t\t\trec.fields.push({name: field.name.value, type: fieldType});\n\t\t\tfield.type = fieldType;\n\t\t\tfieldNames[field.name.value] = field;\n\t\t});\n\t});\n\n\t// Create constructor functions for all records\n\t// TODO check for recursive types\n\trecords.forEach(rec => {\n\t\tlet params: Array<Parameter> = [];\n\t\trec.fields.forEach(field =>\n\t\t\tparams.push({name: field.name.value, type: field.type})\n\t\t);\n\t\texternalFunctions.addFunction(rec.name.value, params, rec.type, false, (...args: any[]) => {\n\t\t\tlet value = [];\n\t\t\tfor (var i = 0; i < args.length; i++) {\n\t\t\t\tvalue[i] = args[i];\n\t\t\t}\n\t\t\treturn value;\n\t\t});\n\t});\n\n\t// Create the external function look up, copy\n\t// the user provided externals, otherwise we\n\t// keep adding record funtions!\n\texternalFunctions.functions.forEach(fun => {\n\t\ttypes.addExternal(fun);\n\t});\n\n\t// Gather all functions and do a basic duplicate check\n\t// The signature is resolved in the next step.\n\tfunctions.forEach(funDecl => {\n\t\tlet type: FunctionType = {\n\t\t\tkind: \"function\",\n\t\t\t// empty signature, can only construct this after we have assigned param/return types\n\t\t\tsignature: \"\",\n\t\t\tparameters: [],\n\t\t\treturnType: NothingType,\n\t\t\tdeclarationNode: funDecl,\n\t\t}\n\t\tfunDecl.type = type;\n\n\t\t// Check and assign parameter types\n\t\tlet params: Map<ParameterDecl> = {};\n\t\tfunDecl.params.forEach(param => {\n\t\t\tlet otherParam = params[param.name.value];\n\t\t\tif (otherParam) {\n\t\t\t\tlet otherLoc = otherParam.name.location.start;\n\t\t\t\tthrow new CompilerError(`Duplicate parameter name '${param.name.value}' in function '${type.signature}, see line ${otherLoc.line}, column ${otherLoc.column}.`, param.name.location);\n\t\t\t}\n\n\t\t\tlet paramType = types.get(param.typeName.id.value);\n\t\t\tif (!paramType) {\n\t\t\t\tthrow new CompilerError(`Unknown type '${param.typeName.id.value}' for parameter '${param.name.value}' of function '${type.signature}.`, param.typeName.id.location);\n\t\t\t}\n\t\t\ttype.parameters.push({name: param.name.value, type: paramType});\n\t\t\tparam.type = paramType;\n\t\t\tparams[param.name.value] = param;\n\t\t});\n\n\t\t// Check and assign return type\n\t\tlet returnTypeName = funDecl.returnTypeName ? funDecl.returnTypeName.id.value : null;\n\t\tlet returnType =  returnTypeName ? types.get(returnTypeName) : NothingType;\n\t\tif (!returnType) {\n\t\t\tthrow new CompilerError(`Unknown return type '${returnTypeName}`, funDecl.returnTypeName.id.location);\n\t\t}\n\t\tfunDecl.returnType = returnType;\n\t\ttype.returnType = returnType;\n\n\t\t// We can now assign the signature to the function\n\t\ttype.signature = Types.functionSignature(funDecl.name.value, type.parameters.map(param => param.type), type.returnType);\n\n\t\tlet other = types.getFunction(type.signature);\n\t\tif (other) {\n\t\t\tlet otherLoc = other.declarationNode.location.start;\n\t\t\tthrow new CompilerError(`Function '${other.signature}' already defined in line ${otherLoc.line}.`, funDecl.name.location);\n\t\t}\n\t\tif (types.getExternalFunction(type.signature)) throw new CompilerError(`Function '${other.signature}' already defined externally.`, funDecl.name.location);\n\n\t\ttypes.add(type);\n\t});\n\n\t// We now have all function and record types figured out\n\t// time to traverse all main program and function statement blocks\n\tfunctions.forEach(node => typeCheckRec(node, types, new Scopes(), node, null));\n\n\treturn types;\n}\n\nfunction typeCheckRec(node: AstNode, types: Types, scopes: Scopes, enclosingFun: FunctionDecl, enclosingLoop: While | Repeat) {\n\tswitch(node.kind) {\n\t\tcase \"number\":\n\t\t\tnode.type = NumberType;\n\t\t\tbreak;\n\n\t\tcase \"boolean\":\n\t\t\tnode.type = BooleanType;\n\t\t\tbreak;\n\n\t\tcase \"string\":\n\t\t\tnode.type = StringType;\n\t\t\tbreak;\n\n\t\tcase \"unaryOp\":\n\t\t\ttypeCheckRec((node.value as AstNode), types, scopes, enclosingFun, enclosingLoop);\n\t\t\tswitch(node.operator) {\n\t\t\t\tcase \"not\":\n\t\t\t\t\tif (node.value.type != BooleanType) throw new CompilerError(`Operand of ${node.operator} operator is not a 'boolean', but a '${node.value.type.signature}'.`, node.value.location);\n\t\t\t\t\tnode.type = BooleanType;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"-\":\n\t\t\t\t\tif (node.value.type != NumberType) throw new CompilerError(`Operand of ${node.operator} operator is not a 'number', but a '${node.value.type.signature}'.`, node.value.location);\n\t\t\t\t\tnode.type = NumberType;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new CompilerError(`Unknown operator ${node.operator}.`, node.location);\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \"binaryOp\":\n\t\t\ttypeCheckRec((node.left as AstNode), types, scopes, enclosingFun, enclosingLoop);\n\t\t\ttypeCheckRec((node.right as AstNode), types, scopes, enclosingFun, enclosingLoop);\n\t\t\tswitch (node.operator) {\n\t\t\t\tcase \"+\":\n\t\t\t\tcase \"-\":\n\t\t\t\tcase \"*\":\n\t\t\t\tcase \"/\":\n\t\t\t\t\tif (node.left.type != NumberType) throw new CompilerError(`Left operand of ${node.operator} operator is not a 'number', but a '${node.left.type.signature}'.`, node.left.location);\n\t\t\t\t\tif (node.right.type != NumberType) throw new CompilerError(`Right operand of ${node.operator} operator is not a 'number', but a '${node.right.type.signature}'.`, node.right.location);\n\t\t\t\t\tnode.type = NumberType;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"..\":\n\t\t\t\t\tif (node.left.type != StringType) throw new CompilerError(`Left operand of ${node.operator} operator is not a 'string', but a '${node.left.type.signature}'.`, node.left.location);\n\t\t\t\t\tif (node.right.type != StringType) throw new CompilerError(`Right operand of ${node.operator} operator is not a 'string', but a '${node.right.type.signature}'.`, node.right.location);\n\t\t\t\t\tnode.type = StringType;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"<\":\n\t\t\t\tcase \"<=\":\n\t\t\t\tcase \">\":\n\t\t\t\tcase \">=\":\n\t\t\t\t\tif (node.left.type != NumberType) throw new CompilerError(`Left operand of ${node.operator} operator is not a 'number', but a '${node.left.type.signature}'.`, node.left.location);\n\t\t\t\t\tif (node.right.type != NumberType) throw new CompilerError(`Right operand of ${node.operator} operator is not a 'number', but a '${node.right.type.signature}'.`, node.right.location);\n\t\t\t\t\tnode.type = BooleanType;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"==\":\n\t\t\t\tcase \"!=\":\n\t\t\t\t\tif (node.left.type != node.right.type) throw new CompilerError(`Can not compare a '${node.left.type.signature}' to a '${node.right.type.signature}'.`, node.location);\n\t\t\t\t\tnode.type = BooleanType;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"and\":\n\t\t\t\tcase \"or\":\n\t\t\t\tcase \"xor\":\n\t\t\t\t\tif (node.left.type != BooleanType) throw new CompilerError(`Left operand of ${node.operator} operator is not a 'boolean', but a '${node.left.type.signature}'.`, node.left.location);\n\t\t\t\t\tif (node.right.type != BooleanType) throw new CompilerError(`Right operand of ${node.operator} operator is not a 'boolean', but a '${node.right.type.signature}'.`, node.right.location);\n\t\t\t\t\tnode.type = BooleanType;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new CompilerError(`Unknown operator ${node.operator}.`, node.location);\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \"if\":\n\t\t\ttypeCheckRec(node.condition as AstNode, types, scopes, enclosingFun, enclosingLoop);\n\t\t\tif (node.condition.type != BooleanType) throw new CompilerError(`Condition of if statement must be a 'boolean', but is a '${node.condition.type.signature}`, node.condition.location);\n\t\t\tscopes.push();\n\t\t\tnode.trueBlock.forEach(child => typeCheckRec(child as AstNode, types, scopes, enclosingFun, enclosingLoop));\n\t\t\tscopes.pop();\n\t\t\tscopes.push();\n\t\t\tnode.falseBlock.forEach(child => typeCheckRec(child as AstNode, types, scopes, enclosingFun, enclosingLoop));\n\t\t\tscopes.pop();\n\t\t\tbreak;\n\n\t\tcase \"while\":\n\t\t\ttypeCheckRec(node.condition as AstNode, types, scopes, enclosingFun, enclosingLoop);\n\t\t\tif (node.condition.type != BooleanType) throw new CompilerError(`Condition of while statement must be a 'boolean', but is a '${node.condition.type.signature}`, node.condition.location);\n\t\t\tscopes.push();\n\t\t\tnode.block.forEach(child => typeCheckRec(child as AstNode, types, scopes, enclosingFun, node));\n\t\t\tscopes.pop();\n\t\t\tbreak;\n\n\t\tcase \"repeat\":\n\t\t\ttypeCheckRec(node.count as AstNode, types, scopes, enclosingFun, enclosingLoop);\n\t\t\tif (node.count.type != NumberType) throw new CompilerError(`Condition of repeat statement must be a 'number', but is a '${node.count.type.signature}`, node.count.location);\n\t\t\tscopes.push();\n\t\t\tnode.block.forEach(child => typeCheckRec(child as AstNode, types, scopes, enclosingFun, node));\n\t\t\tscopes.pop();\n\t\t\tbreak;\n\n\t\tcase \"variable\":\n\t\t\ttypeCheckRec(node.value as AstNode, types, scopes, enclosingFun, enclosingLoop);\n\t\t\tif (node.typeName) {\n\t\t\t\tlet type = types.get(node.typeName.id.value);\n\t\t\t\tif (!type) throw new CompilerError(`Unknown type '${node.typeName.id.value}' for variable '${node.name.value}'.`, node.typeName.id.location);\n\t\t\t\tif (type != node.value.type) throw new CompilerError(`Can't assign a value of type '${node.value.type.signature}' to variable '${node.name.value}' with type '${type.signature}.`, node.value.location);\n\t\t\t\tnode.type = type;\n\t\t\t} else {\n\t\t\t\tnode.type = node.value.type;\n\t\t\t}\n\t\t\tscopes.addSymbol(node);\n\t\t\tbreak;\n\n\t\tcase \"function\":\n\t\t\tscopes.push();\n\t\t\tnode.params.forEach(param =>{\n\t\t\t\tscopes.addSymbol(param)\n\t\t\t});\n\t\t\tnode.block.forEach(child => typeCheckRec(child as AstNode, types, scopes, enclosingFun, enclosingLoop));\n\t\t\tscopes.pop();\n\t\t\tbreak;\n\t\tcase \"assignment\": {\n\t\t\ttypeCheckRec(node.left as AstNode, types, scopes, enclosingFun, enclosingLoop);\n\t\t\ttypeCheckRec(node.right as AstNode, types, scopes, enclosingFun, enclosingLoop);\n\n\t\t\tif (node.left.kind == \"variableAccess\") {\n\t\t\t\tlet varAccess = node.left as VariableAccess;\n\t\t\t\tlet symbol = scopes.findSymbol(varAccess.name);\n\t\t\t\tif (!symbol) throw new CompilerError(`Can not find variable or parameter with name '${varAccess.name.value}'.`, node.left.location);\n\t\t\t\tif (symbol.type != node.right.type) throw new CompilerError(`Can not assign a value of type '${node.right.type.signature}' to a variable of type '${symbol.type.signature}.`, node.location);\n\t\t\t} else if (node.left.kind == \"fieldAccess\") {\n\t\t\t\tlet fieldAccess = node.left as FieldAccess;\n\t\t\t\tif (fieldAccess.type != node.right.type) throw new CompilerError(`Can not assign a value of type '${node.right.type.signature}' to a variable of type '${fieldAccess.type.signature}.`, node.location);\n\t\t\t} else {\n\t\t\t\tthrow new CompilerError(`Array element assignments type check not implemented yet.`, node.location);\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\tcase \"variableAccess\": {\n\t\t\tlet symbol = scopes.findSymbol(node.name);\n\t\t\tif (!symbol) throw new CompilerError(`Can not find variable or parameter with name '${node.name.value}'.`, node.name.location);\n\t\t\tnode.type = symbol.type;\n\t\t\tbreak;\n\t\t}\n\t\tcase \"functionCall\": {\n\t\t\tnode.args.forEach(arg => typeCheckRec(arg as AstNode, types, scopes, enclosingFun, enclosingLoop));\n\t\t\tlet funType = types.findFunction(node.name.value, node.args.map(a => a.type));\n\t\t\tvar resolvedFunction: FunctionType | ExternalFunction = funType;\n\t\t\tvar returnType: Type;\n\t\t\tif (!funType) {\n\t\t\t\tlet externalFun = types.findExternalFunction(node.name.value, node.args.map(a => a.type));\n\t\t\t\tif(!externalFun) throw new CompilerError(`Can not find function '${Types.functionSignatureNoReturnType(node.name.value, node.args.map(a => a.type))}'.`, node.location);\n\t\t\t\tresolvedFunction = externalFun;\n\t\t\t\treturnType = externalFun.returnType;\n\t\t\t} else {\n\t\t\t\treturnType = (funType.declarationNode as FunctionDecl).returnType;\n\t\t\t}\n\t\t\tnode.resolvedFunction = resolvedFunction;\n\t\t\tnode.type = returnType;\n\t\t\tbreak;\n\t\t}\n\t\tcase \"record\":\n\t\t\tthrow new CompilerError(`Can not declare ${node.kind} in function.`, node.location);\n\t\tcase \"return\":\n\t\t\tif (node.value) typeCheckRec(node.value as AstNode, types, scopes, enclosingFun, enclosingLoop);\n\t\t\t// function returns a value, but no value given\n\t\t\tif (enclosingFun.returnType != NothingType && !node.value) throw new CompilerError(`Function '${enclosingFun.type.signature}' must return a value of type '${enclosingFun.returnType.signature}'.`, node.location);\n\t\t\t// function returns no value, but value given\n\t\t\tif (enclosingFun.returnType == NothingType && node.value) throw new CompilerError(`Function '${enclosingFun.type.signature}' must not return a value.`, node.location);\n\t\t\t// function returns a value, value given, but type don't match\n\t\t\tif (enclosingFun.returnType != NothingType && node.value && enclosingFun.returnType != node.value.type) throw new CompilerError(`Function '${enclosingFun.type.signature}' must return a value of type '${enclosingFun.returnType.signature}', but a value of type '${node.value.type.signature}' is returned.`, node.location);\n\t\t\tbreak;\n\t\tcase \"break\":\n\t\tcase \"continue\":\n\t\t\tif (!enclosingLoop) throw new CompilerError(`'${node.kind}' can only be used inside a 'while' or 'repeat' loop.`, node.location);\n\t\t\tbreak;\n\t\tcase \"comment\":\n\t\t\tbreak;\n\t\tcase \"fieldAccess\":\n\t\t\ttypeCheckRec(node.record as AstNode, types, scopes, enclosingFun, enclosingLoop)\n\t\t\tif (node.record.type.kind != \"record\") throw new CompilerError(`Can only access fields on record types, but got a ${node.record.type.signature}.`, node.location);\n\t\t\tlet recordType = node.record.type;\n\t\t\t// TODO wtf is going on here\n\t\t\tfor (var i = 0; i < recordType.fields.length; i++) {\n\t\t\t\tlet field = recordType.fields[i];\n\t\t\t\tif (field.name == node.name.value) {\n\t\t\t\t\tnode.type = field.type;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthrow new CompilerError(`Could not find field '${node.name.value}' on record of type ${node.record.type.signature}.`, node.location);\n\t\t\tbreak;\n\t\tcase \"arrayAccess\":\n\t\t\t// TODO implement\n\t\t\tthrow new CompilerError(`Array access not implemented yet.`, node.location);\n\t\tdefault:\n\t\t\tassertNever(node);\n\t}\n}\n\nclass EmitterContext {\n\tscopes = new Scopes()\n\tcontinues = new Array<JumpIns>()\n\tbreaks = new Array<JumpIns>()\n\tlineInfoIndex = 0\n\n\tconstructor(public fun: FunctionCode, public functionLookup: Map<FunctionCode>, public externalFunctionLookup: Map<ExternalFunction>) { }\n}\n\nfunction emitProgram (functions: Array<FunctionDecl>, externalFunctions: ExternalFunctions): Array<FunctionCode> {\n\tlet functionCodes = Array<FunctionCode>()\n\tlet functionLookup: Map<FunctionCode> = {};\n\n\tfunctions.forEach(fun => {\n\t\tlet funCode: FunctionCode = {\n\t\t\tast: fun,\n\t\t\tinstructions: new Array<Instruction>(),\n\t\t\tlineInfos: new Array<LineInfo>(),\n\t\t\tbreakpoints: new Array<Breakpoint>(),\n\t\t\tlocals: new Array<VariableDecl | ParameterDecl>(),\n\t\t\tnumParameters: fun.params.length,\n\t\t\tindex: functionCodes.length\n\t\t}\n\t\tfunctionCodes.push(funCode);\n\t\tfunctionLookup[fun.type.signature] = funCode;\n\t});\n\n\tfunctionCodes.forEach(fun => emitFunction(new EmitterContext(fun, functionLookup, externalFunctions.lookup)));\n\treturn functionCodes;\n}\n\nfunction emitFunction(context: EmitterContext) {\n\tlet fun = context.fun;\n\tlet statements = fun.ast.block;\n\tlet funDecl = fun.ast as FunctionDecl;\n\tfunDecl.params.forEach(param => {\n\t\tcontext.scopes.addSymbol(param)\n\t\tfun.locals.push(param)\n\t});\n\temitStatementList(statements, context);\n\n\t// if there's no return instruction at the end of the function, add one.\n\tif (fun.instructions.length == 0 || fun.instructions[fun.instructions.length - 1].kind != \"return\") {\n\t\tcontext.fun.instructions.push({kind: \"return\"});\n\t\tlet line = context.fun.ast.location.end.line == 0 ? 0 : context.fun.ast.location.end.line;\n\t\tlet infoIndex = fun.lineInfos.length > 0? fun.lineInfos[fun.lineInfos.length - 1].index + 1 : 0;\n\t\temitLineInfo(context.fun.lineInfos, infoIndex, line, 1);\n\t}\n\n\t// All parameters have scope from the beginning of the function to the end.\n\tfunDecl.params.forEach(param => {\n\t\tparam.scope = { startPc: 0, endPc: fun.instructions.length - 1 };\n\t})\n\n\t// All variable statements in the function's statement list also have scope\n\t// from after their initialization (set in emitAstNode) to the end of the function.\n\tassignScopeInfoEndPc(statements, fun.instructions.length - 1);\n\n\t// size the breakpoints array, filled with nulls\n\tfun.breakpoints.length = fun.instructions.length;\n}\n\n// Assign the endPc to the ScopeInfo of each Variable AST node in the\n// list of statements.\nfunction assignScopeInfoEndPc(statements: Array<AstNode>, endPc: number) {\n\tstatements.forEach(stmt => {\n\t\tif (stmt.kind == \"variable\") {\n\t\t\tstmt.scope.endPc = endPc;\n\t\t}\n\t});\n}\n\n// Some \"statements\" like 12 * 23 may leave a value on the stack which\n// we need to pop, while others like assignments or if/while/... do\n// not. We thus need to know the statement boundaries to insert\n// pop instructions when necessary\nfunction emitStatementList (statements: Array<AstNode>, context: EmitterContext) {\n\tstatements.forEach(stmt => {\n\t\temitAstNode(stmt as AstNode, context, true);\n\n\t\t// Check if this is a node that leaves a value on the stack\n\t\t// so we can insert a pop\n\t\tswitch(stmt.kind) {\n\t\t\tcase \"number\":\n\t\t\tcase \"boolean\":\n\t\t\tcase \"string\":\n\t\t\tcase \"unaryOp\":\n\t\t\tcase \"binaryOp\":\n\t\t\tcase \"variableAccess\":\n\t\t\tcase \"fieldAccess\":\n\t\t\tcase \"arrayAccess\":\n\t\t\t\t// all of the above leave a value on the stack\n\t\t\t\t// when used as a statement, so we insert a pop()\n\t\t\t\tlet lineInfo = context.fun.lineInfos[context.fun.instructions.length - 1];\n\t\t\t\temitLineInfo(context.fun.lineInfos, lineInfo.index, lineInfo.line, 1);\n\t\t\t\tcontext.fun.instructions.push({kind: \"pop\"});\n\t\t\t\tbreak;\n\t\t\tcase \"functionCall\": {\n\t\t\t\t// function calls may leave a value on the stack if\n\t\t\t\t// they return a value.\n\t\t\t\tif (context.functionLookup[stmt.resolvedFunction.signature]) {\n\t\t\t\t\tlet calledFun = context.functionLookup[stmt.resolvedFunction.signature].ast;\n\t\t\t\t\tif (calledFun.returnType && calledFun.returnType != NothingType) {\n\t\t\t\t\t\tlet lineInfo = context.fun.lineInfos[context.fun.instructions.length - 1];\n\t\t\t\t\t\temitLineInfo(context.fun.lineInfos, lineInfo.index, lineInfo.line, 1);\n\t\t\t\t\t\tcontext.fun.instructions.push({kind: \"pop\"});\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\tlet calledFun = context.externalFunctionLookup[stmt.resolvedFunction.signature];\n\t\t\t\t\tif (calledFun.returnType && calledFun.returnType != NothingType) {\n\t\t\t\t\t\tlet lineInfo = context.fun.lineInfos[context.fun.instructions.length - 1];\n\t\t\t\t\t\temitLineInfo(context.fun.lineInfos, lineInfo.index, lineInfo.line, 1);\n\t\t\t\t\t\tcontext.fun.instructions.push({kind: \"pop\"});\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tcase \"if\":\n\t\t\tcase \"while\":\n\t\t\tcase \"repeat\":\n\t\t\tcase \"variable\":\n\t\t\tcase \"function\":\n\t\t\tcase \"assignment\":\n\t\t\tcase \"record\":\n\t\t\tcase \"return\":\n\t\t\tcase \"break\":\n\t\t\tcase \"continue\":\n\t\t\tcase \"comment\":\n\t\t\t\t// none of these leave a value on the stack\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tassertNever(stmt);\n\t\t}\n\t});\n}\n\nfunction tryEmitRecordOperatorOveride(opNode: BinaryOp, overLoadName: string, returnType: Type, context: EmitterContext): boolean {\n\tif (!(opNode.left.type.kind == \"record\" && opNode.right.type.kind == \"record\" && opNode.left.type == opNode.right.type)) return false;\n\n\tlet {functionLookup, externalFunctionLookup} = context;\n\tlet instructions = context.fun.instructions;\n\n\tlet sig = Types.functionSignature(overLoadName, [opNode.left.type, opNode.right.type], returnType);\n\tif (functionLookup[sig]) {\n\t\tinstructions.push({kind: \"call\", functionIndex: functionLookup[sig].index});\n\t\treturn true;\n\t} else if (externalFunctionLookup[sig]) {\n\t\tinstructions.push({kind: \"callExt\", functionIndex: externalFunctionLookup[sig].index });\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n}\n\nfunction emitAstNode(node: AstNode, context: EmitterContext, isStatement: boolean) {\n\tlet fun = context.fun;\n\tlet instructions = fun.instructions;\n\tlet {functionLookup, scopes, externalFunctionLookup} = context;\n\n\tlet lastInsIndex = instructions.length;\n\tlet lineInfos = fun.lineInfos;\n\n\tswitch(node.kind) {\n\t\tcase \"number\":\n\t\tcase \"boolean\":\n\t\tcase \"string\":\n\t\t\tinstructions.push({kind: \"push\", value: node.value});\n\t\t\tif(isStatement) emitLineInfo(lineInfos, context.lineInfoIndex, node.location.start.line, instructions.length - lastInsIndex);\n\t\t\tbreak;\n\t\tcase \"binaryOp\":\n\t\t\t// TODO record types need to be compared structurally via the generated\n\t\t\t// or user defined equals()\n\t\t\temitAstNode(node.left as AstNode, context, false);\n\t\t\temitAstNode(node.right as AstNode, context, false);\n\n\n\t\t\tif (node.operator == \"..\") {\n\t\t\t\tinstructions.push({kind: \"stringConcat\" });\n\t\t\t} else if (node.operator == \"==\" && tryEmitRecordOperatorOveride(node, \"equals\", BooleanType, context)) {\n\t\t\t\t// overriden function does everything for us\n\t\t\t} else if (node.operator == \"!=\" && tryEmitRecordOperatorOveride(node, \"equals\", BooleanType, context)) {\n\t\t\t\tinstructions.push({kind: \"unaryOp\", operator: \"not\"});\n\t\t\t} else {\n\t\t\t\tinstructions.push({kind: \"binaryOp\", operator: node.operator});\n\t\t\t}\n\t\t\tif(isStatement) emitLineInfo(lineInfos, context.lineInfoIndex, node.location.start.line, instructions.length - lastInsIndex);\n\t\t\tbreak;\n\t\tcase \"unaryOp\":\n\t\t\temitAstNode(node.value as AstNode, context, false);\n\t\t\tinstructions.push({kind: \"unaryOp\", operator: node.operator});\n\t\t\tif(isStatement) emitLineInfo(lineInfos, context.lineInfoIndex, node.location.start.line, instructions.length - lastInsIndex);\n\t\t\tbreak;\n\t\tcase \"variableAccess\":\n\t\t\tinstructions.push({kind: \"load\", slotIndex: context.scopes.findSymbol(node.name).slotIndex});\n\t\t\tif(isStatement) emitLineInfo(lineInfos, context.lineInfoIndex, node.location.start.line, instructions.length - lastInsIndex);\n\t\t\tbreak;\n\t\tcase \"variable\":\n\t\t\tfun.locals.push(node);\n\t\t\tscopes.addSymbol(node);\n\t\t\temitAstNode(node.value as AstNode, context, false);\n\t\t\tinstructions.push({kind: \"store\", slotIndex: node.slotIndex});\n\t\t\tnode.scope = { startPc: instructions.length, endPc: 0 };\n\t\t\temitLineInfo(lineInfos, context.lineInfoIndex, node.location.start.line, instructions.length - lastInsIndex);\n\t\t\tbreak;\n\t\tcase \"assignment\":\n\t\t\temitAstNode(node.right as AstNode, context, false);\n\t\t\tif (node.left.kind == \"variableAccess\") {\n\t\t\t\tinstructions.push({kind: \"store\", slotIndex: context.scopes.findSymbol((node.left as VariableAccess).name).slotIndex});\n\t\t\t\temitLineInfo(lineInfos, context.lineInfoIndex, node.location.start.line, instructions.length - lastInsIndex);\n\t\t\t} else if (node.left.kind == \"fieldAccess\") {\n\t\t\t\tlet fieldAccess = node.left as FieldAccess;\n\t\t\t\temitAstNode(fieldAccess.record as AstNode, context, false);\n\t\t\t\tlet recordType = fieldAccess.record.type as RecordType;\n\t\t\t\tvar fieldIndex = 0;\n\t\t\t\tfor (; fieldIndex < recordType.fields.length; fieldIndex++) {\n\t\t\t\t\tif (recordType.fields[fieldIndex].name == fieldAccess.name.value) break;\n\t\t\t\t}\n\t\t\t\t// TODO deep copy assignment of record types\n\t\t\t\tinstructions.push({kind: \"storeField\", fieldIndex: fieldIndex});\n\t\t\t\temitLineInfo(lineInfos, context.lineInfoIndex, node.location.start.line, instructions.length - lastInsIndex);\n\t\t\t} else if (node.left.kind == \"arrayAccess\") {\n\t\t\t\t// TODO implement\n\t\t\t\tthrow new CompilerError(`Array element assignment emission not implemented yet.`, node.location);\n\t\t\t} else {\n\t\t\t\tthrow new CompilerError(`Illegal assignment operation.`, node.location);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"functionCall\":\n\t\t\t// push all arguments onto the stack, left to right\n\t\t\tnode.args.forEach(arg => emitAstNode(arg as AstNode, context, false));\n\n\t\t\t// Either the function is a function inside the program, or an external function\n\t\t\tif (functionLookup[node.resolvedFunction.signature]) {\n\t\t\t\tinstructions.push({kind: \"call\", functionIndex: functionLookup[node.resolvedFunction.signature].index});\n\t\t\t} else {\n\t\t\t\tlet externalFun = externalFunctionLookup[node.resolvedFunction.signature];\n\t\t\t\tinstructions.push({kind: \"callExt\", functionIndex: externalFun.index });\n\t\t\t}\n\t\t\tif(isStatement) emitLineInfo(lineInfos, context.lineInfoIndex, node.location.start.line, instructions.length - lastInsIndex);\n\t\t\tbreak;\n\t\tcase \"if\":\n\t\t\temitAstNode(node.condition as AstNode, context, false);\n\n\t\t\t// Setup jumps. There's a boolean value on the top of the stack\n\t\t\t// for the conditional which will be consumed by jumpIfFalse\n\t\t\tlet jumpToFalse: Instruction = { kind: \"jumpIfFalse\", offset: 0 };\n\t\t\tlet jumpPastFalse: Instruction = { kind: \"jump\", offset: 0 };\n\t\t\tinstructions.push(jumpToFalse);\n\t\t\temitLineInfo(lineInfos, context.lineInfoIndex, node.location.start.line, instructions.length - lastInsIndex);\n\t\t\tcontext.lineInfoIndex++;\n\n\t\t\t// Emit the true block and a jump to after the false block\n\t\t\tscopes.push();\n\t\t\temitStatementList(node.trueBlock, context);\n\t\t\tscopes.pop()\n\t\t\tassignScopeInfoEndPc(node.trueBlock, instructions.length - 1);\n\t\t\tinstructions.push(jumpPastFalse);\n\t\t\tlineInfos.push(lineInfos[lineInfos.length - 1]);\n\t\t\tcontext.lineInfoIndex++;\n\n\t\t\t// Patch in the address of the first instruction of the false block\n\t\t\tjumpToFalse.offset = instructions.length;\n\n\t\t\t// Emit the false block\n\t\t\tscopes.push();\n\t\t\temitStatementList(node.falseBlock, context);\n\t\t\tscopes.pop()\n\t\t\tassignScopeInfoEndPc(node.falseBlock, instructions.length - 1);\n\n\t\t\t// Patch in the address of the first instruction after the false block\n\t\t\tjumpPastFalse.offset = instructions.length;\n\t\t\tbreak;\n\t\tcase \"while\":\n\t\t\t// save the index of the start of the condition code\n\t\t\tlet conditionIndex = instructions.length;\n\n\t\t\t// emit the condition and setup a jump to after\n\t\t\t// the while block.\n\t\t\temitAstNode(node.condition as AstNode, context, false);\n\t\t\tlet jumpPastBlock: Instruction = { kind: \"jumpIfFalse\", offset: 0 };\n\t\t\tinstructions.push(jumpPastBlock);\n\t\t\temitLineInfo(lineInfos, context.lineInfoIndex, node.location.start.line, instructions.length - lastInsIndex);\n\t\t\tcontext.lineInfoIndex++;\n\n\t\t\tscopes.push();\n\t\t\temitStatementList(node.block, context);\n\t\t\tscopes.pop();\n\t\t\tassignScopeInfoEndPc(node.block, instructions.length - 1);\n\n\t\t\t// Patch up all continues to jump to the loop header\n\t\t\tcontext.continues.forEach(cont => cont.offset = conditionIndex);\n\t\t\tcontext.continues.length = 0\n\n\t\t\t// Emit jump to the loop header\n\t\t\tinstructions.push({ kind: \"jump\", offset: conditionIndex });\n\t\t\tlineInfos.push(lineInfos[conditionIndex]);\n\n\t\t\t// Patch in the address of the first instruction after the loop body\n\t\t\tjumpPastBlock.offset = instructions.length;\n\n\t\t\t// Patch up all continues to go to the first instruction after the loop body\n\t\t\tcontext.breaks.forEach(br => br.offset = instructions.length);\n\t\t\tcontext.breaks.length = 0;\n\t\t\tbreak;\n\t\tcase \"repeat\": {\n\t\t\t// Emit the count, which leaves a value on the stack\n\t\t\temitAstNode(node.count as AstNode, context, false);\n\n\t\t\t// Emit check for count >= 0: duplicate count,\n\t\t\t// push 0, compare, jump past block if false.\n\t\t\tlet conditionIndex = instructions.length;\n\t\t\tinstructions.push({ kind: \"dup\"})\n\t\t\tinstructions.push({ kind: \"push\", value: 0 });\n\t\t\tinstructions.push({ kind: \"binaryOp\", operator: \">\" });\n\t\t\tlet jumpPastBlock: Instruction = { kind: \"jumpIfFalse\", offset: 0};\n\t\t\tinstructions.push(jumpPastBlock);\n\n\t\t\temitLineInfo(lineInfos, context.lineInfoIndex, node.location.start.line, instructions.length - lastInsIndex);\n\t\t\tlet headerLineInfo = lineInfos[lineInfos.length - 1];\n\t\t\tcontext.lineInfoIndex++;\n\n\t\t\tscopes.push();\n\t\t\temitStatementList(node.block, context);\n\t\t\tscopes.pop();\n\t\t\tassignScopeInfoEndPc(node.block, instructions.length - 1);\n\n\t\t\t// Patch up all continues to go to the next jump instruction, and\n\t\t\t// thus to the loop header.\n\t\t\tcontext.continues.forEach(cont => cont.offset = instructions.length);\n\t\t\tcontext.continues.length = 0\n\n\t\t\t// decrease the count and jump to the loop header\n\t\t\tlineInfos.push(lineInfos[conditionIndex]);\n\t\t\tlineInfos.push(lineInfos[conditionIndex]);\n\t\t\tlineInfos.push(lineInfos[conditionIndex]);\n\t\t\tinstructions.push({ kind: \"push\", value: 1});\n\t\t\tinstructions.push({ kind: \"binaryOp\", operator: \"-\" });\n\t\t\tinstructions.push({ kind: \"jump\", offset: conditionIndex });\n\n\t\t\t// Patch in the address of the first instruction after the loop body\n\t\t\tjumpPastBlock.offset = instructions.length;\n\n\t\t\t// Patch up all continues to go to the first instruction after the loop body\n\t\t\tcontext.breaks.forEach(br => br.offset = instructions.length);\n\t\t\tcontext.breaks.length = 0;\n\n\t\t\t// Remove the count from the\n\t\t\tinstructions.push({ kind: \"pop\" });\n\t\t\tlineInfos.push(headerLineInfo);\n\t\t\tbreak;\n\t\t}\n\t\tcase \"return\":\n\t\t\tif (node.value) emitAstNode(node.value as AstNode, context, false);\n\t\t\tinstructions.push({ kind: \"return\" });\n\t\t\temitLineInfo(lineInfos, context.lineInfoIndex, node.location.start.line, instructions.length - lastInsIndex);\n\t\t\tbreak;\n\t\tcase \"break\":\n\t\t\t// this is patched in the emission of while and repeat\n\t\t\tlet breakIns: Instruction = { kind: \"jump\", offset: 0 };\n\t\t\tinstructions.push(breakIns);\n\t\t\tcontext.breaks.push(breakIns);\n\t\t\temitLineInfo(lineInfos, context.lineInfoIndex, node.location.start.line, instructions.length - lastInsIndex);\n\t\t\tbreak;\n\t\tcase \"continue\":\n\t\t\t// this is patched in the emission of while and repeat\n\t\t\tlet continueIns: Instruction = { kind: \"jump\", offset: 0 };\n\t\t\tinstructions.push(continueIns);\n\t\t\tcontext.continues.push(continueIns);\n\t\t\temitLineInfo(lineInfos, context.lineInfoIndex, node.location.start.line, instructions.length - lastInsIndex);\n\t\t\tbreak;\n\t\tcase \"record\":\n\t\tcase \"function\":\n\t\t\t// No code emission for function and type declarations\n\t\t\t// this path should never be hit.\n\t\t\tthrow new CompilerError(\"Hit emission for record or function. This should never happen.\", node.location);\n\t\tcase \"comment\":\n\t\t\tbreak;\n\t\tcase \"fieldAccess\":\n\t\t\temitAstNode(node.record as AstNode, context, false);\n\t\t\tlet recordType = node.record.type as RecordType;\n\t\t\tvar fieldIndex = 0\n\t\t\tfor (; fieldIndex < recordType.fields.length; fieldIndex++) {\n\t\t\t\tif (recordType.fields[fieldIndex].name == node.name.value) break;\n\t\t\t}\n\t\t\tinstructions.push({kind: \"loadField\", fieldIndex: fieldIndex});\n\t\t\tif(isStatement) emitLineInfo(lineInfos, context.lineInfoIndex, node.location.start.line, instructions.length - lastInsIndex);\n\t\t\tbreak;\n\t\tcase \"arrayAccess\":\n\t\t\t// TODO implement\n\t\t\tthrow new CompilerError(`Array access emission not implemented yet.`, node.location);\n\t\tdefault:\n\t\t\tassertNever(node);\n\t}\n\n\tif(isStatement) context.lineInfoIndex++;\n}\n\nfunction emitLineInfo(lineInfos: Array<LineInfo>, lineInfoIndex: number, sourceLine: number, numIns: number) {\n\tlet lineInfo: LineInfo = { index: lineInfoIndex, line: sourceLine };\n\twhile(numIns-- > 0) {\n\t\tlineInfos.push(lineInfo);\n\t}\n}","import { compile, ExternalFunctions, CompilerError, Module, Types, FunctionDecl, moduleToString } from \"./language/Compiler\";\nimport { VirtualMachine, VirtualMachineState } from \"./language/VirtualMachine\";\n\ndeclare function CodeMirror(host: HTMLElement, options?: CodeMirror.EditorConfiguration): CodeMirror.Editor;\n\nexport class BenchmarkPage {\n\teditor: CodeMirror.Editor;\n\n\tconstructor (parent: JQuery) {\n\t\tthis.addBenchmark(parent, \"Fibonacci\", `\nfun fib (n: number): number\n\tif n < 2 then return n end\n\treturn fib(n - 2) + fib(n - 1)\nend\nfib(30)\n`);\n\t}\n\n\taddBenchmark(parent: JQuery, title: string, source: string) {\n\t\tsource = source.trim();\n\t\tlet dom = $(/*html*/`\n\t\t\t<div class=\"pb-benchmark\">\n\t\t\t\t<h1>${title}</h1>\n\t\t\t\t<div class=\"pb-benchmark-code\"></div>\n\t\t\t\t<div class=\"pb-benchmark-vm-code\"></div>\n\t\t\t\t<div class=\"pb-benchmark-result\">No benchmark results yet.</div>\n\t\t\t\t<button id=\"pb-benchmark-run\">Run</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`);\n\t\tsetTimeout(() => {\n\t\t\tlet editor = this.editor = (CodeMirror as any)(dom.find(\".pb-benchmark-code\")[0], {\n\t\t\t\ttabSize: 3,\n\t\t\t\tindentUnit: 3,\n\t\t\t\tindentWithTabs: true,\n\t\t\t\tlineNumbers: true,\n\t\t\t\tgutters: [\"gutter-breakpoints\", \"CodeMirror-linenumbers\"],\n\t\t\t\tfixedGutter: true,\n\t\t\t\textraKeys: {\n\t\t\t\t\t\"Tab\": \"indentAuto\"\n\t\t\t\t},\n\t\t\t\ttheme: \"monokai\"\n\t\t\t});\n\t\t\teditor.on(\"change\", () => {\n\t\t\t\tvar module: Module = null;\n\t\t\t\ttry {\n\t\t\t\t\tmodule = compile(editor.getValue(), new ExternalFunctions());\n\t\t\t\t} catch (e) {\n\t\t\t\t\talert(\"Error in \" + title + \": \" + (e as CompilerError).message);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tdom.find(\".pb-benchmark-vm-code\").text(moduleToString(module));\n\t\t\t});\n\t\t\teditor.setValue(source);\n\t\t}, 400);\n\n\t\tdom.find(\"#pb-benchmark-run\").click(() => {\n\t\t\tvar module: Module = null;\n\t\t\ttry {\n\t\t\t\tmodule = compile(this.editor.getValue(), new ExternalFunctions());\n\t\t\t} catch (e) {\n\t\t\t\talert(\"Error in \" + title + \": \" + (e as CompilerError).message);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet result = dom.find(\".pb-benchmark-result\");\n\t\t\tresult.text(\"Benchmark running...\");\n\t\t\tlet vm = new VirtualMachine(module.functions, module.externalFunctions);\n\t\t\tlet start = performance.now();\n\t\t\tfor (var runs = 0; runs < 5; runs++) {\n\t\t\t\twhile (vm.state != VirtualMachineState.Completed) {\n\t\t\t\t\tvm.run(10000);\n\t\t\t\t}\n\t\t\t\tvm.restart();\n\t\t\t}\n\t\t\tlet total = (performance.now() - start) / 1000;\n\t\t\tlet perRun = total / 5;\n\t\t\tresult.text(\"Total: \" + total + \" secs, \" + perRun + \" secs/run\");\n\t\t})\n\n\t\tparent.append(dom);\n\t}\n}","import { TextMarker, LineWidget, LineHandle } from \"codemirror\";\nimport { Widget } from \"./Widget\"\nimport * as events from \"./Events\"\nimport * as compiler from \"../language/Compiler\"\nimport { Map, escapeHtml } from \"../Utils\"\nimport { Breakpoint } from \"./Debugger\"\n\ndeclare function CodeMirror(host: HTMLElement, options?: CodeMirror.EditorConfiguration): CodeMirror.Editor;\n\nclass CodeMirrorBreakpoint implements Breakpoint {\n\tconstructor(public doc: CodeMirror.Doc, public lineHandle: LineHandle) {}\n\n\tgetLine(): number {\n\t\treturn this.doc.getLineNumber(this.lineHandle) + 1;\n\t}\n}\n\n// const DEFAULT_SOURCE = `\n// fun forwardUntilNumber (n: number)\n// \twhile true do\n// \t\tif scanNumber() == n then return end\n// \t\tforward()\n// \tend\n// end\n\n// forwardUntilNumber(3)\n\n// turnRight()\n// forward()\n// forward()\n\n// repeat 4 times\n// \tforward()\n// \tprint(3)\n// \tforward()\n// \tprint(3)\n// \tturnRight()\n// end\n\n// print(10)\n// alert(\"Oh no!\")\n// `\n\nconst DEFAULT_SOURCE = \"\";\n\nexport class Editor extends Widget {\n\tprivate editor: CodeMirror.Editor;\n\tprivate error: JQuery;\n\tprivate markers = Array<TextMarker>();\n\tprivate ext = new compiler.ExternalFunctions();\n\tprivate justLoaded = false;\n\tprivate isEmbedUrls = true;\n\n\trender (): HTMLElement {\n\t\tlet dom = $(/* html */`\n\t\t\t<div id=\"pb-code-editor\">\n\t\t\t\t<div id=\"pb-code-editor-code-mirror-wrapper\">\n\t\t\t\t\t<div id=\"pb-code-editor-code-mirror\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div id=\"pb-code-editor-error\"></div>\n\t\t\t</div>\n\t\t`);\n\t\trequestAnimationFrame(() => {\n\t\t\tthis.editor = (CodeMirror as any)(dom.find(\"#pb-code-editor-code-mirror\")[0], {\n\t\t\t\ttabSize: 3,\n\t\t\t\tindentUnit: 3,\n\t\t\t\tindentWithTabs: true,\n\t\t\t\tstyleActiveLine: true,\n\t\t\t\tstyleActiveSelected: true,\n\t\t\t\tlineNumbers: true,\n\t\t\t\tgutters: [\"gutter-breakpoints\", \"CodeMirror-linenumbers\"],\n\t\t\t\tfixedGutter: true,\n\n\t\t\t\ttheme: \"monokai\"\n\t\t\t});\n\n\t\t\tthis.editor.on(\"change\", (instance, change) => {\n\t\t\t\tlet module = this.compile();\n\t\t\t\tthis.bus.event(new events.SourceChanged(this.editor.getDoc().getValue(), module));\n\t\t\t\tif (this.justLoaded) {\n\t\t\t\t\tthis.justLoaded = false;\n\t\t\t\t} else {\n\t\t\t\t\tthis.bus.event(new events.ProjectChanged());\n\t\t\t\t}\n\t\t\t\tclearTimeout(this.lastTimeoutHandle);\n\t\t\t\tthis.lastTimeoutHandle = setTimeout(() => this.embedUrls(), 500);\n\t\t\t});\n\n\t\t\tthis.editor.on(\"gutterClick\", (cm, n) => {\n\t\t\t\tvar info = cm.lineInfo(n);\n\t\t\t\tif (!info.gutterMarkers) {\n\t\t\t\t\tcm.setGutterMarker(n, \"gutter-breakpoints\", this.newBreakpointMarker());\n\t\t\t\t\tinfo = cm.lineInfo(n);\n\t\t\t\t\tlet lineHandle = cm.getDoc().getLineHandle(n);\n\t\t\t\t\tlet bp = new CodeMirrorBreakpoint(cm.getDoc(), lineHandle);\n\t\t\t\t\tthis.bus.event(new events.BreakpointAdded(bp));\n\t\t\t\t\tinfo.gutterMarkers.bp = bp;\n\t\t\t\t\t(lineHandle as any).on(\"delete\", () => {\n\t\t\t\t\t\tthis.bus.event(new events.BreakpointRemoved(bp));\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tlet bp = info.gutterMarkers.bp;\n\t\t\t\t\tdelete info.gutterMarkers.bp;\n\t\t\t\t\tcm.setGutterMarker(n, \"gutter-breakpoints\", null);\n\t\t\t\t\tthis.bus.event(new events.BreakpointRemoved(bp));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.editor.on(\"delete\", (line) => {\n\t\t\t\talert(line);\n\t\t\t});\n\n\t\t\tthis.editor.getDoc().setValue(DEFAULT_SOURCE.trim());\n\n\t\t\tlet module = this.compile();\n\t\t\tthis.bus.event(new events.SourceChanged(this.editor.getDoc().getValue(), module));\n\t\t});\n\t\tthis.error = dom.find(\"#pb-code-editor-error\");\n\t\tthis.error.hide();\n\t\treturn dom[0];\n\t}\n\n\turlRegex = new RegExp(/(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/g);\n\textractUrls (text: string): string[] {\n\t\treturn text.match(this.urlRegex);\n\t}\n\tlastTimeoutHandle = null;\n\turlWidgets: Map<{ widget: LineWidget, line: string, delete: boolean }> = { };\n\tembedUrls() {\n\t\tObject.keys(this.urlWidgets).forEach(line => {\n\t\t\tlet widget = this.urlWidgets[line];\n\t\t\twidget.delete = true;\n\t\t});\n\t\tif (this.isEmbedUrls) {\n\t\t\tlet lines = this.editor.getDoc().getValue().split(\"\\n\");\n\t\t\tlines.forEach((line, i) => {\n\t\t\t\tlet previous = this.urlWidgets[line];\n\t\t\t\tif (previous) {\n\t\t\t\t\tprevious.delete = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet urls = this.extractUrls(line);\n\t\t\t\tif (urls == null) return;\n\t\t\t\tlet doms = new Array<JQuery>();\n\t\t\t\turls.forEach(url => {\n\t\t\t\t\tif (url.indexOf(\"https://www.youtube.com/watch?v=\") == 0) {\n\t\t\t\t\t\tlet videoId = url.substr(\"https://www.youtube.com/watch?v=\".length);\n\t\t\t\t\t\tif (videoId.length > 0) {\n\t\t\t\t\t\t\tvideoId = videoId.trim();\n\t\t\t\t\t\t\tdoms.push($(/*html*/`\n\t\t\t\t\t\t\t\t<iframe id=\"ytplayer\" type=\"text/html\" width=\"300\" height=\"168\"\n\t\t\t\t\t\t\t\tsrc=\"https://www.youtube.com/embed/${videoId}\"\n\t\t\t\t\t\t\t\tframeborder=\"0\"></iframe>\n\t\t\t\t\t\t\t`));\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (url.toLowerCase().indexOf(\".png\") >= 0 ||\n\t\t\t\t\t\t\turl.toLowerCase().indexOf(\".jpg\") >= 0 ||\n\t\t\t\t\t\t\turl.toLowerCase().indexOf(\".gif\") >= 0) {\n\t\t\t\t\t\tdoms.push($(/*html*/`\n\t\t\t\t\t\t\t<img src=\"${url}\" class=\"pb-code-editor-embeded-image\">\n\t\t\t\t\t\t`));\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (doms.length > 0) {\n\t\t\t\t\tlet lineDom = $(/*html*/`\n\t\t\t\t\t\t<div style=\"display: flex; flex-direction: row;\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t`);\n\t\t\t\t\tdoms.forEach(dom => lineDom.append(dom));\n\t\t\t\t\tthis.urlWidgets[line] = { widget: this.editor.addLineWidget(i, lineDom[0]), line: line, delete: false };\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\n\t\tObject.keys(this.urlWidgets).forEach(line => {\n\t\t\tlet widget = this.urlWidgets[line];\n\t\t\tif (widget.delete) {\n\t\t\t\tthis.urlWidgets[line].widget.clear()\n\t\t\t\tdelete this.urlWidgets[line];\n\t\t\t}\n\t\t});\n\t}\n\n\tcompile () {\n\t\tthis.markers.forEach(marker => marker.clear());\n\t\tthis.markers.length = 0;\n\n\t\ttry {\n\t\t\tlet result = compiler.compile(this.editor.getDoc().getValue(), this.ext);\n\t\t\tthis.error.hide();\n\t\t\treturn result;\n\t\t} catch (e) {\n\t\t\tthis.error.show();\n\t\t\tif (e[\"location\"]) {\n\t\t\t\tlet err = (e as compiler.CompilerError);\n\t\t\t\tlet loc = err.location;\n\t\t\t\tlet from = {line: loc.start.line - 1, ch: loc.start.column - 1 - (loc.start.line == loc.end.line && loc.start.column == loc.end.column ? 1 : 0)};\n\t\t\t\tlet to = {line: loc.end.line - 1, ch: loc.end.column - 1};\n\t\t\t\tthis.markers.push(this.editor.getDoc().markText(from, to, { className: \"compiler-error\", title: err.message}));\n\t\t\t\tthis.error.html(\"Error in line \" + loc.start.line + \": \" + err.message);\n\t\t\t} else {\n\t\t\t\tlet err = e as Error;\n\t\t\t\tthis.error.html(escapeHtml(err.message + (err.stack ? err.stack : \"\")));\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tnewBreakpointMarker () {\n\t\tlet marker = $(/*html*/`\n\t\t\t<div class=\"pb-gutter-breakpoint\">\n\t\t\t\t<svg height=\"15\" width=\"15\">\n\t\t\t\t\t<circle cx=\"7\" cy=\"7\" r=\"7\" stroke-width=\"1\" fill=\"#cc0000\" />\n\t\t\t\t</svg>\n\t\t\t</div>\n\t\t`);\n\t\treturn marker[0];\n\t}\n\n\tprivate lastLine = -1;\n\tsetLine(line: number) {\n\t\tif (this.lastLine != -1) this.editor.removeLineClass(this.lastLine, \"background\", \"pb-debugged-line\");\n\t\tif (line < 0) return;\n\t\tthis.editor.addLineClass(line, \"background\", \"pb-debugged-line\");\n\t\tlet rect = this.editor.getWrapperElement().getBoundingClientRect();\n    \tlet topVisibleLine = this.editor.lineAtHeight(rect.top, \"window\");\n\t\tlet bottomVisibleLine = this.editor.lineAtHeight(rect.bottom, \"window\");\n\t\tif (line < topVisibleLine || line > bottomVisibleLine) {\n\t\t\tlet h = this.editor.getScrollInfo().clientHeight;\n  \t\t\tlet coords = this.editor.charCoords({line: line, ch: 0}, \"local\");\n  \t\t\tthis.editor.scrollTo(null, (coords.top + coords.bottom - h) / 2);\n\t\t}\n\t\tthis.lastLine = line;\n\t}\n\n\tonEvent(event: Event) {\n\t\tif (event instanceof events.Run || event instanceof events.Debug || event instanceof events.Resume) {\n\t\t\tthis.editor.setOption(\"readOnly\", true);\n\t\t\tthis.editor.removeLineClass(this.lastLine, \"background\", \"pb-debugged-line\");\n\t\t} else if (event instanceof events.Stop) {\n\t\t\tthis.editor.setOption(\"readOnly\", false);\n\t\t\tthis.editor.removeLineClass(this.lastLine, \"background\", \"pb-debugged-line\");\n\t\t\tthis.lastLine = -1;\n\t\t\tthis.editor.focus();\n\t\t} else if (event instanceof events.Step || event instanceof events.LineChange) {\n\t\t\tthis.setLine(event.line - 1);\n\t\t} else if (event instanceof events.Select) {\n\t\t\tthis.editor.getDoc().setSelection(\n\t\t\t\t{line: event.startLine - 1, ch: event.startColumn - 1},\n\t\t\t\t{line: event.endLine - 1, ch: event.endColumn - 1}\n\t\t\t);\n\t\t} else if (event instanceof events.AnnounceExternalFunctions) {\n\t\t\tthis.ext = event.functions;\n\t\t} else if (event instanceof events.ProjectLoaded) {\n\t\t\tthis.justLoaded = true;\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.editor.getDoc().setValue(event.project.contentObject.code);\n\t\t\t}, 100);\n\t\t} else if (event instanceof events.BeforeSaveProject) {\n\t\t\tevent.project.contentObject.code = this.editor.getDoc().getValue()\n\t\t}\n\t}\n\n\tsetSource(source: string) {\n\t\tthis.editor.getDoc().setValue(source.trim());\n\t}\n\n\tsetEmbedURls(embedUrls: boolean) {\n\t\tthis.isEmbedUrls = embedUrls;\n\t\tthis.embedUrls();\n\t}\n}","import * as events from \"./Events\"\nimport { Widget } from \"./Widget\"\nimport { AssetManager, Input, InputListener, TimeKeeper, setElementEnabled } from \"../Utils\"\nimport * as compiler from \"../language/Compiler\"\nimport * as vm from \"../language/VirtualMachine\"\nimport { NumberType, StringType, NothingType } from \"../language/Compiler\";\n\nexport class CanvasWorld extends Widget {\n\tcanvas: HTMLCanvasElement;\n\tcontext: CanvasRenderingContext2D;\n\n\tconstructor(bus: events.EventBus) {\n\t\tsuper(bus);\n\t}\n\n\trender(): HTMLElement {\n\t\tlet dom = $(/*html*/`\n\t\t\t<div id=\"pb-canvas-world\">\n\t\t\t\t<canvas></canvas>\n\t\t\t</div>\n\t\t`);\n\n\t\tlet canvas = dom.find(\"canvas\");\n\t\tthis.canvas = canvas[0] as HTMLCanvasElement\n\t\tthis.context = this.canvas.getContext('2d');\n\n\t\tlet canvasResize = ( ) => {\n\t\t\tvar canvas = dom.find(\"canvas\");\n\t\t\tvar width = canvas.width();\n\t\t\tvar height = width / 16 * 9;\n\t\t\tif (height == canvas.height()) {\n\t\t\t\trequestAnimationFrame(canvasResize)\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcanvas.height(height);\n\t\t\trequestAnimationFrame(canvasResize)\n\t\t}\n\t\trequestAnimationFrame(canvasResize);\n\n\t\tlet functions = new compiler.ExternalFunctions();\n\t\tfunctions.addFunction(\"line\", [\n\t\t\t{name: \"x1\", type: NumberType},\n\t\t\t{name: \"y1\", type: NumberType},\n\t\t\t{name: \"x2\", type: NumberType},\n\t\t\t{name: \"y2\", type: NumberType},\n\t\t\t{name: \"color\", type: StringType}\n\t\t], NothingType, true, (x1, y1, x2, y2, color) => {\n\t\t\tlet ctx = this.context;\n\t\t\tctx.strokeStyle = color;\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(x1, y1);\n\t\t\tctx.lineTo(x2, y2);\n\t\t\tctx.stroke();\n\t\t});\n\n\t\tfunctions.addFunction(\"clear\", [\n\t\t\t{name: \"color\", type: StringType}\n\t\t], NothingType, false, (color) => {\n\t\t\tlet ctx = this.context;\n\t\t\tctx.fillStyle = color;\n\t\t\tctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n\t\t});\n\n\t\tfunctions.addFunction(\"show\", [], NothingType, true, () => {\n\t\t\tlet asyncResult: vm.AsyncPromise<void> = {\n\t\t\t\tcompleted: false,\n\t\t\t\tvalue: null\n\t\t\t}\n\t\t\trequestAnimationFrame(() => { asyncResult.completed = true });\n\t\t\treturn asyncResult;\n\t\t});\n\t\tthis.bus.event(new events.AnnounceExternalFunctions(functions));\n\n\t\treturn dom[0];\n\t}\n\tonEvent(event: events.Event) {\n\t}\n}","import { EventBus, EventListener, Event, SourceChanged } from \"./widgets/Events\"\nimport { Editor } from \"./widgets/Editor\";\nimport { Debugger } from \"./widgets/Debugger\";\nimport { CanvasWorld } from \"./widgets/CanvasWorld\";\n\nexport class CanvasPage implements EventListener {\n\tprivate eventBus = new EventBus();\n\tprivate editor = new Editor(this.eventBus);\n\tprivate debugger = new Debugger(this.eventBus);\n\tprivate canvas = new CanvasWorld(this.eventBus);\n\n\tconstructor(parent: JQuery) {\n\t\t// register all components with the bus\n\t\tthis.eventBus.addListener(this);\n\t\tthis.eventBus.addListener(this.editor);\n\t\tthis.eventBus.addListener(this.debugger);\n\t\tthis.eventBus.addListener(this.canvas);\n\n\t\tlet dom = $(/*html*/`\n\t\t\t<div id=\"pb-canvas-page\">\n\t\t\t</div>\n\t\t`);\n\n\t\tdom.append(this.debugger.render());\n\t\tdom.append(this.editor.render());\n\t\tdom.append(this.canvas.render());\n\n\t\tparent.append(dom);\n\t}\n\n\tsentSource = false;\n\tonEvent(event: Event) {\n\t\tif (event instanceof SourceChanged) {\n\t\t\tif (!this.sentSource) requestAnimationFrame(() => this.editor.setSource(`\nvar x = 0\nwhile true do\n\tclear(\"black\")\n\tline(x, 0, x, 100, \"red\")\n\tx = x + 1\n\tshow()\nend\n\t\t\t`));\n\t\t\tthis.sentSource = true;\n\t\t}\n\t}\n}","export class Dialog {\n\tdom: JQuery;\n\tbuttons = Array<JQuery>();\n\n\tconstructor (title: string, content: HTMLElement, buttons: Array<string>) {\n\t\tthis.dom = this.renderDialog(title, content, buttons);\n\t}\n\n\tshow () {\n\t\tdocument.body.appendChild(this.dom[0]);\n\t}\n\n\thide () {\n\t\tthis.dom.remove();\n\t}\n\n\tprivate renderDialog (title: string, content: HTMLElement, buttons: Array<string>): JQuery {\n\t\tlet dom = $(`\n\t\t<div class=\"pb-dialog\">\n\t\t\t<div class=\"pb-dialog-content\">\n\t\t\t\t<div class=\"pb-dialog-header\"><span>${title}</span></div>\n\t\t\t\t<div class=\"pb-dialog-body\"></div>\n\t\t\t\t<div class=\"pb-dialog-footer\"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t`);\n\n\t\tdom.find(\".pb-dialog-body\").append(content);\n\n\t\tlet buttonsDiv = $(`<div class=\"pb-dialog-buttons\"></div>`);\n\t\tfor (var i = 0; i < buttons.length; i++) {\n\t\t\tlet button = $(`<input type=\"button\" value=\"${buttons[i]}\">`);\n\t\t\tthis.buttons.push(button);\n\t\t\tbuttonsDiv.append(button);\n\t\t}\n\t\tdom.find(\".pb-dialog-footer\").append(buttonsDiv);\n\t\treturn dom;\n\t}\n\n\tstatic alert (title: string, message: JQuery): Dialog {\n\t\tlet dialog = new Dialog(title, message[0], [\"OK\"]);\n\t\tdialog.buttons[0].click(() => {\n\t\t\tdialog.dom.remove();\n\t\t})\n\t\tdocument.body.appendChild(dialog.dom[0]);\n\t\tdialog.dom.attr(\"tabindex\", \"1\");\n\t\tdialog.dom.focus();\n\t\tdialog.dom.keyup((ev: any) => {\n\t\t\tif (ev.keyCode == 13) dialog.buttons[0].click();\n\t\t\tif (ev.keyCode == 27) dialog.buttons[0].click();\n\t\t})\n\t\treturn dialog;\n\t}\n\n\tstatic confirm (title: string, message: JQuery, confirmed: () => void) {\n\t\tlet dialog = new Dialog(title, message[0], [\"Cancel\", \"OK\"]);\n\t\tdialog.buttons[0].click(() => {\n\t\t\tdialog.dom.remove();\n\t\t});\n\t\tdialog.buttons[1].click(() => {\n\t\t\tdialog.dom.remove();\n\t\t\tconfirmed();\n\t\t});\n\t\tdialog.dom.attr(\"tabindex\", \"1\");\n\t\tdialog.dom.keyup((ev: any) => {\n\t\t\tif (ev.keyCode == 27) dialog.buttons[0].click();\n\t\t\tif (ev.keyCode == 13) dialog.buttons[1].click();\n\t\t})\n\t\tdocument.body.appendChild(dialog.dom[0]);\n\t\tdialog.dom.focus();\n\t\treturn dialog;\n\t}\n\n\tstatic prompt (title: string, value: string, confirmed: (value: string) => void, cancled: () => void) {\n\t\tlet textField = $(`<input type=\"text\" value=\"${value}\" style=\"width: 100%; box-sizing: border-box;\">`);\n\t\tlet dialog = new Dialog(title, textField[0], [\"Cancel\", \"OK\"]);\n\t\tdialog.buttons[0].click(() => {\n\t\t\tdialog.dom.remove();\n\t\t\tcancled();\n\t\t});\n\t\tdialog.buttons[1].click(() => {\n\t\t\tdialog.dom.remove();\n\t\t\tconfirmed(textField.val() as string);\n\t\t});\n\t\tdocument.body.appendChild(dialog.dom[0]);\n\t\ttextField.focus();\n\t\ttextField.select();\n\t\ttextField.keyup((event: any) => {\n\t\t\tif (event.keyCode == 13) {\n\t\t\t\tdialog.buttons[1].click();\n\t\t\t}\n\t\t});\n\t\tdialog.dom.keyup((ev: any) => {\n\t\t\tif (ev.keyCode == 27) dialog.buttons[0].click();\n\t\t})\n\t\treturn dialog;\n\t}\n}","import * as events from \"./Events\"\nimport { Widget } from \"./Widget\"\nimport { AssetManager, Input, InputListener, TimeKeeper, setElementEnabled } from \"../Utils\"\nimport * as compiler from \"../language/Compiler\"\nimport * as vm from \"../language/VirtualMachine\"\nimport { BooleanType, StringType, NumberType, NothingType } from \"../language/Compiler\";\n\nfunction assertNever(x: never): never {\n\tthrow new Error(\"Unexpected object: \" + x);\n}\n\nexport class RobotWorld extends Widget {\n\tprivate container: JQuery<HTMLElement>;\n\tprivate canvas: HTMLCanvasElement;\n\tprivate world: World;\n\tprivate worldData: WorldData;\n\tprivate ctx: CanvasRenderingContext2D;\n\tprivate assets = new AssetManager();\n\tprivate selectedTool = \"Robot\";\n\tprivate input: Input;\n\tprivate lastWidth = 0;\n\tprivate cellSize = 0;\n\tprivate drawingSize = 0;\n\tprivate time = new TimeKeeper();\n\tprivate toolsHandler: InputListener;\n\tprivate isRunning = false;\n\tprivate noTools = false;\n\tprivate lastFrameTime = -1;\n\n\tconstructor(bus: events.EventBus, noTools: boolean = false) {\n\t\tsuper(bus);\n\n\t\tthis.worldData = new WorldData();\n\t\tthis.world = new World(this.worldData);\n\t\tthis.noTools = noTools;\n\t}\n\n\tsetWorldData(worldData: WorldData) {\n\t\tthis.worldData = worldData;\n\t\tthis.world = new World(this.worldData);\n\t}\n\n\trender (): HTMLElement {\n\t\tthis.container = $(/*html*/`\n\t\t\t<div id=\"pb-robot-world\">\n\t\t\t\t<div id=\"pb-robot-world-tools\">\n\t\t\t\t\t<input type=\"button\" value=\"Robot\" class=\"selected\">\n\t\t\t\t\t<input type=\"button\" value=\"Floor\">\n\t\t\t\t\t<input type=\"button\" value=\"Wall\">\n\t\t\t\t\t<input type=\"button\" value=\"Number\">\n\t\t\t\t\t<input type=\"button\" value=\"Letter\">\n\t\t\t\t</div>\n\t\t\t\t<canvas id=\"pb-robot-world-canvas\"></canvas>\n\t\t\t</div>\n\t\t`);\n\t\tif (this.noTools) this.container.find(\"#pb-robot-world-tools\").hide();\n\t\tthis.canvas = this.container.find(\"#pb-robot-world-canvas\")[0] as HTMLCanvasElement;\n\t\tthis.ctx = this.canvas.getContext(\"2d\");\n\t\tthis.assets.loadImage(\"img/wall.png\");\n\t\tthis.assets.loadImage(\"img/floor.png\");\n\t\tthis.assets.loadImage(\"img/robot.png\");\n\n\t\tlet tools = this.container.find(\"#pb-robot-world-tools input\");\n\t\tfor (var i = 0; i < tools.length; i++) {\n\t\t\t$(tools[i]).click((tool) => {\n\t\t\t\tlet value = (tool.target as HTMLInputElement).value;\n\t\t\t\ttools.removeClass(\"selected\");\n\t\t\t\t$(tool.target).addClass(\"selected\");\n\t\t\t\tthis.selectedTool = value;\n\t\t\t});\n\t\t}\n\n\t\tthis.input = new Input(this.canvas);\n\t\tvar dragged = false;\n\t\tthis.toolsHandler = {\n\t\t\tdown: (x, y) => {\n\t\t\t\trequestAnimationFrame(() => {this.draw(0)});\n\t\t\t\tlet cellSize = this.canvas.clientWidth / (World.WORLD_SIZE + 1);\n\t\t\t\tx = ((x / cellSize) | 0) - 1;\n\t\t\t\ty = (((this.canvas.clientHeight - y) / cellSize) | 0) - 1;\n\n\t\t\t\tif (this.selectedTool == \"Wall\") {\n\t\t\t\t\tthis.world.setTile(x, y, World.newWall());\n\t\t\t\t\tthis.bus.event(new events.ProjectChanged());\n\t\t\t\t} else if (this.selectedTool == \"Floor\") {\n\t\t\t\t\tthis.world.setTile(x, y, null);\n\t\t\t\t\tthis.bus.event(new events.ProjectChanged());\n\t\t\t\t}\n\t\t\t\tdragged = false;\n\t\t\t},\n\t\t\tup: (x, y) => {\n\t\t\t\trequestAnimationFrame(() => {this.draw(0)});\n\t\t\t\tlet cellSize = this.canvas.clientWidth / (World.WORLD_SIZE + 1);\n\t\t\t\tx = ((x / cellSize) | 0) - 1;\n\t\t\t\ty = (((this.canvas.clientHeight - y) / cellSize) | 0) - 1;\n\t\t\t\tif (this.selectedTool == \"Wall\") {\n\t\t\t\t\tthis.world.setTile(x, y, World.newWall());\n\t\t\t\t\tthis.bus.event(new events.ProjectChanged());\n\t\t\t\t} else if (this.selectedTool == \"Floor\") {\n\t\t\t\t\tthis.world.setTile(x, y, null);\n\t\t\t\t\tthis.bus.event(new events.ProjectChanged());\n\t\t\t\t} else if (this.selectedTool == \"Number\") {\n\t\t\t\t\tvar number = null;\n\t\t\t\t\twhile (number == null) {\n\t\t\t\t\t\tnumber = prompt(\"Please enter a number between 0-99.\", \"0\");\n\t\t\t\t\t\tif (!number) return;\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tnumber = parseInt(number, 10);\n\t\t\t\t\t\t\tif (number < 0 || number > 99 || isNaN(number)) {\n\t\t\t\t\t\t\t\talert(\"The number must be between 0-99.\");\n\t\t\t\t\t\t\t\tnumber = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\talert(\"The number must be between 0-99.\");\n\t\t\t\t\t\t\tnumber = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.world.setTile(x, y, World.newNumber(number));\n\t\t\t\t\tthis.bus.event(new events.ProjectChanged());\n\t\t\t\t} else if (this.selectedTool == \"Letter\") {\n\t\t\t\t\tvar letter = null;\n\t\t\t\t\twhile (letter == null) {\n\t\t\t\t\t\tletter = prompt(\"Please enter a letter\", \"a\");\n\t\t\t\t\t\tif (!letter) return;\n\n\t\t\t\t\t\tletter = letter.trim();\n\t\t\t\t\t\tif (letter.length != 1) {\n\t\t\t\t\t\t\talert(\"Only a single letter is allowed.\");\n\t\t\t\t\t\t\tletter = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.world.setTile(x, y, World.newLetter(letter));\n\t\t\t\t\tthis.bus.event(new events.ProjectChanged());\n\t\t\t\t} else if (this.selectedTool == \"Robot\") {\n\t\t\t\t\tif (this.world.robot.data.x != x || this.world.robot.data.y != y) {\n\t\t\t\t\t\tthis.world.robot.data.x = Math.max(0, Math.min(World.WORLD_SIZE - 1, x));\n\t\t\t\t\t\tthis.world.robot.data.y = Math.max(0, Math.min(World.WORLD_SIZE - 1, y));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (dragged) return;\n\t\t\t\t\t\tthis.world.robot.turnLeft();\n\t\t\t\t\t}\n\t\t\t\t\tthis.bus.event(new events.ProjectChanged());\n\t\t\t\t}\n\t\t\t},\n\t\t\tmoved: (x, y) => {\n\t\t\t},\n\t\t\tdragged: (x, y) => {\n\t\t\t\trequestAnimationFrame(() => {this.draw(0)});\n\t\t\t\tlet cellSize = this.canvas.clientWidth / (World.WORLD_SIZE + 1);\n\t\t\t\tx = ((x / cellSize) | 0) - 1;\n\t\t\t\ty = (((this.canvas.clientHeight - y) / cellSize) | 0) - 1;\n\n\t\t\t\tif (this.selectedTool == \"Wall\") {\n\t\t\t\t\tthis.world.setTile(x, y, World.newWall());\n\t\t\t\t\tthis.bus.event(new events.ProjectChanged());\n\t\t\t\t} else if (this.selectedTool == \"Floor\") {\n\t\t\t\t\tthis.world.setTile(x, y, null);\n\t\t\t\t\tthis.bus.event(new events.ProjectChanged());\n\t\t\t\t} else if (this.selectedTool == \"Robot\") {\n\t\t\t\t\tthis.world.robot.data.x = Math.max(0, Math.min(World.WORLD_SIZE - 1, x));\n\t\t\t\t\tthis.world.robot.data.y = Math.max(0, Math.min(World.WORLD_SIZE - 1, y));\n\t\t\t\t\tthis.bus.event(new events.ProjectChanged());\n\t\t\t\t}\n\t\t\t\tdragged = true;\n\t\t\t}\n\t\t};\n\t\tif (!this.noTools) this.input.addListener(this.toolsHandler);\n\t\tthis.announceExternals();\n\t\trequestAnimationFrame(() => { this.draw(0); });\n\t\treturn this.container[0];\n\t}\n\n\tannounceExternals() {\n\t\tlet ext = new compiler.ExternalFunctions();\n\n\t\text.addFunction(\"forward\", [], NothingType, true, () => {\n\t\t\tthis.world.robot.setAction(this.world, RobotAction.Forward);\n\t\t\tlet asyncResult: vm.AsyncPromise<void> = {\n\t\t\t\tcompleted: false,\n\t\t\t\tvalue: null\n\t\t\t}\n\t\t\tlet check = () => {\n\t\t\t\tif (this.world.robot.action == RobotAction.None) {\n\t\t\t\t\tasyncResult.completed = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\trequestAnimationFrame(check);\n\t\t\t}\n\t\t\trequestAnimationFrame(check);\n\t\t\treturn asyncResult;\n\t\t});\n\t\text.addFunction(\"backward\", [], NothingType, true, () => {\n\t\t\tthis.world.robot.setAction(this.world, RobotAction.Backward);\n\t\t\tlet asyncResult: vm.AsyncPromise<void> = {\n\t\t\t\tcompleted: false,\n\t\t\t\tvalue: null\n\t\t\t}\n\t\t\tlet check = () => {\n\t\t\t\tif (this.world.robot.action == RobotAction.None) {\n\t\t\t\t\tasyncResult.completed = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\trequestAnimationFrame(check);\n\t\t\t}\n\t\t\trequestAnimationFrame(check);\n\t\t\treturn asyncResult;\n\t\t});\n\n\t\text.addFunction(\"turnLeft\", [], NothingType, true, () => {\n\t\t\tthis.world.robot.setAction(this.world, RobotAction.TurnLeft);\n\t\t\tlet asyncResult: vm.AsyncPromise<void> = {\n\t\t\t\tcompleted: false,\n\t\t\t\tvalue: null\n\t\t\t}\n\t\t\tlet check = () => {\n\t\t\t\tif (this.world.robot.action == RobotAction.None) {\n\t\t\t\t\trequestAnimationFrame(() => asyncResult.completed = true);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\trequestAnimationFrame(check);\n\t\t\t}\n\t\t\trequestAnimationFrame(check);\n\t\t\treturn asyncResult;\n\t\t});\n\n\t\text.addFunction(\"turnRight\", [], NothingType, true, () => {\n\t\t\tthis.world.robot.setAction(this.world, RobotAction.TurnRight);\n\t\t\tlet asyncResult: vm.AsyncPromise<void> = {\n\t\t\t\tcompleted: false,\n\t\t\t\tvalue: null\n\t\t\t}\n\t\t\tlet check = () => {\n\t\t\t\tif (this.world.robot.action == RobotAction.None) {\n\t\t\t\t\trequestAnimationFrame(() => asyncResult.completed = true);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\trequestAnimationFrame(check);\n\t\t\t}\n\t\t\trequestAnimationFrame(check);\n\t\t\treturn asyncResult;\n\t\t});\n\n\t\text.addFunction(\"print\", [{name: \"value\", type: NumberType}], NothingType, true, (number) => {\n\t\t\tif (number < 0 || number > 99 || isNaN(number)) {\n\t\t\t\talert(\"The number must be between 0-99.\");\n\t\t\t\treturn {\n\t\t\t\t\tcompleted: true,\n\t\t\t\t\tvalue: null\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet x = this.world.robot.data.x + this.world.robot.data.dirX;\n\t\t\tlet y = this.world.robot.data.y + this.world.robot.data.dirY;\n\t\t\tlet tile = this.world.getTile(x, y);\n\t\t\tif (!tile || tile.kind != \"wall\") {\n\t\t\t\tthis.world.setTile(x, y, World.newNumber(number | 0));\n\t\t\t}\n\t\t\tlet asyncResult: vm.AsyncPromise<void> = {\n\t\t\t\tcompleted: false,\n\t\t\t\tvalue: null\n\t\t\t}\n\t\t\tvar num = 1;\n\t\t\tlet check = () => {\n\t\t\t\tif (num-- > 0) {\n\t\t\t\t\trequestAnimationFrame(check);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tasyncResult.completed = true;\n\t\t\t}\n\t\t\trequestAnimationFrame(check);\n\t\t\treturn asyncResult;\n\t\t});\n\n\t\text.addFunction(\"print\", [{name: \"letter\", type: StringType}], NothingType, true, (letter) => {\n\t\t\tif (letter.trim().length == 0) {\n\t\t\t\treturn {\n\t\t\t\t\tcompleted: true,\n\t\t\t\t\tvalue: null\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif (letter.trim().length != 1) {\n\t\t\t\talert(\"The string must consist of exactly 1 letter, got '\" + letter + \"' instead.\");\n\t\t\t\treturn {\n\t\t\t\t\tcompleted: true,\n\t\t\t\t\tvalue: null\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet x = this.world.robot.data.x + this.world.robot.data.dirX;\n\t\t\tlet y = this.world.robot.data.y + this.world.robot.data.dirY;\n\t\t\tlet tile = this.world.getTile(x, y);\n\t\t\tif (!tile || tile.kind != \"wall\") {\n\t\t\t\tthis.world.setTile(x, y, World.newLetter(letter));\n\t\t\t}\n\t\t\tlet asyncResult: vm.AsyncPromise<void> = {\n\t\t\t\tcompleted: false,\n\t\t\t\tvalue: null\n\t\t\t}\n\t\t\tvar num = 1;\n\t\t\tlet check = () => {\n\t\t\t\tif (num-- > 0) {\n\t\t\t\t\trequestAnimationFrame(check);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tasyncResult.completed = true;\n\t\t\t}\n\t\t\trequestAnimationFrame(check);\n\t\t\treturn asyncResult;\n\t\t});\n\n\t\text.addFunction(\"scanNumber\", [], NumberType, false, () => {\n\t\t\tlet x = this.world.robot.data.x + this.world.robot.data.dirX;\n\t\t\tlet y = this.world.robot.data.y + this.world.robot.data.dirY;\n\t\t\tlet tile = this.world.getTile(x, y);\n\t\t\tif (!tile || tile.kind != \"number\") {\n\t\t\t\treturn -1;\n\t\t\t} else {\n\t\t\t\treturn tile.value;\n\t\t\t}\n\t\t});\n\n\t\text.addFunction(\"scanLetter\", [], StringType, false, () => {\n\t\t\tlet x = this.world.robot.data.x + this.world.robot.data.dirX;\n\t\t\tlet y = this.world.robot.data.y + this.world.robot.data.dirY;\n\t\t\tlet tile = this.world.getTile(x, y);\n\t\t\tif (!tile || tile.kind != \"letter\") {\n\t\t\t\treturn \"\";\n\t\t\t} else {\n\t\t\t\treturn tile.value;\n\t\t\t}\n\t\t});\n\n\t\text.addFunction(\"isWallAhead\", [], BooleanType, false, () => {\n\t\t\tlet x = this.world.robot.data.x + this.world.robot.data.dirX;\n\t\t\tlet y = this.world.robot.data.y + this.world.robot.data.dirY;\n\t\t\tlet tile = this.world.getTile(x, y);\n\t\t\treturn tile != null && tile.kind == \"wall\";\n\t\t});\n\n\t\text.addFunction(\"isNumberAhead\", [], BooleanType, false, () => {\n\t\t\tlet x = this.world.robot.data.x + this.world.robot.data.dirX;\n\t\t\tlet y = this.world.robot.data.y + this.world.robot.data.dirY;\n\t\t\tlet tile = this.world.getTile(x, y);\n\t\t\treturn tile != null && tile.kind == \"number\";\n\t\t});\n\t\text.addFunction(\"isLetterAhead\", [], BooleanType, false, () => {\n\t\t\tlet x = this.world.robot.data.x + this.world.robot.data.dirX;\n\t\t\tlet y = this.world.robot.data.y + this.world.robot.data.dirY;\n\t\t\tlet tile = this.world.getTile(x, y);\n\t\t\treturn tile != null && tile.kind == \"letter\";\n\t\t});\n\t\text.addFunction(\"distanceToWall\", [], NumberType, false, () => {\n\t\t\tlet dirX = this.world.robot.data.dirX;\n\t\t\tlet dirY = this.world.robot.data.dirY;\n\t\t\tlet x = this.world.robot.data.x + dirX;\n\t\t\tlet y = this.world.robot.data.y + dirY;\n\t\t\tvar distance = 0;\n\t\t\tvar tile = this.world.getTile(x, y);\n\t\t\twhile(true) {\n\t\t\t\tif (tile && tile.kind == \"wall\") break;\n\t\t\t\tdistance++;\n\t\t\t\tx += dirX;\n\t\t\t\ty += dirY;\n\t\t\t\ttile = this.world.getTile(x, y);\n\t\t\t}\n\t\t\treturn distance;\n\t\t});\n\t\text.addFunction(\"getDirection\", [], NumberType, false, () => {\n\t\t\tlet dirX = this.world.robot.data.dirX;\n\t\t\tlet dirY = this.world.robot.data.dirY;\n\t\t\tif (dirX == 1 && dirY == 0) return 0;\n\t\t\tif (dirX == 0 && dirY == 1) return 1;\n\t\t\tif (dirX == -1 && dirY == 0) return 2;\n\t\t\tif (dirX == 0 && dirY == -1) return 3;\n\t\t\treturn 0;\n\t\t});\n\t\text.addFunction(\"getX\", [], NumberType, false, () => {\n\t\t\treturn this.world.robot.data.x;\n\t\t});\n\t\text.addFunction(\"getY\", [], NumberType, false, () => {\n\t\t\treturn this.world.robot.data.y;\n\t\t});\n\t\text.addFunction(\"getSpeed\", [], NumberType, false, () => {\n\t\t\treturn 1 / this.world.robot.moveDuration;\n\t\t});\n\t\text.addFunction(\"setSpeed\", [{name: \"speed\", type: NumberType}], NothingType, false, (speed) => {\n\t\t\tif (speed < 0) {\n\t\t\t\talert(\"The robot's speed must be >= 0.\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.world.robot.moveDuration = 1 / speed;\n\t\t});\n\t\text.addFunction(\"getTurningSpeed\", [], NumberType, false, () => {\n\t\t\treturn 90 / this.world.robot.turnDuration;\n\t\t});\n\t\text.addFunction(\"setTurningSpeed\", [{name: \"degrees\", type: NumberType}], NothingType, false, (degrees) => {\n\t\t\tif (degrees < 0) {\n\t\t\t\talert(\"The robot's turning speed must be >= 0.\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.world.robot.turnDuration = 1 / degrees * 90;\n\t\t});\n\t\text.addFunction(\"buildWall\", [], NothingType, true, (speed) => {\n\t\t\tlet x = this.world.robot.data.x + this.world.robot.data.dirX;\n\t\t\tlet y = this.world.robot.data.y + this.world.robot.data.dirY;\n\t\t\tthis.world.setTile(x, y, World.newWall());\n\n\t\t\tlet asyncResult: vm.AsyncPromise<void> = {\n\t\t\t\tcompleted: false,\n\t\t\t\tvalue: null\n\t\t\t}\n\t\t\tvar num = 1;\n\t\t\tlet check = () => {\n\t\t\t\tif (num-- > 0) {\n\t\t\t\t\trequestAnimationFrame(check);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tasyncResult.completed = true;\n\t\t\t}\n\t\t\trequestAnimationFrame(check);\n\t\t\treturn asyncResult;\n\t\t});\n\t\text.addFunction(\"destroyWall\", [], NothingType, true, (speed) => {\n\t\t\tlet x = this.world.robot.data.x + this.world.robot.data.dirX;\n\t\t\tlet y = this.world.robot.data.y + this.world.robot.data.dirY;\n\t\t\tlet tile = this.world.getTile(x, y);\n\t\t\tif (tile && tile.kind == \"wall\") this.world.setTile(x, y, null);\n\n\t\t\tlet asyncResult: vm.AsyncPromise<void> = {\n\t\t\t\tcompleted: false,\n\t\t\t\tvalue: null\n\t\t\t}\n\t\t\tvar num = 1;\n\t\t\tlet check = () => {\n\t\t\t\tif (num-- > 0) {\n\t\t\t\t\trequestAnimationFrame(check);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tasyncResult.completed = true;\n\t\t\t}\n\t\t\trequestAnimationFrame(check);\n\t\t\treturn asyncResult;\n\t\t});\n\n\t\tthis.bus.event(new events.AnnounceExternalFunctions(ext));\n\t}\n\n\tonEvent(event: Event) {\n\t\tif (event instanceof events.Stop) {\n\t\t\tthis.input.addListener(this.toolsHandler);\n\t\t\tthis.container.find(\"#pb-robot-world-tools input\").each((index, element) => {\n\t\t\t\tsetElementEnabled($(element), true);\n\t\t\t});\n\t\t\tthis.world = new World(this.worldData);\n\t\t\tthis.isRunning = false;\n\t\t\trequestAnimationFrame(() => {this.draw(0)});\n\t\t} else if(event instanceof events.Run || event instanceof events.Debug) {\n\t\t\tthis.input.removeListener(this.toolsHandler);\n\t\t\tthis.container.find(\"#pb-robot-world-tools input\").each((index, element) => {\n\t\t\t\tsetElementEnabled($(element), false);\n\t\t\t});\n\t\t\tthis.worldData = JSON.parse(JSON.stringify(this.world.data));\n\t\t\tthis.isRunning = true;\n\t\t\tthis.lastFrameTime = -1;\n\t\t\trequestAnimationFrame(() => {this.draw(0)});\n\t\t} else if (event instanceof events.ProjectLoaded) {\n\t\t\tthis.world = new World(event.project.contentObject.world);\n\t\t\trequestAnimationFrame(() => {this.draw(0)});\n\t\t} else if (event instanceof events.BeforeSaveProject) {\n\t\t\tevent.project.contentObject.type = \"robot\";\n\t\t\tevent.project.contentObject.world = this.world.data;\n\t\t\trequestAnimationFrame(() => {this.draw(0)});\n\t\t}\n\t}\n\n\tgetWorld (): World {\n\t\treturn this.world;\n\t}\n\n\tresize () {\n\t\tlet canvas = this.canvas;\n\t\tlet realToCSSPixels = window.devicePixelRatio;\n\t\tlet displayWidth  = Math.floor(canvas.clientWidth * realToCSSPixels);\n\t\tlet displayHeight  = displayWidth;\n\n\t\tif (canvas.width  !== displayWidth || canvas.height != displayHeight) {\n\t\t\tconsole.log(`Resize: canvas ${canvas.width}x${canvas.height}, display ${displayWidth}x${displayHeight}, ratio ${realToCSSPixels}`)\n\t\t\tcanvas.width  = displayWidth;\n\t\t\tcanvas.height  = displayHeight;\n\t\t}\n\t\tthis.cellSize = canvas.width / (World.WORLD_SIZE + 1);\n\t\tthis.drawingSize = this.cellSize * World.WORLD_SIZE;\n\t}\n\n\tdraw (frameTime: number) {\n\t\tthis.time.update();\n\n\t\tif (this.isRunning) {\n\t\t\tif (frameTime != this.lastFrameTime) {\n\t\t\t\tthis.lastFrameTime = frameTime;\n\t\t\t\trequestAnimationFrame((time) => this.draw(time));\n\t\t\t}\n\t\t\tthis.world.update(this.time.delta);\n\t\t}\n\n\t\tlet ctx = this.ctx;\n\t\tlet canvas = this.canvas;\n\t\tthis.resize();\n\n\n\t\tctx.fillStyle = \"#252526\";\n\t\tctx.fillRect(0, 0, canvas.width, canvas.height);\n\n\t\tthis.drawGrid();\n\t\tif (!this.assets.hasMoreToLoad()) {\n\t\t\tthis.drawWorld();\n\t\t} else {\n\t\t\trequestAnimationFrame((time) => {this.draw(time)});\n\t\t}\n\t}\n\n\tdrawImage (img: HTMLImageElement, x: number, y: number, w: number, h: number) {\n\t\tx |= 0;\n\t\ty |= 0;\n\t\tw |= 0;\n\t\th |= 0;\n\t\tthis.ctx.drawImage(img, x, this.drawingSize - y - h, w, h);\n\t}\n\tdrawRotatedImage (img: HTMLImageElement, x: number, y: number, w: number, h: number, angle: number) {\n\t\tx |= 0;\n\t\ty |= 0;\n\t\tw |= 0;\n\t\th |= 0;\n\t\tthis.ctx.save();\n\t\tthis.ctx.translate(x + w / 2, this.drawingSize - y - h + h / 2);\n\t\tthis.ctx.rotate(Math.PI / 180 * angle);\n\t\tthis.ctx.drawImage(img, -w/2, -h/2, w, h);\n\t\tthis.ctx.restore();\n\t}\n\n\tdrawText(text: string, x: number, y: number, color = \"#000000\", scale = 1) {\n\t\tx |= 0;\n\t\ty |= 0;\n\t\tlet ctx = this.ctx;\n\t\tctx.fillStyle = color;\n\t\tctx.font = this.cellSize * 0.5 * scale + \"pt monospace\";\n\t\tlet metrics = ctx.measureText(text);\n\t\tctx.fillText(text, x + this.cellSize / 2 - metrics.width / 2, this.drawingSize - y - this.cellSize / 4);\n\t}\n\n\tdrawWorld () {\n\t\tlet ctx = this.ctx;\n\t\tlet canvas = this.canvas;\n\t\tlet cellSize = this.cellSize;\n\t\tlet drawingSize = this.drawingSize;\n\n\t\tctx.save();\n\t\tctx.translate(this.cellSize, 0);\n\n\t\tfor (var y = 0; y < World.WORLD_SIZE; y++) {\n\t\t\tfor (var x = 0; x < World.WORLD_SIZE; x ++) {\n\t\t\t\tvar img = null;\n\t\t\t\tlet obj = this.world.getTile(x, y);\n\t\t\t\tif (!obj) continue;\n\n\t\t\t\tlet wx = x * cellSize;\n\t\t\t\tlet wy = y * cellSize;\n\n\t\t\t\tswitch(obj.kind) {\n\t\t\t\t\tcase \"wall\":\n\t\t\t\t\t\timg = this.assets.getImage(\"img/wall.png\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"number\":\n\t\t\t\t\t\tthis.drawText(\"\" + obj.value, wx, wy, \"#97b757\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"letter\":\n\t\t\t\t\t\tthis.drawText(\"\" + obj.value, wx, wy, \"#CA8D73\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault: assertNever(obj);\n\t\t\t\t}\n\n\t\t\t\tif (img) this.drawRotatedImage(img, wx, wy, cellSize, cellSize, 0);\n\t\t\t}\n\t\t}\n\n\t\tlet robot = this.world.robot;\n\t\tthis.drawRotatedImage(this.assets.getImage(\"img/robot.png\"), robot.data.x * cellSize + cellSize * 0.05, robot.data.y * cellSize + cellSize * 0.05, cellSize * 0.9, cellSize * 0.9, robot.data.angle);\n\n\t\t/*ctx.beginPath();\n\t\tctx.strokeStyle = \"#ff0000\";\n\t\tctx.moveTo((robot.data.x + 0.5) * cellSize, drawingSize - (robot.data.y + 0.5) * cellSize);\n\t\tctx.lineTo((robot.data.x + 0.5 + robot.data.dirX) * cellSize, drawingSize - (robot.data.y + robot.data.dirY + 0.5) * cellSize);\n\t\tctx.stroke();*/\n\n\t\tctx.restore();\n\t}\n\n\tdrawGrid () {\n\t\tlet ctx = this.ctx;\n\t\tlet canvas = this.canvas;\n\n\t\tfor (var y = 0; y < World.WORLD_SIZE; y++) {\n\t\t\tthis.drawText(\"\" + y, 0, y * this.cellSize, \"#828282\", 0.8);\n\t\t}\n\n\t\tfor (var x = 0; x < World.WORLD_SIZE; x++) {\n\t\t\tthis.drawText(\"\" + x, x * this.cellSize + this.cellSize, -this.cellSize, \"#828282\", 0.8);\n\t\t}\n\n\t\tctx.save();\n\t\tctx.translate(this.cellSize, 0);\n\t\tctx.strokeStyle = \"#7f7f7f\";\n\t\tctx.beginPath();\n\t\tctx.setLineDash([2, 2]);\n\t\tfor (var y = 0; y <= World.WORLD_SIZE; y++) {\n\t\t\tctx.moveTo(0, y * this.cellSize);\n\t\t\tctx.lineTo(this.drawingSize, y * this.cellSize);\n\t\t}\n\t\tfor (var x = 0; x <= World.WORLD_SIZE; x++) {\n\t\t\tctx.moveTo(x * this.cellSize, 0);\n\t\t\tctx.lineTo(x * this.cellSize, this.drawingSize);\n\t\t}\n\t\tctx.stroke();\n\t\tctx.setLineDash([]);\n\t\tctx.restore()\n\t}\n}\n\nexport enum RobotAction {\n\tForward,\n\tBackward,\n\tTurnLeft,\n\tTurnRight,\n\tNone\n}\n\nexport class RobotData {\n\tconstructor(\n\tpublic x = 0,\n\tpublic y = 0,\n\tpublic dirX = 1,\n\tpublic dirY = 0,\n\tpublic angle = 0) {}\n}\n\nexport class Robot {\n\tstatic readonly MOVE_DURATION = 0.25;\n\tstatic readonly TURN_DURATION = 0.25;\n\n\tmoveDuration = Robot.MOVE_DURATION;\n\tturnDuration = Robot.TURN_DURATION;\n\taction = RobotAction.None;\n\tactionTime = 0;\n\tstartX = 0;\n\tstartY = 0\n\ttargetX = 0;\n\ttargetY = 0;\n\tstartAngle = 0;\n\ttargetAngle = 0;\n\n\tconstructor(public data: RobotData) { }\n\n\tturnLeft () {\n\t\tthis.data.angle = this.data.angle - 90;\n\t\tlet temp = this.data.dirX;\n\t\tthis.data.dirX = -this.data.dirY;\n\t\tthis.data.dirY = temp;\n\t}\n\n\tsetAction(world: World, action: RobotAction) {\n\t\tif (this.action != RobotAction.None) {\n\t\t\tthrow new Error(\"Can't set action while robot is executing previous action.\");\n\t\t}\n\t\tthis.action = action;\n\t\tswitch (action) {\n\t\tcase RobotAction.Forward:\n\t\t\tthis.startX = this.data.x;\n\t\t\tthis.startY = this.data.y;\n\t\t\tthis.targetX = this.data.x + this.data.dirX;\n\t\t\tthis.targetY = this.data.y + this.data.dirY;\n\t\t\tlet tile = world.getTile(this.targetX, this.targetY);\n\t\t\tif (tile && tile.kind == \"wall\") {\n\t\t\t\tthis.targetX = this.startX;\n\t\t\t\tthis.targetY = this.startY;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase RobotAction.Backward: {\n\t\t\tthis.startX = this.data.x;\n\t\t\tthis.startY = this.data.y;\n\t\t\tthis.targetX = this.data.x - this.data.dirX;\n\t\t\tthis.targetY = this.data.y - this.data.dirY;\n\t\t\tlet tile = world.getTile(this.targetX, this.targetY);\n\t\t\tif (tile && tile.kind == \"wall\") {\n\t\t\t\tthis.targetX = this.startX;\n\t\t\t\tthis.targetY = this.startY;\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\tcase RobotAction.TurnLeft: {\n\t\t\tthis.startAngle = this.data.angle;\n\t\t\tthis.targetAngle = this.data.angle - 90;\n\t\t\tlet temp = this.data.dirX;\n\t\t\tthis.data.dirX = -this.data.dirY;\n\t\t\tthis.data.dirY = temp;\n\t\t\tbreak;\n\t\t}\n\t\tcase RobotAction.TurnRight: {\n\t\t\tthis.startAngle = this.data.angle;\n\t\t\tthis.targetAngle = this.data.angle + 90;\n\t\t\tlet temp = this.data.dirX;\n\t\t\tthis.data.dirX = this.data.dirY;\n\t\t\tthis.data.dirY = -temp;\n\t\t\tbreak;\n\t\t}\n\t\t}\n\t\tthis.actionTime = 0\n\t}\n\n\tupdate (delta: number): boolean {\n\t\tthis.actionTime += delta;\n\t\tswitch (this.action) {\n\t\t\tcase RobotAction.Forward: {\n\t\t\t\tlet percentage = this.actionTime / this.moveDuration;\n\t\t\t\tif (percentage >= 1) {\n\t\t\t\t\tthis.action = RobotAction.None;\n\t\t\t\t\tthis.data.x = this.targetX;\n\t\t\t\t\tthis.data.y = this.targetY;\n\t\t\t\t} else {\n\t\t\t\t\tthis.data.x = this.startX + (this.targetX - this.startX) * percentage;\n\t\t\t\t\tthis.data.y = this.startY + (this.targetY - this.startY) * percentage;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase RobotAction.Backward: {\n\t\t\t\tlet percentage = this.actionTime / this.moveDuration;\n\t\t\t\tif (percentage >= 1) {\n\t\t\t\t\tthis.action = RobotAction.None;\n\t\t\t\t\tthis.data.x = this.targetX;\n\t\t\t\t\tthis.data.y = this.targetY;\n\t\t\t\t} else {\n\t\t\t\t\tthis.data.x = this.startX + (this.targetX - this.startX) * percentage;\n\t\t\t\t\tthis.data.y = this.startY + (this.targetY - this.startY) * percentage;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase RobotAction.TurnLeft:\n\t\t\tcase RobotAction.TurnRight: {\n\t\t\t\tlet percentage = this.actionTime / this.turnDuration;\n\t\t\t\tif (percentage >= 1) {\n\t\t\t\t\tthis.action = RobotAction.None;\n\t\t\t\t\tthis.data.angle = this.targetAngle;\n\t\t\t\t} else {\n\t\t\t\t\tthis.data.angle = this.startAngle + (this.targetAngle - this.startAngle) * percentage;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn this.action == RobotAction.None;\n\t}\n}\n\nexport interface Wall { kind: \"wall\" }\nexport interface NumberTile { kind: \"number\"; value: number }\nexport interface LetterTile { kind: \"letter\"; value: string }\nexport type WorldObject = Wall | NumberTile | LetterTile;\n\nexport class WorldData {\n\tconstructor (public tiles = Array<WorldObject>(16 * 16), public robot = new RobotData()) {}\n}\n\nexport class World {\n\tstatic WORLD_SIZE = 16;\n\tdata: WorldData;\n\trobot: Robot;\n\n\tconstructor (data: WorldData) {\n\t\tthis.data = data;\n\t\tthis.robot = new Robot(data.robot);\n\t}\n\n\tgetTile (x: number, y: number): WorldObject {\n\t\tx = x | 0;\n\t\ty = y | 0;\n\t\tif (x < 0 || x >= World.WORLD_SIZE) return World.newWall();\n\t\tif (y < 0 || y >= World.WORLD_SIZE) return World.newWall();\n\t\treturn this.data.tiles[x + y * World.WORLD_SIZE];\n\t}\n\n\tsetTile (x: number, y: number, tile: WorldObject) {\n\t\tx = x | 0;\n\t\ty = y | 0;\n\t\tif (x < 0 || x >= World.WORLD_SIZE) return;\n\t\tif (y < 0 || y >= World.WORLD_SIZE) return;\n\t\tthis.data.tiles[x + y * World.WORLD_SIZE] = tile;\n\t}\n\n\tupdate (delta: number) {\n\t\tthis.robot.update(delta);\n\t}\n\n\tstatic newWall(): Wall { return {kind: \"wall\"}; }\n\tstatic newNumber(value: number): NumberTile { return {kind: \"number\", value: value}; }\n\tstatic newLetter(value: string): LetterTile { return {kind: \"letter\", value: value}; }\n}","export class SplitPane {\n\tdom: JQuery;\n\tleft: JQuery;\n\tright: JQuery;\n\ttoggle: JQuery;\n\n\tconstructor(leftPane: JQuery, rightPane: JQuery) {\n\t\tthis.dom = $(`\n\t\t\t<div class=\"pb-split-pane\">\n\t\t\t\t<div class=\"pb-split-pane-left\">\n\t\t\t\t</div>\n\t\t\t\t<div class=\"pb-divider\"><div id=\"pb-split-pane-toggle\">&gt;</div></div>\n\t\t\t\t<div class=\"pb-split-pane-right\">\n\t\t\t\t</div>\n\t\t\t</div>`\n\t\t);\n\n\t\tthis.left = this.dom.find(\".pb-split-pane-left\");\n\t\tthis.right = this.dom.find(\".pb-split-pane-right\");\n\t\tthis.left.append(leftPane);\n\t\tthis.right.append(rightPane);\n\n\t\tthis.toggle = this.dom.find(\"#pb-split-pane-toggle\");\n\t\tlet divider = this.dom.find(\".pb-divider\");\n\n\t\tvar x = 0;\n\t\tvar splitX = 0;\n\t\tvar lastSplitPercentage = divider[0].offsetLeft / this.dom[0].clientWidth;\n\t\tvar dragged = false;\n\n\t\tthis.toggle.click((e) => {\n\t\t\tif (dragged) return;\n\t\t\tif (this.toggle.text() == \">\") {\n\t\t\t\tlastSplitPercentage = divider[0].offsetLeft / this.dom[0].clientWidth;\n\n\t\t\t\tthis.right[0].style.left = (this.dom[0].clientWidth - 10) + \"px\";\n\t\t\t\tthis.right[0].style.width = \"10px\";\n\t\t\t\tdivider[0].style.left = (this.dom[0].clientWidth - 10) + \"px\";\n\t\t\t\tthis.left[0].style.width = (this.dom[0].clientWidth - 10) + \"px\";\n\n\t\t\t\tdivider.addClass(\"pb-split-pane-collapsed\");\n\t\t\t\tthis.right.addClass(\"pb-hidden\");\n\t\t\t\tthis.toggle.text(\"<\");\n\t\t\t} else {\n\t\t\t\tsplitX = lastSplitPercentage * this.dom[0].clientWidth;\n\n\t\t\t\tthis.left[0].style.width = splitX + \"px\";\n\t\t\t\tdivider[0].style.left = splitX + \"px\";\n\t\t\t\tthis.right[0].style.left = splitX + \"px\";\n\t\t\t\tthis.right[0].style.width = (this.dom[0].clientWidth - splitX) + \"px\";\n\n\t\t\t\tdivider.removeClass(\"pb-split-pane-collapsed\");\n\t\t\t\tthis.right.removeClass(\"pb-hidden\");\n\t\t\t\tthis.toggle.text(\">\");\n\t\t\t}\n\t\t});\n\n\t\twindow.addEventListener(\"resize\", () => {\n\t\t\tthis.resize();\n\t\t}, true);\n\n\t\t// General handlers, used by both mouse and touch event code.\n\t\tvar down = (clientX: number) => {\n\t\t\t$(\"*\").css(\"user-select\", \"none\");\n\t\t\tx = clientX;\n\t\t\tsplitX = divider[0].offsetLeft;\n\t\t\tdragged = false;\n\t\t\tregisterMove();\n\t\t}\n\t\tvar up = (clientX: number) => {\n\t\t\t$(\"*\").css(\"user-select\", \"initial\");\n\t\t\tif (this.toggle.text() == \">\")\n\t\t\t\tlastSplitPercentage = divider[0].offsetLeft / this.dom[0].clientWidth;\n\t\t\tunregisterMove();\n\t\t}\n\n\t\tvar move = (clientX: number) => {\n\t\t\tlet delta = (clientX - x);\n\t\t\tlet newSplitX = splitX + delta;\n\t\t\tif (newSplitX < -this.toggle[0].offsetLeft * 2) return;\n\t\t\tif (newSplitX > this.dom[0].clientWidth - divider[0].clientWidth) return;\n\t\t\tdivider[0].style.left = newSplitX + \"px\";\n\n\t\t\tif (delta != 0) {\n\t\t\t\tdivider.removeClass(\"pb-split-pane-collapsed\");\n\t\t\t\tthis.right.removeClass(\"pb-hidden\");\n\t\t\t\tthis.toggle.text(\">\");\n\t\t\t\tdragged = true;\n\t\t\t}\n\t\t\tthis.right[0].style.left = (newSplitX) + \"px\";\n\t\t\tthis.right[0].style.width = (this.dom[0].clientWidth - newSplitX) + \"px\";\n\t\t\tthis.left[0].style.width = newSplitX + \"px\";\n\t\t}\n\n\t\tthis.resize = () => {\n\t\t\tif (this.toggle.text() == \">\") {\n\t\t\t\tsplitX = lastSplitPercentage * this.dom[0].clientWidth;\n\t\t\t\tthis.left[0].style.width = splitX + \"px\";\n\t\t\t\tdivider[0].style.left = splitX + \"px\";\n\t\t\t\tthis.right[0].style.left = splitX + \"px\";\n\t\t\t\tthis.right[0].style.width = (this.dom[0].clientWidth - splitX) + \"px\";\n\t\t\t} else {\n\t\t\t\tthis.right[0].style.left = (this.dom[0].clientWidth - 10) + \"px\";\n\t\t\t\tthis.right[0].style.width = \"10px\";\n\t\t\t\tdivider[0].style.left = (this.dom[0].clientWidth - 10) + \"px\";\n\t\t\t\tthis.left[0].style.width = (this.dom[0].clientWidth - 10) + \"px\";\n\t\t\t}\n\t\t}\n\n\t\t// Setup mouse handlers\n\t\tdivider[0].addEventListener(\"mousedown\", (e: MouseEvent) => { down(e.clientX) }, false);\n\t\twindow.addEventListener(\"mouseup\", (e: MouseEvent) => { up(e.clientX) }, false);\n\n\t\tvar mouseMove = (e: MouseEvent) => {\n\t\t\tmove(e.clientX);\n\t\t}\n\n\t\t// Setup touch handlers\n\t\tdivider[0].addEventListener(\"touchstart\", (e: TouchEvent) => { down(e.changedTouches[0].clientX) });\n\t\twindow.addEventListener(\"touchend\", (e: TouchEvent) => { up(e.changedTouches[0].clientX) });\n\t\twindow.addEventListener(\"touchcancel\", (e: TouchEvent) => { up(e.changedTouches[0].clientX) });\n\n\t\tvar touchMove = (e: TouchEvent) => {\n\t\t\tmove(e.changedTouches[0].clientX);\n\t\t}\n\n\t\t// We register/unregister the move handler during dragging\n\t\tvar registerMove = () => {\n\t\t\t$(document.body).addClass(\"pb-noselect\");\n\t\t\twindow.addEventListener(\"mousemove\", mouseMove, true);\n\t\t\twindow.addEventListener(\"touchmove\", touchMove, true);\n\t\t\tthis.left[0].style.pointerEvents = \"none\";\n\t\t\tthis.right[0].style.pointerEvents = \"none\";\n\t\t}\n\n\t\tvar unregisterMove = () => {\n\t\t\t$(document.body).removeClass(\"pb-noselect\");\n\t\t\twindow.removeEventListener(\"mousemove\", mouseMove, true);\n\t\t\twindow.removeEventListener(\"touchmove\", touchMove, true);\n\t\t\tthis.left[0].style.pointerEvents = \"auto\";\n\t\t\tthis.right[0].style.pointerEvents = \"auto\";\n\t\t}\n\n\t}\n\n\tresize: () => void;\n}","import { Widget } from \"./Widget\"\nimport { EventBus, Event } from \"./Events\";\n\nexport interface DocCategory {\n\tname: string,\n\tdesc: string,\n\tentries: DocEntry[];\n\tsubCategories: DocCategory[];\n}\n\nexport interface DocEntry {\n\tname: string,\n\tanchor: string,\n\tdesc: string\n}\n\nconst DOCS: DocCategory[] = [\n{\n\tname: \"Functions\",\n\tdesc: \"Use the below functions to create your program.\",\n\tentries: [],\n\tsubCategories: [\n\t\t{\n\t\t\tname: \"Robot movement\",\n\t\t\tdesc: \"Make the robot move with these functions.\",\n\t\t\tentries: [\n\t\t\t\t{\n\t\t\t\t\tname: \"<code>forward()</code>\",\n\t\t\t\t\tanchor: \"robot-forward\",\n\t\t\t\t\tdesc: \"Moves the robot forward by one cell in the direction it is facing. If the grid cell is blocked by a wall, the robot does not move.\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"<code>backward()</code>\",\n\t\t\t\t\tanchor: \"robot-backward\",\n\t\t\t\t\tdesc: \"Moves the robot backward by one cell in the oposite direction it is facing. If the grid cell is blocked by a wall, the robot does not move.\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"<code>turnLeft()</code>\",\n\t\t\t\t\tanchor: \"robot-turn-left\",\n\t\t\t\t\tdesc: \"Rotates the robot in-place to the left by 90 degrees (counter-clock-wise).\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"<code>turnRight()</code>\",\n\t\t\t\t\tanchor: \"robot-turn-right\",\n\t\t\t\t\tdesc: \"Rotates the robot in-place to the right by 90 degrees (clock-wise).\"\n\t\t\t\t}\n\t\t\t],\n\t\t\tsubCategories: []\n\t\t},\n\t\t{\n\t\t\tname: \"Robot input\",\n\t\t\tdesc: \"Let the robot read information from its environment.\",\n\t\t\tentries: [\n\t\t\t\t{\n\t\t\t\t\tname: \"<code>scanNumber(): number</code>\",\n\t\t\t\t\tanchor: \"robot-scan-number\",\n\t\t\t\t\tdesc: \"Scans the number in the cell in front of the robot and returns it. If there is no number, <code>-1</code> is returned.\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"<code>scanLetter(): string</code>\",\n\t\t\t\t\tanchor: \"robot-scan-letter\",\n\t\t\t\t\tdesc: `Scans the letter in the cell in front of the robot and returns it. If there is no letter, and empty string <code>\"\"</code> is returned.`\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"<code>isWallAhead(): boolean</code>\",\n\t\t\t\t\tanchor: \"robot-is-wall-ahead\",\n\t\t\t\t\tdesc: \"Returns <code>true</code> if there is a wall in the cell ahead of the robot. Returns <code>false</code> otherwise.\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"<code>isNumberAhead(): boolean</code>\",\n\t\t\t\t\tanchor: \"robot-is-number-ahead\",\n\t\t\t\t\tdesc: \"Returns <code>true</code> if there is a number in the cell ahead of the robot. Returns <code>false</code> otherwise.\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"<code>isLetterAhead(): boolean</code>\",\n\t\t\t\t\tanchor: \"robot-is-letter-ahead\",\n\t\t\t\t\tdesc: \"Returns <code>true</code> if there is a letter in the cell ahead of the robot. Returns <code>false</code> otherwise.\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"<code>distanceToWall(): number</code>\",\n\t\t\t\t\tanchor: \"robot-distance-to-wall\",\n\t\t\t\t\tdesc: \"Returns the number of cells between the robot and the next wall in the direction the robot is facing.\"\n\t\t\t\t}\n\t\t\t],\n\t\t\tsubCategories: []\n\t\t},\n\t\t{\n\t\t\tname: \"Robot output\",\n\t\t\tdesc: \"Have the robot build and print stuff on the grid.\",\n\t\t\tentries: [\n\t\t\t\t{\n\t\t\t\t\tname: \"<code>print(value: number)</code>\",\n\t\t\t\t\tanchor: \"robot-print-number\",\n\t\t\t\t\tdesc: \"Prints the number given in <code>value</code> to the cell in front of the robot. The number must be between <code>0</code> and <code>99</code>. If the number is outside that range, or there is a wall in the cell, nothing is printed. If the number has decimal places, they will be truncated.\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"<code>print(letter: string)</code>\",\n\t\t\t\t\tanchor: \"robot-print-letter\",\n\t\t\t\t\tdesc: \"Prints the letter given in <code>value</code> to the cell in front of the robot. The <code>string</code> must be exactly 1 letter long. If there is a wall in the cell, nothing is printed.\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"<code>buildWall()</code>\",\n\t\t\t\t\tanchor: \"robot-build-wall\",\n\t\t\t\t\tdesc: \"Builds a wall in the cell in front of the robot. Does nothing if there is a wall already.\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"<code>destroyWall()</code>\",\n\t\t\t\t\tanchor: \"robot-destroy-wall\",\n\t\t\t\t\tdesc: \"Destroys a wall in the cell in front of the robot. Does nothing if there is no wall.\"\n\t\t\t\t}\n\t\t\t],\n\t\t\tsubCategories: []\n\t\t},\n\t\t{\n\t\t\tname: \"Robot status\",\n\t\t\tdesc: \"Check the status of the robot.\",\n\t\t\tentries: [\n\t\t\t\t{\n\t\t\t\t\tname: \"<code>getDirection(): number</code>\",\n\t\t\t\t\tanchor: \"robot-get-direction\",\n\t\t\t\t\tdesc: \"Returns the direction the robot is facing in as a number. <code>0</code> is east, <code>1</code> is north, <code>2</code> is west, and <code>3</code> is south.\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"<code>getX(): number</code>\",\n\t\t\t\t\tanchor: \"robot-get-x\",\n\t\t\t\t\tdesc: \"Returns the robot's x coordinate on the grid.\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"<code>getY(): number</code>\",\n\t\t\t\t\tanchor: \"robot-get-y\",\n\t\t\t\t\tdesc: \"Returns the robot's y coordinate on the grid.\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"<code>getSpeed(): number</code>\",\n\t\t\t\t\tanchor: \"robot-get-speed\",\n\t\t\t\t\tdesc: \"Returns the movement speed of the robot which is measured in number of cells per second. The speed can be a decimal number. E.g. <code>1.5</code> means the robot crosses one and a half cells when moving forward.\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"<code>setSpeed(cellsPerSecond: number)</code>\",\n\t\t\t\t\tanchor: \"robot-set-speed\",\n\t\t\t\t\tdesc: \"Sets the movement speed of the robot which is measured in number of cells per second. The speed must be a number >= <code>0</code>. The <code>speed</code> can be a decimal number. E.g. <code>1.5</code> means the robot crosses one and a half cells when moving forward.\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"<code>getTurningSpeed(): number</code>\",\n\t\t\t\t\tanchor: \"robot-get-turning-speed\",\n\t\t\t\t\tdesc: \"Returns the turning speed of the robot which is measured in number of degrees per second.\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"<code>setTurningSpeed(degreesPerSecond: number)</code>\",\n\t\t\t\t\tanchor: \"robot-set-turning-speed\",\n\t\t\t\t\tdesc: \"Set the turning speed of the robot which is measured in number of degrees per second. The number must be >= <code>0</code>. The <code>degreesPerSecond</code> can be a decimal number. E.g. <code>40.5</code> means the robot turns by 40.5 degrees per second.\"\n\t\t\t\t}\n\t\t\t],\n\t\t\tsubCategories: []\n\t\t},\n\t\t{\n\t\t\tname: \"Built-in\",\n\t\t\tdesc: \"Functions to work with different data and for communicating with the user.\",\n\t\t\tentries: [\n\t\t\t\t{\n\t\t\t\t\tname: \"<code>alert(message: string)</code>\",\n\t\t\t\t\tanchor: \"lang-alert-string\",\n\t\t\t\t\tdesc: \"Opens a dialog that displays the text given in <code>message</code>.\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"<code>alert(value: number)</code>\",\n\t\t\t\t\tanchor: \"lang-alert-number\",\n\t\t\t\t\tdesc: \"Opens a dialog that displays the number given in <code>value</code>.\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"<code>alert(value: boolean)</code>\",\n\t\t\t\t\tanchor: \"lang-alert-boolean\",\n\t\t\t\t\tdesc: \"Opens a dialog that displays the boolean given in <code>value</code>.\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"<code>toString(value: number): string</code>\",\n\t\t\t\t\tanchor: \"lang-to-string-number\",\n\t\t\t\t\tdesc: \"Convers the number in <code>value</code> to a string. E.g. <code>123</code> becomes \\\"123\\\".\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"<code>toString(value: boolean): string</code>\",\n\t\t\t\t\tanchor: \"lang-to-string-number\",\n\t\t\t\t\tdesc: \"Convers the boolean in <code>value</code> to a string. E.g. <code>true</code> becomes \\\"true\\\".\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"<code>length(text: string): number</code>\",\n\t\t\t\t\tanchor: \"lang-length-string\",\n\t\t\t\t\tdesc: \"Returns the number of characters in the string <code>text</code>. Returns <code>0</code> for empty strings.\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"<code>charAt(text: string, index: number): string</code>\",\n\t\t\t\t\tanchor: \"lang-char-at-string-number\",\n\t\t\t\t\tdesc: \"Returns the character at the <code>index</code> from the string. Returns an empty string if the index is smaller than <code>0</code> or greater or equal to the length of the string.\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"<code>pause(milliSeconds: number)</code>\",\n\t\t\t\t\tanchor: \"lang-wait\",\n\t\t\t\t\tdesc: \"Pauses the program for the number of milliseconds given in <code>milliSeconds</code>, then continues.\"\n\t\t\t\t},\n\t\t\t],\n\t\t\tsubCategories: []\n\t\t}\n\t]\n},\n{\n\tname: \"Statements\",\n\tdesc: \"\",\n\tentries: [],\n\tsubCategories: [\n\t\t{\n\t\t\tname: \"Variables\",\n\t\t\tdesc: \"Variables are really cool.\",\n\t\t\tentries: [\n\t\t\t\t{\n\t\t\t\t\tname: \"<code>var name = value</code>\",\n\t\t\t\t\tanchor: \"statement-var-decl\",\n\t\t\t\t\tdesc: \"Foo bar.\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"<code>name = value</code>\",\n\t\t\t\t\tanchor: \"statement-assignment\",\n\t\t\t\t\tdesc: \"Foo bar.\"\n\t\t\t\t}\n\t\t\t],\n\t\t\tsubCategories: []\n\t\t},\n\t]\n}\n];\n\nexport class Docs extends Widget {\n\tconstructor(bus: EventBus) {\n\t\tsuper(bus)\n\t}\n\n\trender(): HTMLElement {\n\t\tlet dom = $(/*html*/`\n\t\t\t<div id=\"pb-docs\">\n\t\t\t</div>\n\t\t`);\n\t\tthis.generateDocs(dom);\n\t\treturn dom[0];\n\t}\n\n\tonEvent(event: Event) {\n\n\t}\n\n\tgenerateDocs(container: JQuery) {\n\t\tlet toc = $(/*html*/`\n\t\t\t<div id=\"pb-docs-toc\"></div>\n\t\t`);\n\t\tlet content = $(/*html*/`\n\t\t\t<div id=\"pb-docs-content\"></div>\n\t\t`)\n\t\tcontainer.append(toc);\n\t\tcontainer.append(content);\n\t\tDOCS.forEach((cat) => {\n\t\t\tthis.generateCategory(cat, container, toc, content, 2);\n\t\t});\n\t}\n\n\tgenerateCategory(cat: DocCategory, container: JQuery, toc: JQuery, content: JQuery, depth: number) {\n\t\ttoc.append(`<h${depth}>${cat.name}</h${depth}>`);\n\t\tlet entries = $(/*html*/`<ul class=\"pb-docs-toc-list\"></ul>`);\n\t\tcat.entries.forEach((entry) => {\n\t\t\tlet link = $(/*html*/`<a>${entry.name}</a>`);\n\t\t\tlink.click(() => {\n\t\t\t\tlet target = document.getElementById(`pb-docs-anchor-${entry.anchor}`);\n\t\t\t\tcontainer[0].scrollTop = target.offsetTop;\n\t\t\t});\n\t\t\tlet li = $(/*html*/`<li></li>`);\n\t\t\tli.append(link);\n\t\t\tentries.append(li);\n\t\t});\n\t\ttoc.append(entries);\n\n\t\tcontent.append(`<h${depth}>${cat.name}</h${depth}>`);\n\t\tcontent.append($(this.block(cat.desc)));\n\t\tcat.entries.forEach((entry) => {\n\t\t\tcontent.append(/*html*/`\n\t\t\t\t<h${depth + 1} id=\"pb-docs-anchor-${entry.anchor}\">${entry.name}</h${depth + 1}>\n\t\t\t\t${this.block(entry.desc)}\n\t\t\t\t<hr>\n\t\t\t`);\n\t\t});\n\n\t\tcat.subCategories.forEach((childCat) => {\n\t\t\tthis.generateCategory(childCat, container, toc, content, depth + 1);\n\t\t});\n\t}\n\n\tblock(desc: string) {\n\t\tif (desc.trim() == \"\") return \"\";\n\t\ttry {\n\t\t\t$(desc);\n\t\t\treturn desc;\n\t\t} catch(e) {\n\t\t\treturn \"<p>\" + desc + \"</p>\";\n\t\t}\n\t}\n}","import { Widget } from \"./Widget\"\nimport { EventBus, Event } from \"./Events\";\n\nexport class Description extends Widget {\n\tconstructor(bus: EventBus) {\n\t\tsuper(bus);\n\t}\n\n\trender(): HTMLElement {\n\t\tlet dom = $(/*html*/`\n\t\t\t<div id=\"pb-description\"></div>\n\t\t`);\n\t\treturn dom[0];\n\t}\n\n\tonEvent(event: Event) {\n\t}\n}","import {AssetManager, Input, TimeKeeper, InputListener} from \"./Utils\";\nimport { EventBus, EventListener, Event, ProjectLoaded, SourceChanged, ProjectSaved, ProjectChanged } from \"./widgets/Events\"\nimport { Toolbar, ToolbarMode } from \"./widgets/Toolbar\";\nimport { Debugger } from \"./widgets/Debugger\";\nimport { Editor } from \"./widgets/Editor\"\nimport { RobotWorld } from \"./widgets/RobotWorld\";\nimport * as compiler from \"./language/Compiler\"\nimport { SplitPane } from \"./widgets/SplitPane\";\nimport { Docs } from \"./widgets/Docs\";\nimport { Description } from \"./widgets/Description\";\nimport { Api } from \"./Api\";\nimport { Dialog } from \"./widgets/Dialog\";\n\nexport class ProjectPage implements EventListener {\n\tprivate eventBus = new EventBus();\n\tprivate toolbar = new Toolbar(this.eventBus, ToolbarMode.ProjectPage);\n\tprivate editor = new Editor(this.eventBus);\n\tprivate debugger = new Debugger(this.eventBus);\n\tprivate playground = new RobotWorld(this.eventBus);\n\tprivate docs = new Docs(this.eventBus);\n\tprivate desc = new Description(this.eventBus);\n\tprivate unsaved = false;\n\n\tconstructor(parent: HTMLElement) {\n\t\t// register all components with the bus\n\t\tthis.eventBus.addListener(this);\n\t\tthis.eventBus.addListener(this.toolbar);\n\t\tthis.eventBus.addListener(this.editor);\n\t\tthis.eventBus.addListener(this.debugger);\n\t\tthis.eventBus.addListener(this.playground);\n\t\tthis.eventBus.addListener(this.docs);\n\t\tthis.eventBus.addListener(this.desc);\n\n\t\t// Render the components\n\t\tlet dom = $(/*html*/ `\n\t\t\t<div id=\"pb-project-page\">\n\t\t\t</div>\n\t\t`);\n\n\t\tdom.append(this.toolbar.render());\n\n\t\tlet editorAndDebugger = $(/*html */`\n\t\t\t<div id =\"pb-debugger-and-editor-and-docs\">\n\t\t\t</div>\n\t\t`);\n\t\teditorAndDebugger.append(this.debugger.render());\n\n\t\tlet editorAndDocs = $(/*html*/`\n\t\t\t<div id=\"pb-editor-and-docs\">\n\t\t\t</div>\n\t\t`)\n\n\t\tlet editor = this.editor.render();\n\t\tlet editorLabel = $(/*html*/`\n\t\t\t<div id=\"pb-program-label\" class=\"pb-label\">\n\t\t\t\t<span>PROGRAM</span>\n\t\t\t\t<div style=\"float: right; align-self: center;\"><i style=\"margin-right: 0;\"class=\"fas fa-eye\"></i></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`);\n\n\t\teditorAndDocs.append(editorLabel);\n\t\teditorLabel.click((ev) => {\n\t\t\tlet target = $(ev.target);\n\t\t\tif (target.is(\"i\")) {\n\t\t\t\tif (target.hasClass(\"fa-eye\")) {\n\t\t\t\t\ttarget.removeClass(\"fa-eye\");\n\t\t\t\t\ttarget.addClass(\"fa-eye-slash\");\n\t\t\t\t\tthis.editor.setEmbedURls(false);\n\t\t\t\t} else {\n\t\t\t\t\ttarget.removeClass(\"fa-eye-slash\");\n\t\t\t\t\ttarget.addClass(\"fa-eye\");\n\t\t\t\t\tthis.editor.setEmbedURls(true);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$(editor).toggle();\n\t\t\t}\n\t\t});\n\t\teditorAndDocs.append(editor);\n\n\t\tlet help = this.docs.render();\n\t\tlet helpLabel = $(/*html*/`<div id=\"pb-docs-label\" class=\"pb-label\">HELP</div>`);\n\t\thelpLabel.click(() => {\n\t\t\t$(help).toggle();\n\t\t});\n\t\teditorAndDocs.append(helpLabel);\n\t\teditorAndDocs.append(help);\n\t\teditorAndDebugger.append(editorAndDocs);\n\n\t\tlet playgroundAndDescription = $(/*html*/`\n\t\t\t<div id=\"pb-world-and-comments\">\n\t\t\t</div>\n\t\t`);\n\n\t\tplaygroundAndDescription.append(this.playground.render());\n\t\tplaygroundAndDescription.append(this.desc.render());\n\n\t\tlet splitPane = new SplitPane(editorAndDebugger, playgroundAndDescription);\n\t\tdom.append(splitPane.dom);\n\t\t$(parent).append(dom);\n\n\t\t// Check if we got a project id, and if so, try to load it\n\t\tlet projectId = Api.getProjectId();\n\t\tif (projectId) {\n\t\t\tthis.loadProject(projectId);\n\t\t}\n\n\t\t// Setup a check to alert the user to not leave the site\n\t\t// If there are unsaved changes\n\t\twindow.onbeforeunload = () => {\n\t\t\tif (window.location.host == \"localhost:8001\") return;\n\t\t\tif (this.unsaved) {\n\t\t\t\treturn \"You have unsaved changes. Are you sure you want to leave?\";\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t}\n\n\tloadProject (id: string) {\n\t\tlet content = $(/*html*/`\n\t\t<div style=\"display: flex; flex-direction: column; width: 100%; height: 100%;\">\n\t\t\t<p>Loading project ${id}, stay tuned!</p>\n\t\t\t<div id=\"pb-spinner\" class=\"fa-3x\" style=\"text-align: center; margin: 0.5em\"><i class=\"fas fa-spinner fa-pulse\"></i></div>\n\t\t</div>`\n\t\t);\n\t\tlet spinner = content.find(\"#pb-spinner\");\n\t\tlet dialog = new Dialog(\"Loading\", content[0], []);\n\t\tdialog.show();\n\n\t\tApi.loadProject(id, (project) => {\n\t\t\tdialog.hide();\n\t\t\tthis.eventBus.event(new ProjectLoaded(project));\n\t\t}, (error) => {\n\t\t\tdialog.hide();\n\t\t\tif (error.error == \"ProjectDoesNotExist\") {\n\t\t\t\tDialog.alert(\"Sorry\", $(`<p>The project with id ${id} does not exist.</p>`)).buttons[0].click(() => {\n\t\t\t\t\t(window.location as any) = \"/\";\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tDialog.alert(\"Sorry\", $(`<p>Couldn't load project ${id}.</p>`));\n\t\t\t}\n\t\t});\n\t}\n\n\tonEvent(event: Event) {\n\t\tif (event instanceof ProjectChanged) {\n\t\t\tthis.unsaved = true;\n\t\t} else if (event instanceof ProjectSaved) {\n\t\t\tthis.unsaved = false;\n\t\t} else if (event instanceof ProjectLoaded) {\n\t\t\tthis.unsaved = false;\n\t\t}\n\t}\n}","import { Widget } from \"./Widget\"\nimport { EventBus, Event, LoggedIn, LoggedOut, Debug, Run, Stop, ProjectLoaded, BeforeSaveProject, ProjectSaved, ProjectChanged } from \"./Events\";\nimport { Dialog } from \"./Dialog\";\nimport { Api, Project } from \"../Api\";\nimport { setElementEnabled, escapeHtml, unescapeHtml } from \"../Utils\";\nimport { ProjectPage } from \"../ProjectPage\";\n\nexport enum ToolbarMode {\n\tProjectPage,\n\tUserPage,\n\tIndexPage\n}\n\nexport class Toolbar extends Widget {\n\tmode: ToolbarMode;\n\n\tby: JQuery;\n\tnew: JQuery;\n\tsave: JQuery;\n\ttitle: JQuery;\n\tlogin: JQuery;\n\tsignup: JQuery;\n\tuser: JQuery;\n\tprofile: JQuery;\n\n\tloadedProject: Project;\n\n\tconstructor(bus: EventBus, mode: ToolbarMode) {\n\t\tsuper(bus);\n\t\tthis.mode = mode;\n\t}\n\n\trender(): HTMLElement {\n\t\tlet dom = $(/*html*/`\n\t\t\t<div id=\"pb-toolbar\">\n\t\t\t\t<a href=\"/\" id=\"pb-toolbar-logo\" class=\"pb-toolbar-button\"><span id=\"pb-toolbar-logo-long\">Paperbots</span><span id=\"pb-toolbar-logo-short\">PB</span></a>\n\t\t\t\t<div id=\"pb-toolbar-new\" class=\"pb-toolbar-button\"><i class=\"far fa-file\"></i><span>New</span></div>\n\t\t\t\t<div id=\"pb-toolbar-save\" class=\"pb-toolbar-button\"><i class=\"far fa-save\"></i><span>Save</span></div>\n\t\t\t\t<input id=\"pb-toolbar-title\" type=\"text\" value=\"Untitled project\">\n\t\t\t\t<div id=\"pb-toolbar-by\" class=\"pb-toolbar-button\"></div>\n\t\t\t\t<div style=\"flex: 1;\"></div>\n\t\t\t\t<div id=\"pb-toolbar-login\" class=\"pb-toolbar-button\"><i class=\"far fa-user-circle\"></i><span>Log in</span></div>\n\t\t\t\t<div id=\"pb-toolbar-signup\" class=\"pb-toolbar-button\"><i class=\"fas fa-user-plus\"></i><span>Sign up</span></div>\n\t\t\t\t<div id=\"pb-toolbar-user\" class=\"pb-toolbar-button pb-dropdown\">\n\t\t\t\t\t<div><i class=\"fas fa-user-circle\"></i><span id=\"pb-user-name\"></span></div>\n\t\t\t\t\t<div class=\"pb-dropdown-content\">\n\t\t\t\t\t\t<a id=\"pb-toolbar-profile\"><i class=\"fas fa-project-diagram\"></i>My Projects</a>\n\t\t\t\t\t\t<a id=\"pb-toolbar-logout\"><i class=\"fas fa-sign-out-alt\"></i> Log out</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`);\n\n\t\tthis.by = dom.find(\"#pb-toolbar-by\");\n\n\t\tthis.new = dom.find(\"#pb-toolbar-new\");\n\t\tthis.new.click(() => {\n\t\t\t(window.location as any) = \"/project.html\";\n\t\t});\n\n\t\tthis.save = dom.find(\"#pb-toolbar-save\");\n\t\tthis.save.click(() => {\n\t\t\tthis.saveProject();\n\t\t});\n\n\t\tthis.title = dom.find(\"#pb-toolbar-title\");\n\t\tthis.title.change(() => {\n\t\t\tthis.bus.event(new ProjectChanged());\n\t\t});\n\n\t\tthis.login = dom.find(\"#pb-toolbar-login\");\n\t\tthis.login.click((e) => {\n\t\t\tthis.loginDialog();\n\t\t\te.preventDefault();\n\t\t});\n\n\t\tthis.signup = dom.find(\"#pb-toolbar-signup\");\n\t\tthis.signup.click(() => {\n\t\t\tthis.signupDialog();\n\t\t});\n\t\tthis.user = dom.find(\"#pb-toolbar-user\");\n\t\tvar justClicked = false;\n\t\tthis.user.click(() => {\n\t\t\tjustClicked = true;\n\t\t\t$(\".pb-dropdown-content\").toggle();\n\t\t});\n\t\tthis.profile = dom.find(\"#pb-toolbar-profile\");\n\n\t\tdom.find(\"#pb-toolbar-logout\").click(() => {\n\t\t\tApi.logout(() => { this.bus.event(new LoggedOut()) }, () => { this.serverErrorDialog() });\n\t\t});\n\n\t\tthis.setupLoginAndUser();\n\n\t\twindow.onclick = function (event) {\n\t\t\tif (justClicked) {\n\t\t\t\tjustClicked = false;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!(event.target as any).matches('#pb-toolbar-user')) {\n\t\t\t\tvar dropdowns = document.getElementsByClassName(\"pb-dropdown-content\");\n\t\t\t\tvar i;\n\t\t\t\tfor (i = 0; i < dropdowns.length; i++) {\n\t\t\t\t\t$(dropdowns[i]).hide();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (this.mode == ToolbarMode.UserPage) {\n\t\t\t// Disable everything not needed on the user page\n\t\t\tthis.by.hide();\n\t\t\tthis.save.hide();\n\t\t\tthis.title.hide();\n\t\t} else if (this.mode == ToolbarMode.IndexPage) {\n\t\t\tthis.by.hide();\n\t\t\tthis.save.hide();\n\t\t\tthis.title.hide();\n\t\t} else {\n\t\t\t// CMD + s and CTRL + s for saving\n\t\t\tdocument.addEventListener(\"keydown\", (e) => {\n\t\t\t\tif (e.keyCode == 83 && (navigator.platform.match(\"Mac\") ? e.metaKey : e.ctrlKey)) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tthis.saveProject()\n\t\t\t\t}\n\t\t\t}, false);\n\t\t}\n\n\t\treturn dom[0];\n\t}\n\n\tprivate setupLoginAndUser () {\n\t\tlet userName = Api.getUserName();\n\t\tif (userName) {\n\t\t\tthis.login.hide()\n\t\t\tthis.signup.hide();\n\t\t\tthis.user.find(\"#pb-user-name\").text(userName);\n\t\t\tthis.user.show();\n\t\t\tthis.profile.attr(\"href\", Api.getUserUrl(Api.getUserName()));\n\t\t} else {\n\t\t\tthis.login.show()\n\t\t\tthis.signup.show();\n\t\t\tthis.user.hide();\n\t\t}\n\t}\n\n\tprivate loginDialog (email: string = \"\") {\n\t\tlet content = $(/*html*/`\n\t\t<div style=\"display: flex; flex-direction: column; width: 100%; height: 100%;\">\n\t\t\t<p>Enter your email address or user name below.</p>\n\t\t\t<input id=\"pb-signup-email-or-user\" class=\"pb-input-field\" placeholder=\"Email or username\">\n\t\t\t<div id=\"pb-error\"></div>\n\t\t\t<div id=\"pb-spinner\" class=\"fa-3x\" style=\"text-align: center; margin: 0.5em\"><i class=\"fas fa-spinner fa-pulse\"></i></div>\n\t\t</div>`\n\t\t);\n\t\tlet emailOrUser = content.find(\"#pb-signup-email-or-user\");\n\t\temailOrUser.focus();\n\t\tif (email.length > 0 ) emailOrUser.val(email);\n\t\tlet spinner = content.find(\"#pb-spinner\");\n\t\tspinner.hide()\n\t\tlet error = content.find(\"#pb-error\");\n\t\terror.hide();\n\n\t\tlet dialog = new Dialog(\"Log in\", content[0], [\"Cancel\", \"Log in\"]);\n\t\tdialog.buttons[0].click(() => {\n\t\t\tdialog.hide();\n\t\t});\n\t\tdialog.buttons[1].click(() => {\n\t\t\tApi.login(emailOrUser.val() as string,\n\t\t\t() => {\n\t\t\t\tdialog.hide();\n\t\t\t\tthis.verifyDialog();\n\t\t\t},\n\t\t\t(userDoesNotExist) => {\n\t\t\t\tif (userDoesNotExist) {\n\t\t\t\t\tspinner.hide();\n\t\t\t\t\tdialog.buttons.forEach(button => button.show());\n\t\t\t\t\terror.show();\n\t\t\t\t\terror.html(/*html*/`\n\t\t\t\t\t\t<p class=\"pb-dialog-error\">\n\t\t\t\t\t\t\tSorry, the email/user name you specified does not exist.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t`);\n\t\t\t\t} else {\n\t\t\t\t\tdialog.hide();\n\t\t\t\t\tthis.serverErrorDialog();\n\t\t\t\t}\n\t\t\t});\n\t\t\terror.hide();\n\t\t\tspinner.show();\n\t\t\tdialog.buttons.forEach(button => button.hide());\n\t\t});\n\t\tdialog.show();\n\t}\n\n\tprivate verifyDialog () {\n\t\tlet content = $(/*html*/`\n\t\t<div style=\"display: flex; flex-direction: column; width: 100%; height: 100%;\">\n\t\t\t<p>We have sent you an email with a magic code! Please enter it below.</p>\n\t\t\t<input id=\"pb-signup-code\" class=\"pb-input-field\" style=\"text-align: center;\" placeholder=\"Code\">\n\t\t\t<div id=\"pb-error\"></div>\n\t\t\t<div id=\"pb-spinner\" class=\"fa-3x\" style=\"text-align: center; margin: 0.5em\"><i class=\"fas fa-spinner fa-pulse\"></i></div>\n\t\t</div>`\n\t\t);\n\t\tlet emailOrUser = content.find(\"#pb-signup-code\");\n\t\tlet spinner = content.find(\"#pb-spinner\");\n\t\tspinner.hide()\n\t\tlet error = content.find(\"#pb-error\");\n\t\terror.hide();\n\n\t\tlet dialog = new Dialog(\"Magic code\", content[0], [\"Cancel\", \"Log in\"]);\n\t\tdialog.buttons[0].click(() => {\n\t\t\tdialog.hide();\n\t\t});\n\t\tdialog.buttons[1].click(() => {\n\t\t\tApi.verify(emailOrUser.val() as string,\n\t\t\t() => {\n\t\t\t\tdialog.hide();\n\t\t\t\tthis.bus.event(new LoggedIn());\n\t\t\t},\n\t\t\t(invalidCode) => {\n\t\t\t\tif (invalidCode) {\n\t\t\t\t\tspinner.hide();\n\t\t\t\t\tdialog.buttons.forEach(button => button.show());\n\t\t\t\t\terror.show();\n\t\t\t\t\terror.html(/*html*/`\n\t\t\t\t\t\t<p class=\"pb-dialog-error\">\n\t\t\t\t\t\t\tSorry, the code you entered is incorrect.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t`);\n\t\t\t\t} else {\n\t\t\t\t\tdialog.hide();\n\t\t\t\t\tthis.serverErrorDialog();\n\t\t\t\t}\n\t\t\t});\n\t\t\terror.hide();\n\t\t\tspinner.show();\n\t\t\tdialog.buttons.forEach(button => button.hide());\n\t\t})\n\t\tdialog.show();\n\t}\n\n\tsignupDialog () {\n\t\tlet content = $(/*html*/`\n\t\t<div style=\"display: flex; flex-direction: column; width: 100%; height: 100%;\">\n\t\t\t<p>Enter your email address and user name below.</p>\n\t\t\t<input id=\"pb-signup-email\" class=\"pb-input-field\" placeholder=\"Email\">\n\t\t\t<input id=\"pb-signup-name\" class=\"pb-input-field\" placeholder=\"User name\">\n\t\t\t<p style=\"font-size: 12px\">User names must be between 4 and 25 characters, letters and digits only.</p>\n\t\t\t<div id=\"pb-error\"></div>\n\t\t\t<div id=\"pb-spinner\" class=\"fa-3x\" style=\"text-align: center; margin: 0.5em\"><i class=\"fas fa-spinner fa-pulse\"></i></div>\n\t\t</div>`\n\t\t);\n\t\tlet email = content.find(\"#pb-signup-email\");\n\t\temail.focus();\n\t\tlet name = content.find(\"#pb-signup-name\");\n\t\tlet spinner = content.find(\"#pb-spinner\");\n\t\tspinner.hide()\n\t\tlet error = content.find(\"#pb-error\");\n\t\terror.hide();\n\n\t\tlet dialog = new Dialog(\"Sign up\", content[0], [\"Cancel\", \"Sign up\"]);\n\t\tdialog.buttons[0].click(() => {\n\t\t\tdialog.hide();\n\t\t});\n\t\tdialog.buttons[1].click(() => {\n\t\t\tApi.signup(email.val() as string, name.val() as string,\n\t\t\t() => {\n\t\t\t\tdialog.hide();\n\t\t\t\tthis.verifyDialog();\n\t\t\t},\n\t\t\t(reqError) => {\n\t\t\t\tif (reqError.error == \"InvalidEmailAddress\" || reqError.error == \"InvalidUserName\") {\n\t\t\t\t\tspinner.hide();\n\t\t\t\t\tdialog.buttons.forEach(button => button.show());\n\t\t\t\t\terror.show();\n\t\t\t\t\terror.html(/*html*/`\n\t\t\t\t\t\t<p class=\"pb-dialog-error\">\n\t\t\t\t\t\t\tSorry, the email or user name you specified is invalid.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t`);\n\t\t\t\t} else if (reqError.error == \"UserExists\") {\n\t\t\t\t\tspinner.hide();\n\t\t\t\t\tdialog.buttons.forEach(button => button.show());\n\t\t\t\t\terror.show();\n\t\t\t\t\terror.html(/*html*/`\n\t\t\t\t\t\t<p class=\"pb-dialog-error\">\n\t\t\t\t\t\t\tSorry, that name is not available. Please pick another one.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t`);\n\t\t\t\t} else if (reqError.error == \"EmailExists\") {\n\t\t\t\t\tspinner.hide();\n\t\t\t\t\tdialog.buttons.forEach(button => button.show());\n\t\t\t\t\terror.show();\n\t\t\t\t\tlet content = $(/*html*/`\n\t\t\t\t\t\t<p class=\"pb-dialog-error\">\n\t\t\t\t\t\t\tSorry, that email is already registered. <a id=\"pb-login-link\" style=\"cursor: pointer\">Log in!</a>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t`);\n\t\t\t\t\tcontent.find(\"#pb-login-link\").click(() => {\n\t\t\t\t\t\tdialog.hide();\n\t\t\t\t\t\tthis.loginDialog(email.val() as string);\n\t\t\t\t\t})\n\t\t\t\t\terror.empty();\n\t\t\t\t\terror.append(content[0]);\n\t\t\t\t} else {\n\t\t\t\t\tdialog.hide();\n\t\t\t\t\tthis.serverErrorDialog();\n\t\t\t\t}\n\t\t\t});\n\t\t\terror.hide();\n\t\t\tspinner.show();\n\t\t\tdialog.buttons.forEach(button => button.hide());\n\t\t});\n\t\tdialog.show();\n\t}\n\n\tserverErrorDialog () {\n\t\tDialog.alert(\"Sorry!\", $(/*html*/`<p>We couldn't reach the server. If the problem persists, let us know at <a href=\"mailto:contact@paperbots.com\">contact@paperbots.io</a></p>`));\n\t}\n\n\tsaveProject () {\n\t\tif (!Api.getUserName()) {\n\t\t\tDialog.alert(\"Sorry\", $(`<p>You need to be logged in to save a project.<p>`)).show();\n\t\t\treturn;\n\t\t}\n\n\t\tif ((this.title.val() as string).trim().length == 0) {\n\t\t\tDialog.alert(\"Sorry\", $(`<p>Can not save project without a title<p>`)).show();\n\t\t\treturn;\n\t\t}\n\n\t\tlet internalSave = () => {\n\t\t\tlet content = $(/*html*/`\n\t\t\t<div style=\"display: flex; flex-direction: column; width: 100%; height: 100%;\">\n\t\t\t\t<p>Saving project '${escapeHtml(this.title.val() as string)}', just a second!</p>\n\t\t\t\t<div id=\"pb-spinner\" class=\"fa-3x\" style=\"text-align: center; margin: 0.5em\"><i class=\"fas fa-spinner fa-pulse\"></i></div>\n\t\t\t</div>`\n\t\t\t);\n\t\t\tlet spinner = content.find(\"#pb-spinner\");\n\t\t\tlet dialog = new Dialog(\"Saving\", content[0], []);\n\t\t\tdialog.show();\n\n\t\t\tlet saveProject = new BeforeSaveProject({\n\t\t\t\t// If the project doesn't belong to us, we save a copy\n\t\t\t\t// to our account, so code = null.\n\t\t\t\tcode: this.loadedProject && this.loadedProject.userName == Api.getUserName() ? Api.getProjectId() : null,\n\t\t\t\tcontentObject: {},\n\t\t\t\tcontent: null,\n\t\t\t\tcreated: null,\n\t\t\t\tdescription: \"\",\n\t\t\t\tlastModified: null,\n\t\t\t\tpublic: true,\n\t\t\t\ttitle: this.title.val() as string,\n\t\t\t\tuserName: Api.getUserName(),\n\t\t\t\ttype: \"robot\"\n\t\t\t});\n\n\t\t\t// All other components can now write to contentObject\n\t\t\tthis.bus.event(saveProject);\n\n\t\t\ttry {\n\t\t\t\tsaveProject.project.content = JSON.stringify(saveProject.project.contentObject);\n\t\t\t\tdelete saveProject.project.contentObject;\n\t\t\t} catch (e) {\n\t\t\t\tdialog.hide();\n\t\t\t\tDialog.alert(\"Sorry\", $(`<p>An error occured while saving the project.<p>`)).show();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tApi.saveProject(saveProject.project, (projectCode) => {\n\t\t\t\tif (!this.loadedProject) this.loadedProject = saveProject.project;\n\t\t\t\tthis.loadedProject.code = projectCode;\n\t\t\t\tthis.loadedProject.userName = Api.getUserName();\n\t\t\t\tdialog.hide();\n\t\t\t\thistory.pushState(null, document.title, Api.getProjectUrl(projectCode))\n\t\t\t\tthis.bus.event(new ProjectSaved());\n\t\t\t}, (error) => {\n\t\t\t\tthis.serverErrorDialog();\n\t\t\t\tdialog.hide();\n\t\t\t});\n\t\t}\n\n\t\tif (this.loadedProject && this.loadedProject.userName != Api.getUserName()) {\n\t\t\tDialog.confirm(\"Copy?\", $(`<div><p>The project you want to save belongs to <a target=\"_blank\" href=\"${Api.getUserUrl(this.loadedProject.userName)}\">${this.loadedProject.userName}</a>.</p><p>Do you want to make a copy and store it in your account?</p></div>`), () => {\n\t\t\t\tinternalSave();\n\t\t\t}).show();\n\t\t} else {\n\t\t\tinternalSave();\n\t\t}\n\t}\n\n\tonEvent(event: Event) {\n\t\tif (event instanceof LoggedIn || event instanceof LoggedOut) {\n\t\t\tthis.setupLoginAndUser();\n\t\t} else if(event instanceof Run || event instanceof Debug) {\n\t\t\tsetElementEnabled(this.save, false);\n\t\t\tsetElementEnabled(this.new, false);\n\t\t\tsetElementEnabled(this.title, false);\n\t\t} else if (event instanceof Stop) {\n\t\t\tsetElementEnabled(this.save, true);\n\t\t\tsetElementEnabled(this.new, true);\n\t\t\tsetElementEnabled(this.title, true);\n\t\t} else if (event instanceof ProjectLoaded) {\n\t\t\tthis.loadedProject = event.project;\n\t\t\tthis.title.val(unescapeHtml(event.project.title));\n\t\t\tif (this.loadedProject.userName != Api.getUserName()) {\n\t\t\t\tthis.by.html(/*html*/`\n\t\t\t\t\t<span>by </span><a href=\"${Api.getUserUrl(this.loadedProject.userName)}\">${this.loadedProject.userName}</a>\n\t\t\t\t`);\n\t\t\t} else {\n\t\t\t\tthis.by.html(\"\");\n\t\t\t}\n\t\t} else if (event instanceof ProjectSaved) {\n\t\t\tthis.by.hide();\n\t\t}\n\t}\n}","import { Widget } from \"./Widget\";\nimport { Event, EventBus, ProjectLoaded, AnnounceExternalFunctions, Run, Stop } from \"./Events\";\nimport { RobotWorld } from \"./RobotWorld\";\nimport { Api, Project } from \"../Api\";\nimport { compile, ExternalFunctions } from \"../language/Compiler\";\nimport { VirtualMachine, VirtualMachineState } from \"../language/VirtualMachine\";\n\nexport class Player extends Widget {\n\tprivate world: RobotWorld;\n\tprivate extFuncs: ExternalFunctions;\n\tprivate vm: VirtualMachine = null;\n\n\tconstructor(private project: Project, private autoplay = false, private showSourceLink = false, bus: EventBus = new EventBus()) {\n\t\tsuper(bus);\n\t\tthis.world = new RobotWorld(bus, true);\n\t}\n\n\trender(): HTMLElement {\n\t\tthis.bus.addListener(this);\n\t\tthis.bus.addListener(this.world);\n\n\t\tlet dom = $(/*html*/`\n\t\t\t<div class=\"pb-player-widget\">\n\t\t\t\t<div id=\"pb-player-buttons\">\n\t\t\t\t\t<div id=\"pb-player-run\" class=\"pb-debugger-run-icon pb-debugger-button\"></div>\n\t\t\t\t\t<div id=\"pb-player-stop\" class=\"pb-debugger-stop-icon pb-debugger-button\"></div>\n\t\t\t\t\t<a id=\"pb-player-source\" href=\"\"><i class=\"fas fa-code\"></i> Source</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`);\n\t\tdom.append(this.world.render());\n\n\t\tif (this.showSourceLink) {\n\t\t\tdom.find(\"#pb-player-source\").attr(\"href\", \"/project.html?id=\" + this.project.code);\n\t\t} else {\n\t\t\tdom.find(\"#pb-player-source\").hide();\n\t\t}\n\n\t\tlet advanceVm = () => {\n\t\t\tthis.vm.run(1000);\n\t\t\tif (this.vm.state != VirtualMachineState.Completed) {\n\t\t\t\trequestAnimationFrame(advanceVm);\n\t\t\t} else {\n\t\t\t\tthis.bus.event(new Stop());\n\t\t\t\tthis.vm.restart();\n\t\t\t\tthis.vm.state = VirtualMachineState.Completed;\n\t\t\t\tstop.hide();\n\t\t\t\trun.show();\n\t\t\t}\n\t\t};\n\n\t\tlet run = dom.find(\"#pb-player-run\");\n\t\trun.click(() => {\n\t\t\tthis.bus.event(new Run());\n\t\t\tstop.show();\n\t\t\trun.hide();\n\t\t\tthis.vm.restart()\n\t\t\tadvanceVm();\n\t\t})\n\n\t\tlet stop = dom.find(\"#pb-player-stop\");\n\t\tstop.hide();\n\t\tstop.click(() => {\n\t\t\tthis.bus.event(new Stop());\n\t\t\tthis.vm.restart();\n\t\t\tthis.vm.state = VirtualMachineState.Completed;\n\t\t\tstop.hide();\n\t\t\trun.show();\n\t\t});\n\n\t\ttry {\n\t\t\tlet module = compile((this.project.contentObject as any).code, this.extFuncs);\n\t\t\tthis.vm = new VirtualMachine(module.functions, module.externalFunctions);\n\t\t\tthis.bus.event(new ProjectLoaded(this.project));\n\t\t\tif (this.autoplay) run.click();\n\t\t} catch(e) {\n\t\t\trun.hide();\n\t\t\tstop.hide();\n\t\t}\n\n\t\treturn dom[0];\n\t}\n\tonEvent(event: Event) {\n\t\tif (event instanceof AnnounceExternalFunctions) {\n\t\t\tthis.extFuncs = event.functions;\n\t\t}\n\t}\n}","import { Widget } from \"./Widget\";\nimport { Event, EventBus, ProjectLoaded, AnnounceExternalFunctions, Run, Stop } from \"./Events\";\nimport { RobotWorld } from \"./RobotWorld\";\nimport { Api, Project } from \"../Api\";\nimport { compile, ExternalFunctions } from \"../language/Compiler\";\nimport { VirtualMachine, VirtualMachineState } from \"../language/VirtualMachine\";\n\nexport class ProjectPreview extends Widget {\n\tprivate world: RobotWorld;\n\n\tconstructor(private project: Project) {\n\t\tsuper(new EventBus());\n\t\tthis.world = new RobotWorld(this.bus, true);\n\t\tthis.world.setWorldData(project.contentObject.world);\n\t}\n\n\trender(): HTMLElement {\n\t\tthis.bus.addListener(this);\n\t\tthis.bus.addListener(this.world);\n\n\t\tlet dom = $(/*html*/`\n\t\t\t<div class=\"pb-preview-widget\">\n\t\t\t</div>\n\t\t`);\n\t\tdom.append(this.world.render());\n\t\treturn dom[0];\n\t}\n\n\tonEvent(event: Event) {\n\t}\n}","import { EventBus, EventListener, Event } from \"./widgets/Events\"\nimport { Toolbar, ToolbarMode } from \"./widgets/Toolbar\";\nimport { Api, Project } from \"./Api\";\nimport { Dialog } from \"./widgets/Dialog\";\nimport { Player } from \"./widgets/Player\";\nimport { ProjectPreview } from \"./widgets/ProjectPreview\";\n\nexport class DevsPage implements EventListener {\n\tprivate eventBus = new EventBus();\n\tprivate toolbar = new Toolbar(this.eventBus, ToolbarMode.UserPage);\n\n\tconstructor (parent: HTMLElement) {\n\t\t// Register the components\n\t\tthis.eventBus.addListener(this);\n\t\tthis.eventBus.addListener(this.toolbar);\n\n\t\t// Add the toolbar to the parent directly\n\t\t$(this.toolbar.render()).insertBefore($(parent).find(\"#pb-devs-page\"));\n\t}\n\n\tonEvent(event: Event) {\n\t}\n}","import { EventBus, EventListener, Event, SourceChanged } from \"./widgets/Events\"\nimport { Player } from \"./widgets/Player\"\nimport { Api } from \"./Api\";\nimport { Dialog } from \"./widgets/Dialog\";\n\nexport class EmbeddedPage {\n\tconstructor(parent: JQuery) {\n\t\tlet dom = $(/*html*/`\n\t\t\t<div id=\"pb-embed-page\">\n\t\t\t</div>\n\t\t`);\n\n\t\tApi.loadProject(Api.getProjectId(), project => {\n\t\t\tdom.append(new Player(project).render());\n\t\t}, () => {\n\t\t\tDialog.alert(\"Sorry\", $(`Could not load project ${Api.getProjectId()}`));\n\t\t})\n\t\tparent.append(dom);\n\t}\n}","import { EventBus, EventListener, Event } from \"./widgets/Events\"\nimport { Toolbar, ToolbarMode } from \"./widgets/Toolbar\";\nimport { Api, Project } from \"./Api\";\nimport { Dialog } from \"./widgets/Dialog\";\nimport { Player } from \"./widgets/Player\";\nimport { ProjectPreview } from \"./widgets/ProjectPreview\";\n\nexport class IndexPage implements EventListener {\n\tprivate eventBus = new EventBus();\n\tprivate toolbar = new Toolbar(this.eventBus, ToolbarMode.UserPage);\n\n\tconstructor (parent: HTMLElement) {\n\t\t// Register the components\n\t\tthis.eventBus.addListener(this);\n\t\tthis.eventBus.addListener(this.toolbar);\n\t\tthis.eventBus.addListener(this)\n\n\t\t// Add the toolbar to the parent directly\n\t\tparent.append(this.toolbar.render());\n\n\t\t// Render the components\n\t\tlet dom = $(/*html*/ `\n\t\t\t<div id=\"pb-index-page\">\n\t\t\t\t<img style=\"display: inline-block; margin-top: 2em;\" width=\"390px\" height=\"200px\" src=\"img/paperbots.svg\">\n\t\t\t\t<h1 style=\"text-align: center\">Want to learn how to code?</h1>\n\t\t\t\t<div style=\"margin-bottom: 2em;\">\n\t\t\t\t\t<a class=\"pb-button\" href=\"/learn.html\">Teach me how to code</a>\n\t\t\t\t\t<a class=\"pb-button\" href=\"/devs.html\">I am a programmer</a>\n\t\t\t\t</div>\n\t\t\t\t<div id=\"pb-index-page-example\"></div>\n\t\t\t\t<div class=\"pb-page-section\">\n\t\t\t\t\t<h1>What is Paperbots?</h1>\n\n\t\t\t\t\t<p>Paperbots lets you write different types of programs, from\n\t\t\t\t\t\tinstructions for a robot, to games and interactive art. Best of\n\t\t\t\t\t\tall: you can share your programs with your friends!</p>\n\n\t\t\t\t\t<p>If you do not yet know how to program, the <a href=\"/learn.html\">Paperbots course</a>\n\t\t\t\t\t\twill teach you all you need to know.</p>\n\n\t\t\t\t\t<p>Are you a seasoned programmer? Great! Read the <a href=\"/for-devs.html\">language documentation</a>, then create interesting programs\n\t\t\t\t\t\tothers can remix and learn from.</p>\n\t\t\t\t</div>\n\t\t\t\t<h1>Featured projects</h1>\n\t\t\t\t<div class=\"pb-index-page-featured\">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`);\n\n\t\tApi.loadProject(\"IgMlfr\", project => {\n\t\t\tdom.find(\"#pb-index-page-example\").append(new Player(project, true, true).render());\n\t\t}, () => {});\n\n\t\t$(parent).append(dom);\n\n\t\t// Migration for old URLs\n\t\tlet projectId = Api.getUrlParameter(\"projectId\")\n\t\tif (projectId) {\n\t\t\t(window.location as any) = `/project.html?id=${projectId}`;\n\t\t}\n\n\t\t// TODO once this page is implemented\n\t\t// stop redirecting.\n\t\t// (window.location as any) = \"/project.html\"\n\n\t\tApi.getFeaturedProjects((projects) => {\n\t\t\tlet featured = dom.find(\".pb-index-page-featured\");\n\t\t\tprojects.forEach(project => {\n\t\t\t\tlet card = $(/*html*/`\n\t\t\t\t\t<div class=\"pb-featured-card\">\n\t\t\t\t\t\t<div class=\"pb-featured-card-player\"></div>\n\t\t\t\t\t\t<a class=\"pb-featured-card-title\" href=\"${Api.getProjectUrl(project.code)}\">${project.title}</a>\n\t\t\t\t\t\t<div><span>by </span><a href=\"${Api.getUserUrl(project.userName)}\">${project.userName}</a></div>\n\t\t\t\t\t</div>\n\t\t\t\t`);\n\t\t\t\tcard.find(\".pb-featured-card-player\").append(new Player(project, false, false).render());\n\t\t\t\tfeatured.append(card)\n\t\t\t});\n\t\t}, () => {\n\t\t\tDialog.alert(\"Sorry\", $(\"Couldn't get the featured projects from the server. If this problem persists\"));\n\t\t});\n\t}\n\n\tonEvent(event: Event) {\n\t}\n}","import { EventBus, EventListener, Event } from \"./widgets/Events\"\nimport { Toolbar, ToolbarMode } from \"./widgets/Toolbar\";\nimport { Api, Project } from \"./Api\";\nimport { Dialog } from \"./widgets/Dialog\";\nimport { Player } from \"./widgets/Player\";\nimport { ProjectPreview } from \"./widgets/ProjectPreview\";\n\nexport class LearnPage implements EventListener {\n\tprivate eventBus = new EventBus();\n\tprivate toolbar = new Toolbar(this.eventBus, ToolbarMode.UserPage);\n\n\tconstructor (parent: HTMLElement) {\n\t\t// Register the components\n\t\tthis.eventBus.addListener(this);\n\t\tthis.eventBus.addListener(this.toolbar);\n\t\tthis.eventBus.addListener(this)\n\n\t\t// Add the toolbar to the parent directly\n\t\tparent.append(this.toolbar.render());\n\n\t\t// Render the components\n\t\tlet dom = $(/*html*/ `\n\t\t\t<div id=\"pb-learn-page\">\n\t\t\t\t<img style=\"display: inline-block; margin-top: 2em;\" height=\"200px\" src=\"img/paperbots.svg\">\n\t\t\t\t<div class=\"pb-page-section\">\n\t\t\t\t\t<h1>What is Paperbots?</h1>\n\n\t\t\t\t\t<p>Paperbots lets you write different types of programs, from\n\t\t\t\t\t\tinstructions for a robot, to games and interactive art. Best of\n\t\t\t\t\t\tall: you can share them with your friends, and they can share\n\t\t\t\t\t\ttheir programs with you!</p>\n\n\t\t\t\t\t<p>If you do not yet know how to program, the Paperbots course\n\t\t\t\t\t\twill teach you all you need to know.</p>\n\n\t\t\t\t\t<p>Are you a seasoned programmer? Great! Create interesting programs\n\t\t\t\t\t\tso others can learn and remix them. <code>ests</code></p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`);\n\n\t\t$(parent).append(dom);\n\t}\n\n\tonEvent(event: Event) {\n\t}\n}","import { EventBus, EventListener, Event } from \"./widgets/Events\"\nimport { Toolbar, ToolbarMode } from \"./widgets/Toolbar\";\nimport { Api, Project } from \"./Api\";\nimport { Dialog } from \"./widgets/Dialog\";\nimport { ProjectPreview } from \"./widgets/ProjectPreview\";\nimport { Player } from \"./widgets/Player\";\n\nexport class UserPage implements EventListener {\n\tprivate eventBus = new EventBus();\n\tprivate toolbar = new Toolbar(this.eventBus, ToolbarMode.UserPage);\n\n\tconstructor (parent: HTMLElement) {\n\t\t// Register the components\n\t\tthis.eventBus.addListener(this);\n\t\tthis.eventBus.addListener(this.toolbar);\n\n\t\t// Add the toolbar at the top of the page\n\t\tparent.append(this.toolbar.render());\n\n\t\t// Render the components\n\t\tlet dom = $(/*html*/ `\n\t\t\t<div id=\"pb-user-page\">\n\t\t\t</div>\n\t\t`);\n\t\t$(parent).append(dom);\n\n\t\t// Check if we got a user id, and if so, load that users\n\t\t// projects. The id is the user name.\n\t\tvar userId = Api.getUserId();\n\t\tif (!userId) {\n\t\t\tlet dialog = Dialog.alert(\"Sorry\", $(`<p>This user doesn't exist.</p>`));\n\t\t\tdialog.buttons[0].click(() => {\n\t\t\t\t(window.location as any) = \"/\";\n\t\t\t})\n\t\t\tdialog.show();\n\t\t} else {\n\t\t\tApi.getUserProjects(userId, true,\n\t\t\t\t(projects) => {\n\t\t\t\t\tthis.renderUser(dom, userId, projects);\n\t\t\t\t}, (error) => {\n\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t}\n\n\trenderUser(dom: JQuery, userId: string, projects: Project[]) {\n\t\tlet projectsDom = ($(/*html*/`\n\t\t\t<div class=\"pb-page-section\">\n\t\t\t\t<h1>${userId}'s projects</h1>\n\t\t\t\t<div class=\"pb-project-list\">\n\t\t\t\t\t<div class=\"pb-project-list-sort\">\n\t\t\t\t\t\t<span>Sort by:</span>\n\t\t\t\t\t\t<select>\n\t\t\t\t\t\t\t<option value=\"lastmodified\">Last modified</option>\n\t\t\t\t\t\t\t<option value=\"newest\">Newest</option>\n\t\t\t\t\t\t\t<option value=\"oldest\">Oldest</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`));\n\n\t\tprojects.forEach(project => {\n\t\t\tlet projectDom = $(/*html*/`\n\t\t\t\t<div class=\"pb-project-list-item\">\n\t\t\t\t</div>\n\t\t\t`);\n\t\t\ttry {\n\t\t\t\tproject.contentObject = JSON.parse(project.content);\n\t\t\t\tlet preview = new Player(project, false, false).render()\n\t\t\t\tprojectDom.append(preview);\n\t\t\t\tprojectDom.append(/*html*/`\n\t\t\t\t\t<div class=\"pb-project-list-item-description\">\n\t\t\t\t\t\t<h3><a href=\"${Api.getProjectUrl(project.code)}\">${project.title}</a></h3>\n\t\t\t\t\t\t<table>\n\t\t\t\t\t\t\t<tr><td>Created:</td><td>${project.created}</td></tr>\n\t\t\t\t\t\t\t<tr><td>Last modified:</td><td>${project.lastModified}</td></tr>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</div>\n\t\t\t\t`);\n\t\t\t\tif (project.userName == Api.getUserName()) {\n\t\t\t\t\tlet deleteButton = $(/*html*/`<i class=\"pb-project-list-item-delete fas fa-trash-alt\"></i>`);\n\t\t\t\t\tprojectDom.append(deleteButton);\n\t\t\t\t\tdeleteButton.click(() => {\n\t\t\t\t\t\tDialog.confirm(\"Delete project\", $(`<p>Are you sure you want to delete project '${project.title}'?</p>`), () => {\n\t\t\t\t\t\t\tApi.deleteProject(project.code, () => {\n\t\t\t\t\t\t\t\tprojectDom.fadeOut(1000);\n\t\t\t\t\t\t\t}, () => {\n\t\t\t\t\t\t\t\tDialog.alert(\"Sorry\", $(`<p>Could not delete project '${project.title}'.</p>`));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}).show();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tprojectDom.appendTo(projectsDom);\n\t\t\t\t(projectDom[0] as any).project = project;\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(\"Couldn't load world data for project \" + project.code + \".\");\n\t\t\t}\n\t\t})\n\n\t\tprojectsDom.find(\".pb-project-list-sort > select\").on(\"change\", function() {\n\t\t\tlet sort;\n\t\t\tlet selected = $(this).val();\n\t\t\tlet projects = projectsDom.find(\".pb-project-list-item\")\n\t\t\tprojects.detach();\n\t\t\tprojects.toArray().sort((a, b) => {\n\t\t\t\tlet projectA = (a as any).project as Project;\n\t\t\t\tlet projectB = (b as any).project as Project;\n\n\t\t\t\tif (selected == \"newest\") {\n\t\t\t\t\treturn projectA.created > projectB.created ? -1 : 1;\n\t\t\t\t} else if  (selected == \"oldest\") {\n\t\t\t\t\treturn projectA.created < projectB.created ? -1 : -1;\n\t\t\t\t} else if (selected == \"lastmodified\") {\n\t\t\t\t\treturn projectA.lastModified > projectB.lastModified ? -1 : 1;\n\t\t\t\t} else {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t}).forEach(project => {\n\t\t\t\tprojectsDom.append(project);\n\t\t\t});\n\n\t\t});\n\n\t\tdom.append(projectsDom);\n\t}\n\n\tonEvent(event: Event) {\n\t}\n}","\nexport class TreeWidgetTest {\n\tconstructor(parent: HTMLElement) {\n\t\t$(parent).append()\n\t}\n}","export class TreeWidgetNode {\n\tconstructor() {}\n}\n\nexport class TreeWidget {\n\n}"]}